begin_unit
comment|'# Copyright (c) 2009 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nTests for L{twisted.lore.docbook}.\n"""'
newline|'\n'
nl|'\n'
name|'from'
name|'xml'
op|'.'
name|'dom'
op|'.'
name|'minidom'
name|'import'
name|'Element'
op|','
name|'Text'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'trial'
op|'.'
name|'unittest'
name|'import'
name|'TestCase'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'lore'
op|'.'
name|'docbook'
name|'import'
name|'DocbookSpitter'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|DocbookSpitterTests
name|'class'
name|'DocbookSpitterTests'
op|'('
name|'TestCase'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    Tests for L{twisted.lore.docbook.DocbookSpitter}.\n    """'
newline|'\n'
DECL|member|test_li
name|'def'
name|'test_li'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        L{DocbookSpitter} wraps any non-I{p} elements found intside any I{li}\n        elements with I{p} elements.\n        """'
newline|'\n'
name|'output'
op|'='
op|'['
op|']'
newline|'\n'
name|'spitter'
op|'='
name|'DocbookSpitter'
op|'('
name|'output'
op|'.'
name|'append'
op|')'
newline|'\n'
nl|'\n'
name|'li'
op|'='
name|'Element'
op|'('
string|"'li'"
op|')'
newline|'\n'
name|'li'
op|'.'
name|'appendChild'
op|'('
name|'Element'
op|'('
string|"'p'"
op|')'
op|')'
newline|'\n'
name|'text'
op|'='
name|'Text'
op|'('
op|')'
newline|'\n'
name|'text'
op|'.'
name|'data'
op|'='
string|"'foo bar'"
newline|'\n'
name|'li'
op|'.'
name|'appendChild'
op|'('
name|'text'
op|')'
newline|'\n'
nl|'\n'
name|'spitter'
op|'.'
name|'visitNode'
op|'('
name|'li'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
nl|'\n'
string|"''"
op|'.'
name|'join'
op|'('
name|'output'
op|')'
op|','
nl|'\n'
string|"'<listitem><para></para><para>foo bar</para></listitem>'"
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
