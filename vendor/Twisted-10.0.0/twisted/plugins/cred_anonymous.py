begin_unit
comment|'# -*- test-case-name: twisted.test.test_strcred -*-'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Copyright (c) 2007-2008 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nCred plugin for anonymous logins.\n"""'
newline|'\n'
nl|'\n'
name|'from'
name|'zope'
op|'.'
name|'interface'
name|'import'
name|'implements'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
name|'import'
name|'plugin'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'cred'
op|'.'
name|'checkers'
name|'import'
name|'AllowAnonymousAccess'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'cred'
op|'.'
name|'strcred'
name|'import'
name|'ICheckerFactory'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'cred'
op|'.'
name|'credentials'
name|'import'
name|'IAnonymous'
newline|'\n'
nl|'\n'
nl|'\n'
name|'anonymousCheckerFactoryHelp'
op|'='
string|'"""\nThis allows anonymous authentication for servers that support it.\n"""'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|AnonymousCheckerFactory
name|'class'
name|'AnonymousCheckerFactory'
op|'('
name|'object'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    Generates checkers that will authenticate an anonymous request.\n    """'
newline|'\n'
name|'implements'
op|'('
name|'ICheckerFactory'
op|','
name|'plugin'
op|'.'
name|'IPlugin'
op|')'
newline|'\n'
DECL|variable|authType
name|'authType'
op|'='
string|"'anonymous'"
newline|'\n'
DECL|variable|authHelp
name|'authHelp'
op|'='
name|'anonymousCheckerFactoryHelp'
newline|'\n'
DECL|variable|argStringFormat
name|'argStringFormat'
op|'='
string|"'No argstring required.'"
newline|'\n'
DECL|variable|credentialInterfaces
name|'credentialInterfaces'
op|'='
op|'('
name|'IAnonymous'
op|','
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|generateChecker
name|'def'
name|'generateChecker'
op|'('
name|'self'
op|','
name|'argstring'
op|'='
string|"''"
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'AllowAnonymousAccess'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
nl|'\n'
DECL|variable|theAnonymousCheckerFactory
dedent|''
dedent|''
name|'theAnonymousCheckerFactory'
op|'='
name|'AnonymousCheckerFactory'
op|'('
op|')'
newline|'\n'
nl|'\n'
endmarker|''
end_unit
