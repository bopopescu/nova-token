begin_unit
comment|'# Copyright (c) 2006 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nBackwards-compatibility plugin for the Qt reactor.\n\nThis provides a Qt reactor plugin named C{qt} which emits a deprecation\nwarning and a pointer to the separately distributed Qt reactor plugins.\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'warnings'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'application'
op|'.'
name|'reactors'
name|'import'
name|'Reactor'
op|','
name|'NoSuchReactor'
newline|'\n'
nl|'\n'
DECL|variable|wikiURL
name|'wikiURL'
op|'='
string|"'http://twistedmatrix.com/trac/wiki/QTReactor'"
newline|'\n'
DECL|variable|errorMessage
name|'errorMessage'
op|'='
op|'('
string|"'qtreactor is no longer a part of Twisted due to licensing '"
nl|'\n'
string|"'issues. Please see %s for details.'"
op|'%'
op|'('
name|'wikiURL'
op|','
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|class|QTStub
name|'class'
name|'QTStub'
op|'('
name|'Reactor'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    Reactor plugin which emits a deprecation warning on the successful\n    installation of its reactor or a pointer to further information if an\n    ImportError occurs while attempting to install it.\n    """'
newline|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'super'
op|'('
name|'QTStub'
op|','
name|'self'
op|')'
op|'.'
name|'__init__'
op|'('
nl|'\n'
string|"'qt'"
op|','
string|"'qtreactor'"
op|','
string|"'QT integration reactor'"
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|install
dedent|''
name|'def'
name|'install'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Install the Qt reactor with a deprecation warning or try to point\n        the user to further information if it cannot be installed.\n        """'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'super'
op|'('
name|'QTStub'
op|','
name|'self'
op|')'
op|'.'
name|'install'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
op|'('
name|'ValueError'
op|','
name|'ImportError'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'NoSuchReactor'
op|'('
name|'errorMessage'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'warnings'
op|'.'
name|'warn'
op|'('
nl|'\n'
string|'"Please use -r qt3 to import qtreactor"'
op|','
nl|'\n'
name|'category'
op|'='
name|'DeprecationWarning'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|variable|qt
dedent|''
dedent|''
dedent|''
name|'qt'
op|'='
name|'QTStub'
op|'('
op|')'
newline|'\n'
endmarker|''
end_unit
