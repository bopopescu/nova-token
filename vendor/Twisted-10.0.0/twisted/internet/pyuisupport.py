begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
nl|'\n'
string|'"""\nThis module integrates PyUI with twisted.internet\'s mainloop.\n\nMaintainer: Jp Calderone\n\nSee doc/examples/pyuidemo.py for example usage.\n"""'
newline|'\n'
nl|'\n'
comment|'# System imports'
nl|'\n'
name|'import'
name|'pyui'
newline|'\n'
nl|'\n'
DECL|function|_guiUpdate
name|'def'
name|'_guiUpdate'
op|'('
name|'reactor'
op|','
name|'delay'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'pyui'
op|'.'
name|'draw'
op|'('
op|')'
newline|'\n'
name|'if'
name|'pyui'
op|'.'
name|'update'
op|'('
op|')'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'        '
name|'pyui'
op|'.'
name|'quit'
op|'('
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'stop'
op|'('
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'        '
name|'reactor'
op|'.'
name|'callLater'
op|'('
name|'delay'
op|','
name|'_guiUpdate'
op|','
name|'reactor'
op|','
name|'delay'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|install
dedent|''
dedent|''
name|'def'
name|'install'
op|'('
name|'ms'
op|'='
number|'10'
op|','
name|'reactor'
op|'='
name|'None'
op|','
name|'args'
op|'='
op|'('
op|')'
op|','
name|'kw'
op|'='
op|'{'
op|'}'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    Schedule PyUI\'s display to be updated approximately every C{ms}\n    milliseconds, and initialize PyUI with the specified arguments.\n    """'
newline|'\n'
name|'d'
op|'='
name|'pyui'
op|'.'
name|'init'
op|'('
op|'*'
name|'args'
op|','
op|'**'
name|'kw'
op|')'
newline|'\n'
nl|'\n'
name|'if'
name|'reactor'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'        '
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'reactor'
newline|'\n'
dedent|''
name|'_guiUpdate'
op|'('
name|'reactor'
op|','
name|'ms'
op|'/'
number|'1000.0'
op|')'
newline|'\n'
name|'return'
name|'d'
newline|'\n'
nl|'\n'
DECL|variable|__all__
dedent|''
name|'__all__'
op|'='
op|'['
string|'"install"'
op|']'
newline|'\n'
endmarker|''
end_unit
