begin_unit
comment|'# -*- test-case-name: twisted.test.test_app -*-'
nl|'\n'
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
nl|'\n'
string|'"""Backwards compatability, and utility functions.\n\nIn general, this module should not be used, other than by reactor authors\nwho need to use the \'installReactor\' method.\n\nMaintainer: Itamar Shtull-Trauring\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'error'
newline|'\n'
nl|'\n'
DECL|variable|CONNECTION_DONE
name|'CONNECTION_DONE'
op|'='
name|'error'
op|'.'
name|'ConnectionDone'
op|'('
string|"'Connection done'"
op|')'
newline|'\n'
DECL|variable|CONNECTION_LOST
name|'CONNECTION_LOST'
op|'='
name|'error'
op|'.'
name|'ConnectionLost'
op|'('
string|"'Connection lost'"
op|')'
newline|'\n'
nl|'\n'
DECL|function|installReactor
name|'def'
name|'installReactor'
op|'('
name|'reactor'
op|')'
op|':'
newline|'\n'
comment|'# this stuff should be common to all reactors.'
nl|'\n'
indent|'    '
name|'import'
name|'twisted'
op|'.'
name|'internet'
newline|'\n'
name|'import'
name|'sys'
newline|'\n'
name|'assert'
name|'not'
name|'sys'
op|'.'
name|'modules'
op|'.'
name|'has_key'
op|'('
string|"'twisted.internet.reactor'"
op|')'
op|','
string|'"reactor already installed"'
newline|'\n'
name|'twisted'
op|'.'
name|'internet'
op|'.'
name|'reactor'
op|'='
name|'reactor'
newline|'\n'
name|'sys'
op|'.'
name|'modules'
op|'['
string|"'twisted.internet.reactor'"
op|']'
op|'='
name|'reactor'
newline|'\n'
nl|'\n'
DECL|variable|__all__
dedent|''
name|'__all__'
op|'='
op|'['
string|'"CONNECTION_LOST"'
op|','
string|'"CONNECTION_DONE"'
op|','
string|'"installReactor"'
op|']'
newline|'\n'
endmarker|''
end_unit
