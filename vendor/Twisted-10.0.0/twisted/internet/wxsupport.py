begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
comment|'# '
nl|'\n'
string|'"""Old method of wxPython support for Twisted.\n\ntwisted.internet.wxreactor is probably a better choice.\n\nTo use::\n\n    | # given a wxApp instance called myWxAppInstance:\n    | from twisted.internet import wxsupport\n    | wxsupport.install(myWxAppInstance)\n    \nUse Twisted\'s APIs for running and stopping the event loop, don\'t use\nwxPython\'s methods.\n\nOn Windows the Twisted event loop might block when dialogs are open\nor menus are selected.\n\nMaintainer: Itamar Shtull-Trauring\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'warnings'
newline|'\n'
name|'warnings'
op|'.'
name|'warn'
op|'('
string|'"wxsupport is not fully functional on Windows, wxreactor is better."'
op|')'
newline|'\n'
nl|'\n'
comment|'# wxPython imports'
nl|'\n'
name|'from'
name|'wxPython'
op|'.'
name|'wx'
name|'import'
name|'wxApp'
newline|'\n'
nl|'\n'
comment|'# twisted imports'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'reactor'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
op|'.'
name|'runtime'
name|'import'
name|'platformType'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|wxRunner
name|'class'
name|'wxRunner'
op|':'
newline|'\n'
indent|'    '
string|'"""Make sure GUI events are handled."""'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'app'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'app'
op|'='
name|'app'
newline|'\n'
nl|'\n'
DECL|member|run
dedent|''
name|'def'
name|'run'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Execute pending WX events followed by WX idle events and\n        reschedule.\n        """'
newline|'\n'
comment|'# run wx events'
nl|'\n'
name|'while'
name|'self'
op|'.'
name|'app'
op|'.'
name|'Pending'
op|'('
op|')'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'app'
op|'.'
name|'Dispatch'
op|'('
op|')'
newline|'\n'
nl|'\n'
comment|'# run wx idle events'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'app'
op|'.'
name|'ProcessIdle'
op|'('
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'callLater'
op|'('
number|'0.02'
op|','
name|'self'
op|'.'
name|'run'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|install
dedent|''
dedent|''
name|'def'
name|'install'
op|'('
name|'app'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""Install the wxPython support, given a wxApp instance"""'
newline|'\n'
name|'runner'
op|'='
name|'wxRunner'
op|'('
name|'app'
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'callLater'
op|'('
number|'0.02'
op|','
name|'runner'
op|'.'
name|'run'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|variable|__all__
dedent|''
name|'__all__'
op|'='
op|'['
string|'"install"'
op|']'
newline|'\n'
endmarker|''
end_unit
