begin_unit
comment|'# Copyright (c) 2001-2009 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nA basic ASN.1 parser.  Deprecated since Twisted 9.0 in favor of PyASN1.\n\nMaintainer: Paul Swartz\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'itertools'
newline|'\n'
name|'from'
name|'pyasn1'
op|'.'
name|'type'
name|'import'
name|'univ'
newline|'\n'
name|'from'
name|'pyasn1'
op|'.'
name|'codec'
op|'.'
name|'ber'
name|'import'
name|'decoder'
op|','
name|'encoder'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
op|'.'
name|'deprecate'
name|'import'
name|'deprecated'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
name|'import'
name|'versions'
newline|'\n'
nl|'\n'
DECL|variable|Twisted9point0
name|'Twisted9point0'
op|'='
name|'versions'
op|'.'
name|'Version'
op|'('
string|"'Twisted'"
op|','
number|'9'
op|','
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
DECL|function|parse
name|'def'
name|'parse'
op|'('
name|'data'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'return'
name|'decoder'
op|'.'
name|'decode'
op|'('
name|'data'
op|')'
op|'['
number|'0'
op|']'
newline|'\n'
nl|'\n'
DECL|variable|parse
dedent|''
name|'parse'
op|'='
name|'deprecated'
op|'('
name|'Twisted9point0'
op|')'
op|'('
name|'parse'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|pack
name|'def'
name|'pack'
op|'('
name|'data'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'asn1Sequence'
op|'='
name|'univ'
op|'.'
name|'Sequence'
op|'('
op|')'
newline|'\n'
name|'for'
name|'index'
op|','
name|'value'
name|'in'
name|'itertools'
op|'.'
name|'izip'
op|'('
name|'itertools'
op|'.'
name|'count'
op|'('
op|')'
op|','
name|'data'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'valueAsInteger'
op|'='
name|'univ'
op|'.'
name|'Integer'
op|'('
name|'value'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'TypeError'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'ValueError'
op|'('
string|'"cannot pack %r"'
op|'%'
op|'('
name|'value'
op|','
op|')'
op|')'
newline|'\n'
dedent|''
name|'asn1Sequence'
op|'.'
name|'setComponentByPosition'
op|'('
name|'index'
op|','
name|'univ'
op|'.'
name|'Integer'
op|'('
name|'value'
op|')'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'encoder'
op|'.'
name|'encode'
op|'('
name|'asn1Sequence'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|pack
dedent|''
name|'pack'
op|'='
name|'deprecated'
op|'('
name|'Twisted9point0'
op|')'
op|'('
name|'pack'
op|')'
newline|'\n'
endmarker|''
end_unit
