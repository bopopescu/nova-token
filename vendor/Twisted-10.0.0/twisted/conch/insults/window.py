begin_unit
comment|'# -*- test-case-name: twisted.conch.test.test_window -*-'
nl|'\n'
nl|'\n'
string|'"""\nSimple insults-based widget library\n\n@author: Jp Calderone\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'array'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'conch'
op|'.'
name|'insults'
name|'import'
name|'insults'
op|','
name|'helper'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
name|'import'
name|'text'
name|'as'
name|'tptext'
newline|'\n'
nl|'\n'
DECL|class|YieldFocus
name|'class'
name|'YieldFocus'
op|'('
name|'Exception'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""Input focus manipulation exception\n    """'
newline|'\n'
nl|'\n'
DECL|class|BoundedTerminalWrapper
dedent|''
name|'class'
name|'BoundedTerminalWrapper'
op|'('
name|'object'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'terminal'
op|','
name|'width'
op|','
name|'height'
op|','
name|'xoff'
op|','
name|'yoff'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'width'
op|'='
name|'width'
newline|'\n'
name|'self'
op|'.'
name|'height'
op|'='
name|'height'
newline|'\n'
name|'self'
op|'.'
name|'xoff'
op|'='
name|'xoff'
newline|'\n'
name|'self'
op|'.'
name|'yoff'
op|'='
name|'yoff'
newline|'\n'
name|'self'
op|'.'
name|'terminal'
op|'='
name|'terminal'
newline|'\n'
name|'self'
op|'.'
name|'cursorForward'
op|'='
name|'terminal'
op|'.'
name|'cursorForward'
newline|'\n'
name|'self'
op|'.'
name|'selectCharacterSet'
op|'='
name|'terminal'
op|'.'
name|'selectCharacterSet'
newline|'\n'
name|'self'
op|'.'
name|'selectGraphicRendition'
op|'='
name|'terminal'
op|'.'
name|'selectGraphicRendition'
newline|'\n'
name|'self'
op|'.'
name|'saveCursor'
op|'='
name|'terminal'
op|'.'
name|'saveCursor'
newline|'\n'
name|'self'
op|'.'
name|'restoreCursor'
op|'='
name|'terminal'
op|'.'
name|'restoreCursor'
newline|'\n'
nl|'\n'
DECL|member|cursorPosition
dedent|''
name|'def'
name|'cursorPosition'
op|'('
name|'self'
op|','
name|'x'
op|','
name|'y'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
nl|'\n'
name|'self'
op|'.'
name|'xoff'
op|'+'
name|'min'
op|'('
name|'self'
op|'.'
name|'width'
op|','
name|'x'
op|')'
op|','
nl|'\n'
name|'self'
op|'.'
name|'yoff'
op|'+'
name|'min'
op|'('
name|'self'
op|'.'
name|'height'
op|','
name|'y'
op|')'
nl|'\n'
op|')'
newline|'\n'
nl|'\n'
DECL|member|cursorHome
dedent|''
name|'def'
name|'cursorHome'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
nl|'\n'
name|'self'
op|'.'
name|'xoff'
op|','
name|'self'
op|'.'
name|'yoff'
op|')'
newline|'\n'
nl|'\n'
DECL|member|write
dedent|''
name|'def'
name|'write'
op|'('
name|'self'
op|','
name|'bytes'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'bytes'
op|')'
newline|'\n'
nl|'\n'
DECL|class|Widget
dedent|''
dedent|''
name|'class'
name|'Widget'
op|'('
name|'object'
op|')'
op|':'
newline|'\n'
DECL|variable|focused
indent|'    '
name|'focused'
op|'='
name|'False'
newline|'\n'
DECL|variable|parent
name|'parent'
op|'='
name|'None'
newline|'\n'
DECL|variable|dirty
name|'dirty'
op|'='
name|'False'
newline|'\n'
name|'width'
op|'='
name|'height'
op|'='
name|'None'
newline|'\n'
nl|'\n'
DECL|member|repaint
name|'def'
name|'repaint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'not'
name|'self'
op|'.'
name|'dirty'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'dirty'
op|'='
name|'True'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'parent'
name|'is'
name|'not'
name|'None'
name|'and'
name|'not'
name|'self'
op|'.'
name|'parent'
op|'.'
name|'dirty'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'parent'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|filthy
dedent|''
dedent|''
name|'def'
name|'filthy'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'dirty'
op|'='
name|'True'
newline|'\n'
nl|'\n'
DECL|member|redraw
dedent|''
name|'def'
name|'redraw'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'draw'
op|'('
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
newline|'\n'
nl|'\n'
DECL|member|draw
dedent|''
name|'def'
name|'draw'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'width'
op|'!='
name|'self'
op|'.'
name|'width'
name|'or'
name|'height'
op|'!='
name|'self'
op|'.'
name|'height'
name|'or'
name|'self'
op|'.'
name|'dirty'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'width'
op|'='
name|'width'
newline|'\n'
name|'self'
op|'.'
name|'height'
op|'='
name|'height'
newline|'\n'
name|'self'
op|'.'
name|'dirty'
op|'='
name|'False'
newline|'\n'
name|'self'
op|'.'
name|'render'
op|'('
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|keystrokeReceived
dedent|''
name|'def'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'keyID'
op|'=='
string|"'\\t'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'tabReceived'
op|'('
name|'modifier'
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'keyID'
op|'=='
string|"'\\x7f'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'backspaceReceived'
op|'('
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'keyID'
name|'in'
name|'insults'
op|'.'
name|'FUNCTION_KEYS'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'functionKeyReceived'
op|'('
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'characterReceived'
op|'('
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
nl|'\n'
DECL|member|tabReceived
dedent|''
dedent|''
name|'def'
name|'tabReceived'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
comment|'# XXX TODO - Handle shift+tab'
nl|'\n'
indent|'        '
name|'raise'
name|'YieldFocus'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|focusReceived
dedent|''
name|'def'
name|'focusReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Called when focus is being given to this widget.\n\n        May raise YieldFocus is this widget does not want focus.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'focused'
op|'='
name|'True'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|focusLost
dedent|''
name|'def'
name|'focusLost'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'focused'
op|'='
name|'False'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|backspaceReceived
dedent|''
name|'def'
name|'backspaceReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|functionKeyReceived
dedent|''
name|'def'
name|'functionKeyReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'func'
op|'='
name|'getattr'
op|'('
name|'self'
op|','
string|"'func_'"
op|'+'
name|'keyID'
op|'.'
name|'name'
op|','
name|'None'
op|')'
newline|'\n'
name|'if'
name|'func'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'func'
op|'('
name|'modifier'
op|')'
newline|'\n'
nl|'\n'
DECL|member|characterReceived
dedent|''
dedent|''
name|'def'
name|'characterReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|ContainerWidget
dedent|''
dedent|''
name|'class'
name|'ContainerWidget'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    @ivar focusedChild: The contained widget which currently has\n    focus, or None.\n    """'
newline|'\n'
DECL|variable|focusedChild
name|'focusedChild'
op|'='
name|'None'
newline|'\n'
DECL|variable|focused
name|'focused'
op|'='
name|'False'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'children'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
DECL|member|addChild
dedent|''
name|'def'
name|'addChild'
op|'('
name|'self'
op|','
name|'child'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'assert'
name|'child'
op|'.'
name|'parent'
name|'is'
name|'None'
newline|'\n'
name|'child'
op|'.'
name|'parent'
op|'='
name|'self'
newline|'\n'
name|'self'
op|'.'
name|'children'
op|'.'
name|'append'
op|'('
name|'child'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'focusedChild'
name|'is'
name|'None'
name|'and'
name|'self'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'child'
op|'.'
name|'focusReceived'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'                '
name|'pass'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'focusedChild'
op|'='
name|'child'
newline|'\n'
dedent|''
dedent|''
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|remChild
dedent|''
name|'def'
name|'remChild'
op|'('
name|'self'
op|','
name|'child'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'assert'
name|'child'
op|'.'
name|'parent'
name|'is'
name|'self'
newline|'\n'
name|'child'
op|'.'
name|'parent'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'children'
op|'.'
name|'remove'
op|'('
name|'child'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|filthy
dedent|''
name|'def'
name|'filthy'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'ch'
name|'in'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'ch'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
dedent|''
name|'Widget'
op|'.'
name|'filthy'
op|'('
name|'self'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'ch'
name|'in'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'ch'
op|'.'
name|'draw'
op|'('
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
newline|'\n'
nl|'\n'
DECL|member|changeFocus
dedent|''
dedent|''
name|'def'
name|'changeFocus'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'if'
name|'self'
op|'.'
name|'focusedChild'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedChild'
op|'.'
name|'focusLost'
op|'('
op|')'
newline|'\n'
name|'focusedChild'
op|'='
name|'self'
op|'.'
name|'focusedChild'
newline|'\n'
name|'self'
op|'.'
name|'focusedChild'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'curFocus'
op|'='
name|'self'
op|'.'
name|'children'
op|'.'
name|'index'
op|'('
name|'focusedChild'
op|')'
op|'+'
number|'1'
newline|'\n'
dedent|''
name|'except'
name|'ValueError'
op|':'
newline|'\n'
indent|'                '
name|'raise'
name|'YieldFocus'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'curFocus'
op|'='
number|'0'
newline|'\n'
dedent|''
name|'while'
name|'curFocus'
op|'<'
name|'len'
op|'('
name|'self'
op|'.'
name|'children'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'children'
op|'['
name|'curFocus'
op|']'
op|'.'
name|'focusReceived'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'                '
name|'curFocus'
op|'+='
number|'1'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'focusedChild'
op|'='
name|'self'
op|'.'
name|'children'
op|'['
name|'curFocus'
op|']'
newline|'\n'
name|'return'
newline|'\n'
comment|'# None of our children wanted focus'
nl|'\n'
dedent|''
dedent|''
name|'raise'
name|'YieldFocus'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|focusReceived
dedent|''
name|'def'
name|'focusReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'changeFocus'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'focused'
op|'='
name|'True'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|keystrokeReceived
dedent|''
name|'def'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'focusedChild'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'focusedChild'
op|'.'
name|'keystrokeReceived'
op|'('
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'changeFocus'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'Widget'
op|'.'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TopWindow
dedent|''
dedent|''
dedent|''
name|'class'
name|'TopWindow'
op|'('
name|'ContainerWidget'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    A top-level container object which provides focus wrap-around and paint\n    scheduling.\n\n    @ivar painter: A no-argument callable which will be invoked when this\n    widget needs to be redrawn.\n\n    @ivar scheduler: A one-argument callable which will be invoked with a\n    no-argument callable and should arrange for it to invoked at some point in\n    the near future.  The no-argument callable will cause this widget and all\n    its children to be redrawn.  It is typically beneficial for the no-argument\n    callable to be invoked at the end of handling for whatever event is\n    currently active; for example, it might make sense to call it at the end of\n    L{twisted.conch.insults.insults.ITerminalProtocol.keystrokeReceived}.\n    Note, however, that since calls to this may also be made in response to no\n    apparent event, arrangements should be made for the function to be called\n    even if an event handler such as C{keystrokeReceived} is not on the call\n    stack (eg, using C{reactor.callLater} with a short timeout).\n    """'
newline|'\n'
DECL|variable|focused
name|'focused'
op|'='
name|'True'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'painter'
op|','
name|'scheduler'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'ContainerWidget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'painter'
op|'='
name|'painter'
newline|'\n'
name|'self'
op|'.'
name|'scheduler'
op|'='
name|'scheduler'
newline|'\n'
nl|'\n'
DECL|variable|_paintCall
dedent|''
name|'_paintCall'
op|'='
name|'None'
newline|'\n'
DECL|member|repaint
name|'def'
name|'repaint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'_paintCall'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'_paintCall'
op|'='
name|'object'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'scheduler'
op|'('
name|'self'
op|'.'
name|'_paint'
op|')'
newline|'\n'
dedent|''
name|'ContainerWidget'
op|'.'
name|'repaint'
op|'('
name|'self'
op|')'
newline|'\n'
nl|'\n'
DECL|member|_paint
dedent|''
name|'def'
name|'_paint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_paintCall'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'painter'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|changeFocus
dedent|''
name|'def'
name|'changeFocus'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'ContainerWidget'
op|'.'
name|'changeFocus'
op|'('
name|'self'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'ContainerWidget'
op|'.'
name|'changeFocus'
op|'('
name|'self'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'                '
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|keystrokeReceived
dedent|''
dedent|''
dedent|''
name|'def'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'ContainerWidget'
op|'.'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'YieldFocus'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'changeFocus'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|AbsoluteBox
dedent|''
dedent|''
dedent|''
name|'class'
name|'AbsoluteBox'
op|'('
name|'ContainerWidget'
op|')'
op|':'
newline|'\n'
DECL|member|moveChild
indent|'    '
name|'def'
name|'moveChild'
op|'('
name|'self'
op|','
name|'child'
op|','
name|'x'
op|','
name|'y'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'n'
name|'in'
name|'range'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'children'
op|')'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'self'
op|'.'
name|'children'
op|'['
name|'n'
op|']'
op|'['
number|'0'
op|']'
name|'is'
name|'child'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'children'
op|'['
name|'n'
op|']'
op|'='
op|'('
name|'child'
op|','
name|'x'
op|','
name|'y'
op|')'
newline|'\n'
name|'break'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'ValueError'
op|'('
string|'"No such child"'
op|','
name|'child'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
op|'('
name|'ch'
op|','
name|'x'
op|','
name|'y'
op|')'
name|'in'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'wrap'
op|'='
name|'BoundedTerminalWrapper'
op|'('
name|'terminal'
op|','
name|'width'
op|'-'
name|'x'
op|','
name|'height'
op|'-'
name|'y'
op|','
name|'x'
op|','
name|'y'
op|')'
newline|'\n'
name|'ch'
op|'.'
name|'draw'
op|'('
name|'width'
op|','
name|'height'
op|','
name|'wrap'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|_Box
dedent|''
dedent|''
dedent|''
name|'class'
name|'_Box'
op|'('
name|'ContainerWidget'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'TOP'
op|','
name|'CENTER'
op|','
name|'BOTTOM'
op|'='
name|'range'
op|'('
number|'3'
op|')'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'gravity'
op|'='
name|'CENTER'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'ContainerWidget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'gravity'
op|'='
name|'gravity'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'height'
op|'='
number|'0'
newline|'\n'
name|'width'
op|'='
number|'0'
newline|'\n'
name|'for'
name|'ch'
name|'in'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'hint'
op|'='
name|'ch'
op|'.'
name|'sizeHint'
op|'('
op|')'
newline|'\n'
name|'if'
name|'hint'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                '
name|'hint'
op|'='
op|'('
name|'None'
op|','
name|'None'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'variableDimension'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'hint'
op|'['
number|'0'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'width'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'elif'
name|'width'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'width'
op|'+='
name|'hint'
op|'['
number|'0'
op|']'
newline|'\n'
dedent|''
name|'if'
name|'hint'
op|'['
number|'1'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'height'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'elif'
name|'height'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'height'
op|'='
name|'max'
op|'('
name|'height'
op|','
name|'hint'
op|'['
number|'1'
op|']'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'hint'
op|'['
number|'0'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'width'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'elif'
name|'width'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'width'
op|'='
name|'max'
op|'('
name|'width'
op|','
name|'hint'
op|'['
number|'0'
op|']'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'hint'
op|'['
number|'1'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'height'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'elif'
name|'height'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'                    '
name|'height'
op|'+='
name|'hint'
op|'['
number|'1'
op|']'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
dedent|''
name|'return'
name|'width'
op|','
name|'height'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'not'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'return'
newline|'\n'
nl|'\n'
dedent|''
name|'greedy'
op|'='
number|'0'
newline|'\n'
name|'wants'
op|'='
op|'['
op|']'
newline|'\n'
name|'for'
name|'ch'
name|'in'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'hint'
op|'='
name|'ch'
op|'.'
name|'sizeHint'
op|'('
op|')'
newline|'\n'
name|'if'
name|'hint'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                '
name|'hint'
op|'='
op|'('
name|'None'
op|','
name|'None'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'hint'
op|'['
name|'self'
op|'.'
name|'variableDimension'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                '
name|'greedy'
op|'+='
number|'1'
newline|'\n'
dedent|''
name|'wants'
op|'.'
name|'append'
op|'('
name|'hint'
op|'['
name|'self'
op|'.'
name|'variableDimension'
op|']'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'length'
op|'='
op|'('
name|'width'
op|','
name|'height'
op|')'
op|'['
name|'self'
op|'.'
name|'variableDimension'
op|']'
newline|'\n'
name|'totalWant'
op|'='
name|'sum'
op|'('
op|'['
name|'w'
name|'for'
name|'w'
name|'in'
name|'wants'
name|'if'
name|'w'
name|'is'
name|'not'
name|'None'
op|']'
op|')'
newline|'\n'
name|'if'
name|'greedy'
op|':'
newline|'\n'
indent|'            '
name|'leftForGreedy'
op|'='
name|'int'
op|'('
op|'('
name|'length'
op|'-'
name|'totalWant'
op|')'
op|'/'
name|'greedy'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'widthOffset'
op|'='
name|'heightOffset'
op|'='
number|'0'
newline|'\n'
nl|'\n'
name|'for'
name|'want'
op|','
name|'ch'
name|'in'
name|'zip'
op|'('
name|'wants'
op|','
name|'self'
op|'.'
name|'children'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'want'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'                '
name|'want'
op|'='
name|'leftForGreedy'
newline|'\n'
nl|'\n'
dedent|''
name|'subWidth'
op|','
name|'subHeight'
op|'='
name|'width'
op|','
name|'height'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'variableDimension'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'                '
name|'subWidth'
op|'='
name|'want'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'subHeight'
op|'='
name|'want'
newline|'\n'
nl|'\n'
dedent|''
name|'wrap'
op|'='
name|'BoundedTerminalWrapper'
op|'('
nl|'\n'
name|'terminal'
op|','
nl|'\n'
name|'subWidth'
op|','
nl|'\n'
name|'subHeight'
op|','
nl|'\n'
name|'widthOffset'
op|','
nl|'\n'
name|'heightOffset'
op|','
nl|'\n'
op|')'
newline|'\n'
name|'ch'
op|'.'
name|'draw'
op|'('
name|'subWidth'
op|','
name|'subHeight'
op|','
name|'wrap'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'variableDimension'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'                '
name|'widthOffset'
op|'+='
name|'want'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'heightOffset'
op|'+='
name|'want'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|HBox
dedent|''
dedent|''
dedent|''
dedent|''
name|'class'
name|'HBox'
op|'('
name|'_Box'
op|')'
op|':'
newline|'\n'
DECL|variable|variableDimension
indent|'    '
name|'variableDimension'
op|'='
number|'0'
newline|'\n'
nl|'\n'
DECL|class|VBox
dedent|''
name|'class'
name|'VBox'
op|'('
name|'_Box'
op|')'
op|':'
newline|'\n'
DECL|variable|variableDimension
indent|'    '
name|'variableDimension'
op|'='
number|'1'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|Packer
dedent|''
name|'class'
name|'Packer'
op|'('
name|'ContainerWidget'
op|')'
op|':'
newline|'\n'
DECL|member|render
indent|'    '
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'not'
name|'self'
op|'.'
name|'children'
op|':'
newline|'\n'
indent|'            '
name|'return'
newline|'\n'
nl|'\n'
dedent|''
name|'root'
op|'='
name|'int'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'children'
op|')'
op|'**'
number|'0.5'
op|'+'
number|'0.5'
op|')'
newline|'\n'
name|'boxes'
op|'='
op|'['
name|'VBox'
op|'('
op|')'
name|'for'
name|'n'
name|'in'
name|'range'
op|'('
name|'root'
op|')'
op|']'
newline|'\n'
name|'for'
name|'n'
op|','
name|'ch'
name|'in'
name|'enumerate'
op|'('
name|'self'
op|'.'
name|'children'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'boxes'
op|'['
name|'n'
op|'%'
name|'len'
op|'('
name|'boxes'
op|')'
op|']'
op|'.'
name|'addChild'
op|'('
name|'ch'
op|')'
newline|'\n'
dedent|''
name|'h'
op|'='
name|'HBox'
op|'('
op|')'
newline|'\n'
name|'map'
op|'('
name|'h'
op|'.'
name|'addChild'
op|','
name|'boxes'
op|')'
newline|'\n'
name|'h'
op|'.'
name|'render'
op|'('
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|Canvas
dedent|''
dedent|''
name|'class'
name|'Canvas'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|variable|focused
indent|'    '
name|'focused'
op|'='
name|'False'
newline|'\n'
nl|'\n'
DECL|variable|contents
name|'contents'
op|'='
name|'None'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'resize'
op|'('
number|'1'
op|','
number|'1'
op|')'
newline|'\n'
nl|'\n'
DECL|member|resize
dedent|''
name|'def'
name|'resize'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'contents'
op|'='
name|'array'
op|'.'
name|'array'
op|'('
string|"'c'"
op|','
string|"' '"
op|'*'
name|'width'
op|'*'
name|'height'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'contents'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'for'
name|'x'
name|'in'
name|'range'
op|'('
name|'min'
op|'('
name|'width'
op|','
name|'self'
op|'.'
name|'_width'
op|')'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'for'
name|'y'
name|'in'
name|'range'
op|'('
name|'min'
op|'('
name|'height'
op|','
name|'self'
op|'.'
name|'_height'
op|')'
op|')'
op|':'
newline|'\n'
indent|'                    '
name|'contents'
op|'['
name|'width'
op|'*'
name|'y'
op|'+'
name|'x'
op|']'
op|'='
name|'self'
op|'['
name|'x'
op|','
name|'y'
op|']'
newline|'\n'
dedent|''
dedent|''
dedent|''
name|'self'
op|'.'
name|'contents'
op|'='
name|'contents'
newline|'\n'
name|'self'
op|'.'
name|'_width'
op|'='
name|'width'
newline|'\n'
name|'self'
op|'.'
name|'_height'
op|'='
name|'height'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'x'
op|'>='
name|'width'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'x'
op|'='
name|'width'
op|'-'
number|'1'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'y'
op|'>='
name|'height'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'y'
op|'='
name|'height'
op|'-'
number|'1'
newline|'\n'
nl|'\n'
DECL|member|__getitem__
dedent|''
dedent|''
name|'def'
name|'__getitem__'
op|'('
name|'self'
op|','
op|'('
name|'x'
op|','
name|'y'
op|')'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'contents'
op|'['
op|'('
name|'self'
op|'.'
name|'_width'
op|'*'
name|'y'
op|')'
op|'+'
name|'x'
op|']'
newline|'\n'
nl|'\n'
DECL|member|__setitem__
dedent|''
name|'def'
name|'__setitem__'
op|'('
name|'self'
op|','
op|'('
name|'x'
op|','
name|'y'
op|')'
op|','
name|'value'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'contents'
op|'['
op|'('
name|'self'
op|'.'
name|'_width'
op|'*'
name|'y'
op|')'
op|'+'
name|'x'
op|']'
op|'='
name|'value'
newline|'\n'
nl|'\n'
DECL|member|clear
dedent|''
name|'def'
name|'clear'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'contents'
op|'='
name|'array'
op|'.'
name|'array'
op|'('
string|"'c'"
op|','
string|"' '"
op|'*'
name|'len'
op|'('
name|'self'
op|'.'
name|'contents'
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'not'
name|'width'
name|'or'
name|'not'
name|'height'
op|':'
newline|'\n'
indent|'            '
name|'return'
newline|'\n'
nl|'\n'
dedent|''
name|'if'
name|'width'
op|'!='
name|'self'
op|'.'
name|'_width'
name|'or'
name|'height'
op|'!='
name|'self'
op|'.'
name|'_height'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'resize'
op|'('
name|'width'
op|','
name|'height'
op|')'
newline|'\n'
dedent|''
name|'for'
name|'i'
name|'in'
name|'range'
op|'('
name|'height'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'i'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
string|"''"
op|'.'
name|'join'
op|'('
name|'self'
op|'.'
name|'contents'
op|'['
name|'self'
op|'.'
name|'_width'
op|'*'
name|'i'
op|':'
name|'self'
op|'.'
name|'_width'
op|'*'
name|'i'
op|'+'
name|'self'
op|'.'
name|'_width'
op|']'
op|')'
op|'['
op|':'
name|'width'
op|']'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|horizontalLine
dedent|''
dedent|''
dedent|''
name|'def'
name|'horizontalLine'
op|'('
name|'terminal'
op|','
name|'y'
op|','
name|'left'
op|','
name|'right'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_DRAWING'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
name|'left'
op|','
name|'y'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0161'
op|')'
op|'*'
op|'('
name|'right'
op|'-'
name|'left'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_US'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
nl|'\n'
DECL|function|verticalLine
dedent|''
name|'def'
name|'verticalLine'
op|'('
name|'terminal'
op|','
name|'x'
op|','
name|'top'
op|','
name|'bottom'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_DRAWING'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
name|'for'
name|'n'
name|'in'
name|'xrange'
op|'('
name|'top'
op|','
name|'bottom'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
name|'x'
op|','
name|'n'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0170'
op|')'
op|')'
newline|'\n'
dedent|''
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_US'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|rectangle
dedent|''
name|'def'
name|'rectangle'
op|'('
name|'terminal'
op|','
op|'('
name|'top'
op|','
name|'left'
op|')'
op|','
op|'('
name|'width'
op|','
name|'height'
op|')'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_DRAWING'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
nl|'\n'
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
name|'top'
op|','
name|'left'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0154'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0161'
op|')'
op|'*'
op|'('
name|'width'
op|'-'
number|'2'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0153'
op|')'
op|')'
newline|'\n'
name|'for'
name|'n'
name|'in'
name|'range'
op|'('
name|'height'
op|'-'
number|'2'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
name|'left'
op|','
name|'top'
op|'+'
name|'n'
op|'+'
number|'1'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0170'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'cursorForward'
op|'('
name|'width'
op|'-'
number|'2'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0170'
op|')'
op|')'
newline|'\n'
dedent|''
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'top'
op|'+'
name|'height'
op|'-'
number|'1'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0155'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0161'
op|')'
op|'*'
op|'('
name|'width'
op|'-'
number|'2'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'chr'
op|'('
number|'0152'
op|')'
op|')'
newline|'\n'
nl|'\n'
name|'terminal'
op|'.'
name|'selectCharacterSet'
op|'('
name|'insults'
op|'.'
name|'CS_US'
op|','
name|'insults'
op|'.'
name|'G0'
op|')'
newline|'\n'
nl|'\n'
DECL|class|Border
dedent|''
name|'class'
name|'Border'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'containee'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'containee'
op|'='
name|'containee'
newline|'\n'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'parent'
op|'='
name|'self'
newline|'\n'
nl|'\n'
DECL|member|focusReceived
dedent|''
name|'def'
name|'focusReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'focusReceived'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|focusLost
dedent|''
name|'def'
name|'focusLost'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'focusLost'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|keystrokeReceived
dedent|''
name|'def'
name|'keystrokeReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'keystrokeReceived'
op|'('
name|'keyID'
op|','
name|'modifier'
op|')'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'hint'
op|'='
name|'self'
op|'.'
name|'containee'
op|'.'
name|'sizeHint'
op|'('
op|')'
newline|'\n'
name|'if'
name|'hint'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'hint'
op|'='
op|'('
name|'None'
op|','
name|'None'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'hint'
op|'['
number|'0'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'x'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'x'
op|'='
name|'hint'
op|'['
number|'0'
op|']'
op|'+'
number|'2'
newline|'\n'
dedent|''
name|'if'
name|'hint'
op|'['
number|'1'
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'y'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'y'
op|'='
name|'hint'
op|'['
number|'1'
op|']'
op|'+'
number|'2'
newline|'\n'
dedent|''
name|'return'
name|'x'
op|','
name|'y'
newline|'\n'
nl|'\n'
DECL|member|filthy
dedent|''
name|'def'
name|'filthy'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'containee'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'Widget'
op|'.'
name|'filthy'
op|'('
name|'self'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'write'
op|'('
string|"'\\x1b[31m'"
op|')'
newline|'\n'
dedent|''
name|'rectangle'
op|'('
name|'terminal'
op|','
op|'('
number|'0'
op|','
number|'0'
op|')'
op|','
op|'('
name|'width'
op|','
name|'height'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
string|"'\\x1b[0m'"
op|')'
newline|'\n'
name|'wrap'
op|'='
name|'BoundedTerminalWrapper'
op|'('
name|'terminal'
op|','
name|'width'
op|'-'
number|'2'
op|','
name|'height'
op|'-'
number|'2'
op|','
number|'1'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'draw'
op|'('
name|'width'
op|'-'
number|'2'
op|','
name|'height'
op|'-'
number|'2'
op|','
name|'wrap'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|Button
dedent|''
dedent|''
name|'class'
name|'Button'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'label'
op|','
name|'onPress'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'label'
op|'='
name|'label'
newline|'\n'
name|'self'
op|'.'
name|'onPress'
op|'='
name|'onPress'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'len'
op|'('
name|'self'
op|'.'
name|'label'
op|')'
op|','
number|'1'
newline|'\n'
nl|'\n'
DECL|member|characterReceived
dedent|''
name|'def'
name|'characterReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'keyID'
op|'=='
string|"'\\r'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'onPress'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'write'
op|'('
string|"'\\x1b[1m'"
op|'+'
name|'self'
op|'.'
name|'label'
op|'+'
string|"'\\x1b[0m'"
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'label'
op|')'
newline|'\n'
nl|'\n'
DECL|class|TextInput
dedent|''
dedent|''
dedent|''
name|'class'
name|'TextInput'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'maxwidth'
op|','
name|'onSubmit'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'onSubmit'
op|'='
name|'onSubmit'
newline|'\n'
name|'self'
op|'.'
name|'maxwidth'
op|'='
name|'maxwidth'
newline|'\n'
name|'self'
op|'.'
name|'buffer'
op|'='
string|"''"
newline|'\n'
name|'self'
op|'.'
name|'cursor'
op|'='
number|'0'
newline|'\n'
nl|'\n'
DECL|member|setText
dedent|''
name|'def'
name|'setText'
op|'('
name|'self'
op|','
name|'text'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'buffer'
op|'='
name|'text'
op|'['
op|':'
name|'self'
op|'.'
name|'maxwidth'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'cursor'
op|'='
name|'len'
op|'('
name|'self'
op|'.'
name|'buffer'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_LEFT_ARROW
dedent|''
name|'def'
name|'func_LEFT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'cursor'
op|'>'
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cursor'
op|'-='
number|'1'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_RIGHT_ARROW
dedent|''
dedent|''
name|'def'
name|'func_RIGHT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'cursor'
op|'<'
name|'len'
op|'('
name|'self'
op|'.'
name|'buffer'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cursor'
op|'+='
number|'1'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|backspaceReceived
dedent|''
dedent|''
name|'def'
name|'backspaceReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'cursor'
op|'>'
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'buffer'
op|'='
name|'self'
op|'.'
name|'buffer'
op|'['
op|':'
name|'self'
op|'.'
name|'cursor'
op|'-'
number|'1'
op|']'
op|'+'
name|'self'
op|'.'
name|'buffer'
op|'['
name|'self'
op|'.'
name|'cursor'
op|':'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'cursor'
op|'-='
number|'1'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|characterReceived
dedent|''
dedent|''
name|'def'
name|'characterReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'keyID'
op|'=='
string|"'\\r'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'onSubmit'
op|'('
name|'self'
op|'.'
name|'buffer'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'len'
op|'('
name|'self'
op|'.'
name|'buffer'
op|')'
op|'<'
name|'self'
op|'.'
name|'maxwidth'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'buffer'
op|'='
name|'self'
op|'.'
name|'buffer'
op|'['
op|':'
name|'self'
op|'.'
name|'cursor'
op|']'
op|'+'
name|'keyID'
op|'+'
name|'self'
op|'.'
name|'buffer'
op|'['
name|'self'
op|'.'
name|'cursor'
op|':'
op|']'
newline|'\n'
name|'self'
op|'.'
name|'cursor'
op|'+='
number|'1'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
dedent|''
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'maxwidth'
op|'+'
number|'1'
op|','
number|'1'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'currentText'
op|'='
name|'self'
op|'.'
name|'_renderText'
op|'('
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'write'
op|'('
name|'currentText'
op|'['
op|':'
name|'self'
op|'.'
name|'cursor'
op|']'
op|')'
newline|'\n'
name|'cursor'
op|'('
name|'terminal'
op|','
name|'currentText'
op|'['
name|'self'
op|'.'
name|'cursor'
op|':'
name|'self'
op|'.'
name|'cursor'
op|'+'
number|'1'
op|']'
name|'or'
string|"' '"
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'currentText'
op|'['
name|'self'
op|'.'
name|'cursor'
op|'+'
number|'1'
op|':'
op|']'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
string|"' '"
op|'*'
op|'('
name|'self'
op|'.'
name|'maxwidth'
op|'-'
name|'len'
op|'('
name|'currentText'
op|')'
op|'+'
number|'1'
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'more'
op|'='
name|'self'
op|'.'
name|'maxwidth'
op|'-'
name|'len'
op|'('
name|'currentText'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'currentText'
op|'+'
string|"'_'"
op|'*'
name|'more'
op|')'
newline|'\n'
nl|'\n'
DECL|member|_renderText
dedent|''
dedent|''
name|'def'
name|'_renderText'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'buffer'
newline|'\n'
nl|'\n'
DECL|class|PasswordInput
dedent|''
dedent|''
name|'class'
name|'PasswordInput'
op|'('
name|'TextInput'
op|')'
op|':'
newline|'\n'
DECL|member|_renderText
indent|'    '
name|'def'
name|'_renderText'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
string|"'*'"
op|'*'
name|'len'
op|'('
name|'self'
op|'.'
name|'buffer'
op|')'
newline|'\n'
nl|'\n'
DECL|class|TextOutput
dedent|''
dedent|''
name|'class'
name|'TextOutput'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|variable|text
indent|'    '
name|'text'
op|'='
string|"''"
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'size'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'size'
op|'='
name|'size'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'size'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
name|'text'
op|'='
name|'self'
op|'.'
name|'text'
op|'['
op|':'
name|'width'
op|']'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'text'
op|'+'
string|"' '"
op|'*'
op|'('
name|'width'
op|'-'
name|'len'
op|'('
name|'text'
op|')'
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|member|setText
dedent|''
name|'def'
name|'setText'
op|'('
name|'self'
op|','
name|'text'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'text'
op|'='
name|'text'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|focusReceived
dedent|''
name|'def'
name|'focusReceived'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'raise'
name|'YieldFocus'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TextOutputArea
dedent|''
dedent|''
name|'class'
name|'TextOutputArea'
op|'('
name|'TextOutput'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'WRAP'
op|','
name|'TRUNCATE'
op|'='
name|'range'
op|'('
number|'2'
op|')'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'size'
op|'='
name|'None'
op|','
name|'longLines'
op|'='
name|'WRAP'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'TextOutput'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'size'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'longLines'
op|'='
name|'longLines'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'n'
op|'='
number|'0'
newline|'\n'
name|'inputLines'
op|'='
name|'self'
op|'.'
name|'text'
op|'.'
name|'splitlines'
op|'('
op|')'
newline|'\n'
name|'outputLines'
op|'='
op|'['
op|']'
newline|'\n'
name|'while'
name|'inputLines'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'self'
op|'.'
name|'longLines'
op|'=='
name|'self'
op|'.'
name|'WRAP'
op|':'
newline|'\n'
indent|'                '
name|'wrappedLines'
op|'='
name|'tptext'
op|'.'
name|'greedyWrap'
op|'('
name|'inputLines'
op|'.'
name|'pop'
op|'('
number|'0'
op|')'
op|','
name|'width'
op|')'
newline|'\n'
name|'outputLines'
op|'.'
name|'extend'
op|'('
name|'wrappedLines'
name|'or'
op|'['
string|"''"
op|']'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'outputLines'
op|'.'
name|'append'
op|'('
name|'inputLines'
op|'.'
name|'pop'
op|'('
number|'0'
op|')'
op|'['
op|':'
name|'width'
op|']'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'len'
op|'('
name|'outputLines'
op|')'
op|'>='
name|'height'
op|':'
newline|'\n'
indent|'                '
name|'break'
newline|'\n'
dedent|''
dedent|''
name|'for'
name|'n'
op|','
name|'L'
name|'in'
name|'enumerate'
op|'('
name|'outputLines'
op|'['
op|':'
name|'height'
op|']'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'n'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'L'
op|')'
newline|'\n'
nl|'\n'
DECL|class|Viewport
dedent|''
dedent|''
dedent|''
name|'class'
name|'Viewport'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|variable|_xOffset
indent|'    '
name|'_xOffset'
op|'='
number|'0'
newline|'\n'
DECL|variable|_yOffset
name|'_yOffset'
op|'='
number|'0'
newline|'\n'
nl|'\n'
DECL|member|xOffset
name|'def'
name|'xOffset'
op|'('
op|')'
op|':'
newline|'\n'
DECL|function|get
indent|'        '
name|'def'
name|'get'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'self'
op|'.'
name|'_xOffset'
newline|'\n'
DECL|function|set
dedent|''
name|'def'
name|'set'
op|'('
name|'self'
op|','
name|'value'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'self'
op|'.'
name|'_xOffset'
op|'!='
name|'value'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'_xOffset'
op|'='
name|'value'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
name|'return'
name|'get'
op|','
name|'set'
newline|'\n'
DECL|variable|xOffset
dedent|''
name|'xOffset'
op|'='
name|'property'
op|'('
op|'*'
name|'xOffset'
op|'('
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|member|yOffset
name|'def'
name|'yOffset'
op|'('
op|')'
op|':'
newline|'\n'
DECL|function|get
indent|'        '
name|'def'
name|'get'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'self'
op|'.'
name|'_yOffset'
newline|'\n'
DECL|function|set
dedent|''
name|'def'
name|'set'
op|'('
name|'self'
op|','
name|'value'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'self'
op|'.'
name|'_yOffset'
op|'!='
name|'value'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'_yOffset'
op|'='
name|'value'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
name|'return'
name|'get'
op|','
name|'set'
newline|'\n'
DECL|variable|yOffset
dedent|''
name|'yOffset'
op|'='
name|'property'
op|'('
op|'*'
name|'yOffset'
op|'('
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|_width
name|'_width'
op|'='
number|'160'
newline|'\n'
DECL|variable|_height
name|'_height'
op|'='
number|'24'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'containee'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'containee'
op|'='
name|'containee'
newline|'\n'
name|'self'
op|'.'
name|'containee'
op|'.'
name|'parent'
op|'='
name|'self'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'_buf'
op|'='
name|'helper'
op|'.'
name|'TerminalBuffer'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_buf'
op|'.'
name|'width'
op|'='
name|'self'
op|'.'
name|'_width'
newline|'\n'
name|'self'
op|'.'
name|'_buf'
op|'.'
name|'height'
op|'='
name|'self'
op|'.'
name|'_height'
newline|'\n'
name|'self'
op|'.'
name|'_buf'
op|'.'
name|'connectionMade'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|filthy
dedent|''
name|'def'
name|'filthy'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'containee'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'Widget'
op|'.'
name|'filthy'
op|'('
name|'self'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'containee'
op|'.'
name|'draw'
op|'('
name|'self'
op|'.'
name|'_width'
op|','
name|'self'
op|'.'
name|'_height'
op|','
name|'self'
op|'.'
name|'_buf'
op|')'
newline|'\n'
nl|'\n'
comment|'# XXX /Lame/'
nl|'\n'
name|'for'
name|'y'
op|','
name|'line'
name|'in'
name|'enumerate'
op|'('
name|'self'
op|'.'
name|'_buf'
op|'.'
name|'lines'
op|'['
name|'self'
op|'.'
name|'_yOffset'
op|':'
name|'self'
op|'.'
name|'_yOffset'
op|'+'
name|'height'
op|']'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'y'
op|')'
newline|'\n'
name|'n'
op|'='
number|'0'
newline|'\n'
name|'for'
name|'n'
op|','
op|'('
name|'ch'
op|','
name|'attr'
op|')'
name|'in'
name|'enumerate'
op|'('
name|'line'
op|'['
name|'self'
op|'.'
name|'_xOffset'
op|':'
name|'self'
op|'.'
name|'_xOffset'
op|'+'
name|'width'
op|']'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'ch'
name|'is'
name|'self'
op|'.'
name|'_buf'
op|'.'
name|'void'
op|':'
newline|'\n'
indent|'                    '
name|'ch'
op|'='
string|"' '"
newline|'\n'
dedent|''
name|'terminal'
op|'.'
name|'write'
op|'('
name|'ch'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'n'
op|'<'
name|'width'
op|':'
newline|'\n'
indent|'                '
name|'terminal'
op|'.'
name|'write'
op|'('
string|"' '"
op|'*'
op|'('
name|'width'
op|'-'
name|'n'
op|'-'
number|'1'
op|')'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|_Scrollbar
dedent|''
dedent|''
dedent|''
dedent|''
name|'class'
name|'_Scrollbar'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'onScroll'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'onScroll'
op|'='
name|'onScroll'
newline|'\n'
name|'self'
op|'.'
name|'percent'
op|'='
number|'0.0'
newline|'\n'
nl|'\n'
DECL|member|smaller
dedent|''
name|'def'
name|'smaller'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'percent'
op|'='
name|'min'
op|'('
number|'1.0'
op|','
name|'max'
op|'('
number|'0.0'
op|','
name|'self'
op|'.'
name|'onScroll'
op|'('
op|'-'
number|'1'
op|')'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|bigger
dedent|''
name|'def'
name|'bigger'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'percent'
op|'='
name|'min'
op|'('
number|'1.0'
op|','
name|'max'
op|'('
number|'0.0'
op|','
name|'self'
op|'.'
name|'onScroll'
op|'('
op|'+'
number|'1'
op|')'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|HorizontalScrollbar
dedent|''
dedent|''
name|'class'
name|'HorizontalScrollbar'
op|'('
name|'_Scrollbar'
op|')'
op|':'
newline|'\n'
DECL|member|sizeHint
indent|'    '
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
op|'('
name|'None'
op|','
number|'1'
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_LEFT_ARROW
dedent|''
name|'def'
name|'func_LEFT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'smaller'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_RIGHT_ARROW
dedent|''
name|'def'
name|'func_RIGHT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'bigger'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|variable|_left
dedent|''
name|'_left'
op|'='
string|"u'\\N{BLACK LEFT-POINTING TRIANGLE}'"
newline|'\n'
DECL|variable|_right
name|'_right'
op|'='
string|"u'\\N{BLACK RIGHT-POINTING TRIANGLE}'"
newline|'\n'
DECL|variable|_bar
name|'_bar'
op|'='
string|"u'\\N{LIGHT SHADE}'"
newline|'\n'
DECL|variable|_slider
name|'_slider'
op|'='
string|"u'\\N{DARK SHADE}'"
newline|'\n'
DECL|member|render
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
name|'n'
op|'='
name|'width'
op|'-'
number|'3'
newline|'\n'
name|'before'
op|'='
name|'int'
op|'('
name|'n'
op|'*'
name|'self'
op|'.'
name|'percent'
op|')'
newline|'\n'
name|'after'
op|'='
name|'n'
op|'-'
name|'before'
newline|'\n'
name|'me'
op|'='
name|'self'
op|'.'
name|'_left'
op|'+'
op|'('
name|'self'
op|'.'
name|'_bar'
op|'*'
name|'before'
op|')'
op|'+'
name|'self'
op|'.'
name|'_slider'
op|'+'
op|'('
name|'self'
op|'.'
name|'_bar'
op|'*'
name|'after'
op|')'
op|'+'
name|'self'
op|'.'
name|'_right'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'me'
op|'.'
name|'encode'
op|'('
string|"'utf-8'"
op|')'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|VerticalScrollbar
dedent|''
dedent|''
name|'class'
name|'VerticalScrollbar'
op|'('
name|'_Scrollbar'
op|')'
op|':'
newline|'\n'
DECL|member|sizeHint
indent|'    '
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
op|'('
number|'1'
op|','
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_UP_ARROW
dedent|''
name|'def'
name|'func_UP_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'smaller'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_DOWN_ARROW
dedent|''
name|'def'
name|'func_DOWN_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'bigger'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|variable|_up
dedent|''
name|'_up'
op|'='
string|"u'\\N{BLACK UP-POINTING TRIANGLE}'"
newline|'\n'
DECL|variable|_down
name|'_down'
op|'='
string|"u'\\N{BLACK DOWN-POINTING TRIANGLE}'"
newline|'\n'
DECL|variable|_bar
name|'_bar'
op|'='
string|"u'\\N{LIGHT SHADE}'"
newline|'\n'
DECL|variable|_slider
name|'_slider'
op|'='
string|"u'\\N{DARK SHADE}'"
newline|'\n'
DECL|member|render
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
number|'0'
op|')'
newline|'\n'
name|'knob'
op|'='
name|'int'
op|'('
name|'self'
op|'.'
name|'percent'
op|'*'
op|'('
name|'height'
op|'-'
number|'2'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'_up'
op|'.'
name|'encode'
op|'('
string|"'utf-8'"
op|')'
op|')'
newline|'\n'
name|'for'
name|'i'
name|'in'
name|'xrange'
op|'('
number|'1'
op|','
name|'height'
op|'-'
number|'1'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'i'
op|')'
newline|'\n'
name|'if'
name|'i'
op|'!='
op|'('
name|'knob'
op|'+'
number|'1'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'terminal'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'_bar'
op|'.'
name|'encode'
op|'('
string|"'utf-8'"
op|')'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'terminal'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'_slider'
op|'.'
name|'encode'
op|'('
string|"'utf-8'"
op|')'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'height'
op|'-'
number|'1'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'_down'
op|'.'
name|'encode'
op|'('
string|"'utf-8'"
op|')'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|ScrolledArea
dedent|''
dedent|''
name|'class'
name|'ScrolledArea'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'containee'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'containee'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_viewport'
op|'='
name|'Viewport'
op|'('
name|'containee'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_horiz'
op|'='
name|'HorizontalScrollbar'
op|'('
name|'self'
op|'.'
name|'_horizScroll'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_vert'
op|'='
name|'VerticalScrollbar'
op|'('
name|'self'
op|'.'
name|'_vertScroll'
op|')'
newline|'\n'
nl|'\n'
name|'for'
name|'w'
name|'in'
name|'self'
op|'.'
name|'_viewport'
op|','
name|'self'
op|'.'
name|'_horiz'
op|','
name|'self'
op|'.'
name|'_vert'
op|':'
newline|'\n'
indent|'            '
name|'w'
op|'.'
name|'parent'
op|'='
name|'self'
newline|'\n'
nl|'\n'
DECL|member|_horizScroll
dedent|''
dedent|''
name|'def'
name|'_horizScroll'
op|'('
name|'self'
op|','
name|'n'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'xOffset'
op|'+='
name|'n'
newline|'\n'
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'xOffset'
op|'='
name|'max'
op|'('
number|'0'
op|','
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'xOffset'
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'xOffset'
op|'/'
number|'25.0'
newline|'\n'
nl|'\n'
DECL|member|_vertScroll
dedent|''
name|'def'
name|'_vertScroll'
op|'('
name|'self'
op|','
name|'n'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'yOffset'
op|'+='
name|'n'
newline|'\n'
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'yOffset'
op|'='
name|'max'
op|'('
number|'0'
op|','
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'yOffset'
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'yOffset'
op|'/'
number|'25.0'
newline|'\n'
nl|'\n'
DECL|member|func_UP_ARROW
dedent|''
name|'def'
name|'func_UP_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_vert'
op|'.'
name|'smaller'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_DOWN_ARROW
dedent|''
name|'def'
name|'func_DOWN_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_vert'
op|'.'
name|'bigger'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_LEFT_ARROW
dedent|''
name|'def'
name|'func_LEFT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_horiz'
op|'.'
name|'smaller'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_RIGHT_ARROW
dedent|''
name|'def'
name|'func_RIGHT_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_horiz'
op|'.'
name|'bigger'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|filthy
dedent|''
name|'def'
name|'filthy'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_horiz'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_vert'
op|'.'
name|'filthy'
op|'('
op|')'
newline|'\n'
name|'Widget'
op|'.'
name|'filthy'
op|'('
name|'self'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'wrapper'
op|'='
name|'BoundedTerminalWrapper'
op|'('
name|'terminal'
op|','
name|'width'
op|'-'
number|'2'
op|','
name|'height'
op|'-'
number|'2'
op|','
number|'1'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_viewport'
op|'.'
name|'draw'
op|'('
name|'width'
op|'-'
number|'2'
op|','
name|'height'
op|'-'
number|'2'
op|','
name|'wrapper'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'write'
op|'('
string|"'\\x1b[31m'"
op|')'
newline|'\n'
dedent|''
name|'horizontalLine'
op|'('
name|'terminal'
op|','
number|'0'
op|','
number|'1'
op|','
name|'width'
op|'-'
number|'1'
op|')'
newline|'\n'
name|'verticalLine'
op|'('
name|'terminal'
op|','
number|'0'
op|','
number|'1'
op|','
name|'height'
op|'-'
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_vert'
op|'.'
name|'draw'
op|'('
number|'1'
op|','
name|'height'
op|'-'
number|'1'
op|','
name|'BoundedTerminalWrapper'
op|'('
name|'terminal'
op|','
number|'1'
op|','
name|'height'
op|'-'
number|'1'
op|','
name|'width'
op|'-'
number|'1'
op|','
number|'0'
op|')'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_horiz'
op|'.'
name|'draw'
op|'('
name|'width'
op|','
number|'1'
op|','
name|'BoundedTerminalWrapper'
op|'('
name|'terminal'
op|','
name|'width'
op|','
number|'1'
op|','
number|'0'
op|','
name|'height'
op|'-'
number|'1'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
string|"'\\x1b[0m'"
op|')'
newline|'\n'
nl|'\n'
DECL|function|cursor
dedent|''
dedent|''
name|'def'
name|'cursor'
op|'('
name|'terminal'
op|','
name|'ch'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'terminal'
op|'.'
name|'saveCursor'
op|'('
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'selectGraphicRendition'
op|'('
name|'str'
op|'('
name|'insults'
op|'.'
name|'REVERSE_VIDEO'
op|')'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'ch'
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'restoreCursor'
op|'('
op|')'
newline|'\n'
name|'terminal'
op|'.'
name|'cursorForward'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|Selection
dedent|''
name|'class'
name|'Selection'
op|'('
name|'Widget'
op|')'
op|':'
newline|'\n'
comment|'# Index into the sequence'
nl|'\n'
DECL|variable|focusedIndex
indent|'    '
name|'focusedIndex'
op|'='
number|'0'
newline|'\n'
nl|'\n'
comment|'# Offset into the displayed subset of the sequence'
nl|'\n'
DECL|variable|renderOffset
name|'renderOffset'
op|'='
number|'0'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'sequence'
op|','
name|'onSelect'
op|','
name|'minVisible'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Widget'
op|'.'
name|'__init__'
op|'('
name|'self'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'sequence'
op|'='
name|'sequence'
newline|'\n'
name|'self'
op|'.'
name|'onSelect'
op|'='
name|'onSelect'
newline|'\n'
name|'self'
op|'.'
name|'minVisible'
op|'='
name|'minVisible'
newline|'\n'
name|'if'
name|'minVisible'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'_width'
op|'='
name|'max'
op|'('
name|'map'
op|'('
name|'len'
op|','
name|'self'
op|'.'
name|'sequence'
op|')'
op|')'
newline|'\n'
nl|'\n'
DECL|member|sizeHint
dedent|''
dedent|''
name|'def'
name|'sizeHint'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'minVisible'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'self'
op|'.'
name|'_width'
op|','
name|'self'
op|'.'
name|'minVisible'
newline|'\n'
nl|'\n'
DECL|member|func_UP_ARROW
dedent|''
dedent|''
name|'def'
name|'func_UP_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'focusedIndex'
op|'>'
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedIndex'
op|'-='
number|'1'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'renderOffset'
op|'>'
number|'0'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'renderOffset'
op|'-='
number|'1'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_PGUP
dedent|''
dedent|''
name|'def'
name|'func_PGUP'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'renderOffset'
op|'!='
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedIndex'
op|'-='
name|'self'
op|'.'
name|'renderOffset'
newline|'\n'
name|'self'
op|'.'
name|'renderOffset'
op|'='
number|'0'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedIndex'
op|'='
name|'max'
op|'('
number|'0'
op|','
name|'self'
op|'.'
name|'focusedIndex'
op|'-'
name|'self'
op|'.'
name|'height'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|func_DOWN_ARROW
dedent|''
name|'def'
name|'func_DOWN_ARROW'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'focusedIndex'
op|'<'
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|'-'
number|'1'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedIndex'
op|'+='
number|'1'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'renderOffset'
op|'<'
name|'self'
op|'.'
name|'height'
op|'-'
number|'1'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'renderOffset'
op|'+='
number|'1'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|func_PGDN
dedent|''
dedent|''
name|'def'
name|'func_PGDN'
op|'('
name|'self'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'renderOffset'
op|'!='
name|'self'
op|'.'
name|'height'
op|'-'
number|'1'
op|':'
newline|'\n'
indent|'            '
name|'change'
op|'='
name|'self'
op|'.'
name|'height'
op|'-'
name|'self'
op|'.'
name|'renderOffset'
op|'-'
number|'1'
newline|'\n'
name|'if'
name|'change'
op|'+'
name|'self'
op|'.'
name|'focusedIndex'
op|'>='
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|':'
newline|'\n'
indent|'                '
name|'change'
op|'='
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|'-'
name|'self'
op|'.'
name|'focusedIndex'
op|'-'
number|'1'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'focusedIndex'
op|'+='
name|'change'
newline|'\n'
name|'self'
op|'.'
name|'renderOffset'
op|'='
name|'self'
op|'.'
name|'height'
op|'-'
number|'1'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'focusedIndex'
op|'='
name|'min'
op|'('
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|'-'
number|'1'
op|','
name|'self'
op|'.'
name|'focusedIndex'
op|'+'
name|'self'
op|'.'
name|'height'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'repaint'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|characterReceived
dedent|''
name|'def'
name|'characterReceived'
op|'('
name|'self'
op|','
name|'keyID'
op|','
name|'modifier'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'keyID'
op|'=='
string|"'\\r'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'onSelect'
op|'('
name|'self'
op|'.'
name|'sequence'
op|'['
name|'self'
op|'.'
name|'focusedIndex'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|render
dedent|''
dedent|''
name|'def'
name|'render'
op|'('
name|'self'
op|','
name|'width'
op|','
name|'height'
op|','
name|'terminal'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'height'
op|'='
name|'height'
newline|'\n'
name|'start'
op|'='
name|'self'
op|'.'
name|'focusedIndex'
op|'-'
name|'self'
op|'.'
name|'renderOffset'
newline|'\n'
name|'if'
name|'start'
op|'>'
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|'-'
name|'height'
op|':'
newline|'\n'
indent|'            '
name|'start'
op|'='
name|'max'
op|'('
number|'0'
op|','
name|'len'
op|'('
name|'self'
op|'.'
name|'sequence'
op|')'
op|'-'
name|'height'
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'elements'
op|'='
name|'self'
op|'.'
name|'sequence'
op|'['
name|'start'
op|':'
name|'start'
op|'+'
name|'height'
op|']'
newline|'\n'
nl|'\n'
name|'for'
name|'n'
op|','
name|'ele'
name|'in'
name|'enumerate'
op|'('
name|'elements'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'terminal'
op|'.'
name|'cursorPosition'
op|'('
number|'0'
op|','
name|'n'
op|')'
newline|'\n'
name|'if'
name|'n'
op|'=='
name|'self'
op|'.'
name|'renderOffset'
op|':'
newline|'\n'
indent|'                '
name|'terminal'
op|'.'
name|'saveCursor'
op|'('
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'focused'
op|':'
newline|'\n'
indent|'                    '
name|'modes'
op|'='
name|'str'
op|'('
name|'insults'
op|'.'
name|'REVERSE_VIDEO'
op|')'
op|','
name|'str'
op|'('
name|'insults'
op|'.'
name|'BOLD'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                    '
name|'modes'
op|'='
name|'str'
op|'('
name|'insults'
op|'.'
name|'REVERSE_VIDEO'
op|')'
op|','
newline|'\n'
dedent|''
name|'terminal'
op|'.'
name|'selectGraphicRendition'
op|'('
op|'*'
name|'modes'
op|')'
newline|'\n'
dedent|''
name|'text'
op|'='
name|'ele'
op|'['
op|':'
name|'width'
op|']'
newline|'\n'
name|'terminal'
op|'.'
name|'write'
op|'('
name|'text'
op|'+'
op|'('
string|"' '"
op|'*'
op|'('
name|'width'
op|'-'
name|'len'
op|'('
name|'text'
op|')'
op|')'
op|')'
op|')'
newline|'\n'
name|'if'
name|'n'
op|'=='
name|'self'
op|'.'
name|'renderOffset'
op|':'
newline|'\n'
indent|'                '
name|'terminal'
op|'.'
name|'restoreCursor'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
dedent|''
dedent|''
endmarker|''
end_unit
