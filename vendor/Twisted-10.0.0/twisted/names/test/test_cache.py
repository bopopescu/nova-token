begin_unit
comment|'# Copyright (c) 2006 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
name|'import'
name|'time'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'trial'
name|'import'
name|'unittest'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'names'
name|'import'
name|'dns'
op|','
name|'cache'
newline|'\n'
nl|'\n'
DECL|class|Caching
name|'class'
name|'Caching'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
DECL|member|testLookup
indent|'    '
name|'def'
name|'testLookup'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'c'
op|'='
name|'cache'
op|'.'
name|'CacheResolver'
op|'('
op|'{'
nl|'\n'
name|'dns'
op|'.'
name|'Query'
op|'('
name|'name'
op|'='
string|"'example.com'"
op|','
name|'type'
op|'='
name|'dns'
op|'.'
name|'MX'
op|','
name|'cls'
op|'='
name|'dns'
op|'.'
name|'IN'
op|')'
op|':'
op|'('
name|'time'
op|'.'
name|'time'
op|'('
op|')'
op|','
op|'('
op|'['
op|']'
op|','
op|'['
op|']'
op|','
op|'['
op|']'
op|')'
op|')'
op|'}'
op|')'
newline|'\n'
name|'return'
name|'c'
op|'.'
name|'lookupMailExchange'
op|'('
string|"'example.com'"
op|')'
op|'.'
name|'addCallback'
op|'('
name|'self'
op|'.'
name|'assertEquals'
op|','
op|'('
op|'['
op|']'
op|','
op|'['
op|']'
op|','
op|'['
op|']'
op|')'
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
