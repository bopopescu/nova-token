begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
comment|'#'
nl|'\n'
nl|'\n'
string|'"""HTML pretty-printing for Python source code."""'
newline|'\n'
nl|'\n'
DECL|variable|__version__
name|'__version__'
op|'='
string|"'$Revision: 1.8 $'"
op|'['
number|'11'
op|':'
op|'-'
number|'2'
op|']'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
name|'import'
name|'htmlizer'
op|','
name|'usage'
newline|'\n'
name|'from'
name|'twisted'
name|'import'
name|'copyright'
newline|'\n'
nl|'\n'
name|'import'
name|'os'
op|','
name|'sys'
newline|'\n'
nl|'\n'
name|'header'
op|'='
string|'\'\'\'<html><head>\n<title>%(title)s</title>\n<meta name=\\"Generator\\" content="%(generator)s" />\n%(alternate)s\n%(stylesheet)s\n</head>\n<body>\n\'\'\''
newline|'\n'
name|'footer'
op|'='
string|'"""</body>"""'
newline|'\n'
nl|'\n'
name|'styleLink'
op|'='
string|'\'<link rel="stylesheet" href="%s" type="text/css" />\''
newline|'\n'
name|'alternateLink'
op|'='
string|'\'<link rel="alternate" href="%(source)s" type="text/x-python" />\''
newline|'\n'
nl|'\n'
DECL|class|Options
name|'class'
name|'Options'
op|'('
name|'usage'
op|'.'
name|'Options'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'synopsis'
op|'='
string|'"""%s [options] source.py\n    """'
op|'%'
op|'('
nl|'\n'
name|'os'
op|'.'
name|'path'
op|'.'
name|'basename'
op|'('
name|'sys'
op|'.'
name|'argv'
op|'['
number|'0'
op|']'
op|')'
op|','
op|')'
newline|'\n'
nl|'\n'
DECL|variable|optParameters
name|'optParameters'
op|'='
op|'['
nl|'\n'
op|'('
string|"'stylesheet'"
op|','
string|"'s'"
op|','
name|'None'
op|','
string|'"URL of stylesheet to link to."'
op|')'
op|','
nl|'\n'
op|']'
newline|'\n'
DECL|variable|zsh_extras
name|'zsh_extras'
op|'='
op|'['
string|'"1:source python file:_files -g \'*.py\'"'
op|']'
newline|'\n'
nl|'\n'
DECL|member|parseArgs
name|'def'
name|'parseArgs'
op|'('
name|'self'
op|','
name|'filename'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'['
string|"'filename'"
op|']'
op|'='
name|'filename'
newline|'\n'
nl|'\n'
DECL|function|run
dedent|''
dedent|''
name|'def'
name|'run'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'options'
op|'='
name|'Options'
op|'('
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'        '
name|'options'
op|'.'
name|'parseOptions'
op|'('
op|')'
newline|'\n'
dedent|''
name|'except'
name|'usage'
op|'.'
name|'UsageError'
op|','
name|'e'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'str'
op|'('
name|'e'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'exit'
op|'('
number|'1'
op|')'
newline|'\n'
dedent|''
name|'filename'
op|'='
name|'options'
op|'['
string|"'filename'"
op|']'
newline|'\n'
name|'if'
name|'options'
op|'.'
name|'get'
op|'('
string|"'stylesheet'"
op|')'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\n'
indent|'        '
name|'stylesheet'
op|'='
name|'styleLink'
op|'%'
op|'('
name|'options'
op|'['
string|"'stylesheet'"
op|']'
op|','
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'        '
name|'stylesheet'
op|'='
string|"''"
newline|'\n'
nl|'\n'
dedent|''
name|'output'
op|'='
name|'open'
op|'('
name|'filename'
op|'+'
string|"'.html'"
op|','
string|"'w'"
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'        '
name|'output'
op|'.'
name|'write'
op|'('
name|'header'
op|'%'
op|'{'
nl|'\n'
string|"'title'"
op|':'
name|'filename'
op|','
nl|'\n'
string|"'generator'"
op|':'
string|"'htmlizer/%s'"
op|'%'
op|'('
name|'copyright'
op|'.'
name|'longversion'
op|','
op|')'
op|','
nl|'\n'
string|"'alternate'"
op|':'
name|'alternateLink'
op|'%'
op|'{'
string|"'source'"
op|':'
name|'filename'
op|'}'
op|','
nl|'\n'
string|"'stylesheet'"
op|':'
name|'stylesheet'
nl|'\n'
op|'}'
op|')'
newline|'\n'
name|'htmlizer'
op|'.'
name|'filter'
op|'('
name|'open'
op|'('
name|'filename'
op|')'
op|','
name|'output'
op|','
nl|'\n'
name|'htmlizer'
op|'.'
name|'SmallerHTMLWriter'
op|')'
newline|'\n'
name|'output'
op|'.'
name|'write'
op|'('
name|'footer'
op|')'
newline|'\n'
dedent|''
name|'finally'
op|':'
newline|'\n'
indent|'        '
name|'output'
op|'.'
name|'close'
op|'('
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
