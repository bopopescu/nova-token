begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
name|'import'
name|'usage'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'application'
name|'import'
name|'app'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'persisted'
name|'import'
name|'sob'
newline|'\n'
name|'import'
name|'sys'
op|','
name|'getpass'
newline|'\n'
nl|'\n'
DECL|class|ConvertOptions
name|'class'
name|'ConvertOptions'
op|'('
name|'usage'
op|'.'
name|'Options'
op|')'
op|':'
newline|'\n'
DECL|variable|synopsis
indent|'    '
name|'synopsis'
op|'='
string|'"Usage: tapconvert [options]"'
newline|'\n'
DECL|variable|optParameters
name|'optParameters'
op|'='
op|'['
nl|'\n'
op|'['
string|"'in'"
op|','
string|"'i'"
op|','
name|'None'
op|','
string|'"The filename of the tap to read from"'
op|']'
op|','
nl|'\n'
op|'['
string|"'out'"
op|','
string|"'o'"
op|','
name|'None'
op|','
string|'"A filename to write the tap to"'
op|']'
op|','
nl|'\n'
op|'['
string|"'typein'"
op|','
string|"'f'"
op|','
string|"'guess'"
op|','
nl|'\n'
string|'"The  format to use; this can be \'guess\', \'python\', "'
nl|'\n'
string|'"\'pickle\', \'xml\', or \'source\'."'
op|']'
op|','
nl|'\n'
op|'['
string|"'typeout'"
op|','
string|"'t'"
op|','
string|"'source'"
op|','
nl|'\n'
string|'"The output format to use; this can be \'pickle\', \'xml\', or \'source\'."'
op|']'
op|','
nl|'\n'
op|']'
newline|'\n'
nl|'\n'
DECL|variable|optFlags
name|'optFlags'
op|'='
op|'['
nl|'\n'
op|'['
string|"'decrypt'"
op|','
string|"'d'"
op|','
string|'"The specified tap/aos/xml file is encrypted."'
op|']'
op|','
nl|'\n'
op|'['
string|"'encrypt'"
op|','
string|"'e'"
op|','
string|'"Encrypt file before writing"'
op|']'
nl|'\n'
op|']'
newline|'\n'
comment|'#zsh_altArgDescr = {"foo":"use this description for foo instead"}'
nl|'\n'
comment|'#zsh_multiUse = ["foo", "bar"]'
nl|'\n'
comment|'#zsh_mutuallyExclusive = [("foo", "bar"), ("bar", "baz")]'
nl|'\n'
DECL|variable|zsh_actions
name|'zsh_actions'
op|'='
op|'{'
string|'"typein"'
op|':'
string|'"(guess python pickle xml source)"'
op|','
nl|'\n'
string|'"typeout"'
op|':'
string|'"(pickle xml source)"'
op|'}'
newline|'\n'
DECL|variable|zsh_actionDescr
name|'zsh_actionDescr'
op|'='
op|'{'
string|'"in"'
op|':'
string|'"tap file to read from"'
op|','
nl|'\n'
string|'"out"'
op|':'
string|'"tap file to write to"'
op|'}'
newline|'\n'
nl|'\n'
DECL|member|postOptions
name|'def'
name|'postOptions'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'['
string|"'in'"
op|']'
name|'is'
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'usage'
op|'.'
name|'UsageError'
op|'('
string|'"%s\\nYou must specify the input filename."'
nl|'\n'
op|'%'
name|'self'
op|')'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'['
string|'"typein"'
op|']'
op|'=='
string|'"guess"'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'['
string|'"typein"'
op|']'
op|'='
name|'sob'
op|'.'
name|'guessType'
op|'('
name|'self'
op|'['
string|'"in"'
op|']'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'KeyError'
op|':'
newline|'\n'
indent|'                '
name|'raise'
name|'usage'
op|'.'
name|'UsageError'
op|'('
string|'"Could not guess type for \'%s\'"'
op|'%'
nl|'\n'
name|'self'
op|'['
string|'"typein"'
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|function|run
dedent|''
dedent|''
dedent|''
dedent|''
name|'def'
name|'run'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'options'
op|'='
name|'ConvertOptions'
op|'('
op|')'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'        '
name|'options'
op|'.'
name|'parseOptions'
op|'('
name|'sys'
op|'.'
name|'argv'
op|'['
number|'1'
op|':'
op|']'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'usage'
op|'.'
name|'UsageError'
op|','
name|'e'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'e'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'        '
name|'app'
op|'.'
name|'convertStyle'
op|'('
name|'options'
op|'['
string|'"in"'
op|']'
op|','
name|'options'
op|'['
string|'"typein"'
op|']'
op|','
nl|'\n'
name|'options'
op|'.'
name|'opts'
op|'['
string|"'decrypt'"
op|']'
name|'or'
name|'getpass'
op|'.'
name|'getpass'
op|'('
string|"'Passphrase: '"
op|')'
op|','
nl|'\n'
name|'options'
op|'['
string|'"out"'
op|']'
op|','
name|'options'
op|'['
string|"'typeout'"
op|']'
op|','
name|'options'
op|'['
string|'"encrypt"'
op|']'
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
