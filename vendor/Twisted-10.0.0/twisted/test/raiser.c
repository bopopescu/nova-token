begin_unit
begin_comment
comment|/* Generated by Pyrex 0.9.5.1a on Wed Apr  9 19:55:33 2008 */
end_comment
begin_include
include|#
directive|include
file|"Python.h"
end_include
begin_include
include|#
directive|include
file|"structmember.h"
end_include
begin_ifndef
ifndef|#
directive|ifndef
name|PY_LONG_LONG
end_ifndef
begin_define
DECL|macro|PY_LONG_LONG
define|#
directive|define
name|PY_LONG_LONG
value|LONG_LONG
end_define
begin_endif
endif|#
directive|endif
end_endif
begin_ifdef
ifdef|#
directive|ifdef
name|__cplusplus
end_ifdef
begin_define
DECL|macro|__PYX_EXTERN_C
define|#
directive|define
name|__PYX_EXTERN_C
value|extern "C"
end_define
begin_else
else|#
directive|else
end_else
begin_define
DECL|macro|__PYX_EXTERN_C
define|#
directive|define
name|__PYX_EXTERN_C
value|extern
end_define
begin_endif
endif|#
directive|endif
end_endif
begin_function_decl
name|__PYX_EXTERN_C
name|double
name|pow
parameter_list|(
name|double
parameter_list|,
name|double
parameter_list|)
function_decl|;
end_function_decl
begin_typedef
DECL|member|p
DECL|member|s
DECL|typedef|__Pyx_InternTabEntry
typedef|typedef
struct|struct
block|{
name|PyObject
modifier|*
modifier|*
name|p
decl_stmt|;
name|char
modifier|*
name|s
decl_stmt|;
block|}
name|__Pyx_InternTabEntry
typedef|;
end_typedef
begin_comment
DECL|member|p
DECL|member|s
DECL|typedef|__Pyx_InternTabEntry
comment|/*proto*/
end_comment
begin_typedef
DECL|member|p
DECL|member|s
DECL|member|n
DECL|typedef|__Pyx_StringTabEntry
typedef|typedef
struct|struct
block|{
name|PyObject
modifier|*
modifier|*
name|p
decl_stmt|;
name|char
modifier|*
name|s
decl_stmt|;
name|long
name|n
decl_stmt|;
block|}
name|__Pyx_StringTabEntry
typedef|;
end_typedef
begin_comment
DECL|member|p
DECL|member|s
DECL|member|n
DECL|typedef|__Pyx_StringTabEntry
comment|/*proto*/
end_comment
begin_decl_stmt
DECL|variable|__pyx_m
specifier|static
name|PyObject
modifier|*
name|__pyx_m
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_b
specifier|static
name|PyObject
modifier|*
name|__pyx_b
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_lineno
specifier|static
name|int
name|__pyx_lineno
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_filename
specifier|static
name|char
modifier|*
name|__pyx_filename
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_f
specifier|static
name|char
modifier|*
modifier|*
name|__pyx_f
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_mdoc
specifier|static
name|char
name|__pyx_mdoc
index|[]
init|=
literal|"\nA trivial extension that just raises an exception.\nSee L{twisted.test.test_failure.test_failureConstructionWithMungedStackSucceeds}.\n"
decl_stmt|;
end_decl_stmt
begin_function_decl
specifier|static
name|PyObject
modifier|*
name|__Pyx_GetName
parameter_list|(
name|PyObject
modifier|*
name|dict
parameter_list|,
name|PyObject
modifier|*
name|name
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
specifier|static
name|PyObject
modifier|*
name|__Pyx_CreateClass
parameter_list|(
name|PyObject
modifier|*
name|bases
parameter_list|,
name|PyObject
modifier|*
name|dict
parameter_list|,
name|PyObject
modifier|*
name|name
parameter_list|,
name|char
modifier|*
name|modname
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
specifier|static
name|void
name|__Pyx_Raise
parameter_list|(
name|PyObject
modifier|*
name|type
parameter_list|,
name|PyObject
modifier|*
name|value
parameter_list|,
name|PyObject
modifier|*
name|tb
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
specifier|static
name|int
name|__Pyx_InternStrings
parameter_list|(
name|__Pyx_InternTabEntry
modifier|*
name|t
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
specifier|static
name|int
name|__Pyx_InitStrings
parameter_list|(
name|__Pyx_StringTabEntry
modifier|*
name|t
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
specifier|static
name|void
name|__Pyx_AddTraceback
parameter_list|(
name|char
modifier|*
name|funcname
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_comment
comment|/* Declarations from raiser */
end_comment
begin_comment
comment|/* Implementation of raiser */
end_comment
begin_expr_stmt
DECL|variable|__pyx_k2
specifier|static
name|char
argument_list|(
name|__pyx_k2
index|[]
argument_list|)
operator|=
literal|"\n    A speficic exception only used to be identified in tests.\n    "
expr_stmt|;
end_expr_stmt
begin_decl_stmt
DECL|variable|__pyx_n_RaiserException
specifier|static
name|PyObject
modifier|*
name|__pyx_n_RaiserException
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_n_raiseException
specifier|static
name|PyObject
modifier|*
name|__pyx_n_raiseException
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_n_Exception
specifier|static
name|PyObject
modifier|*
name|__pyx_n_Exception
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_k2p
specifier|static
name|PyObject
modifier|*
name|__pyx_k2p
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_k3p
specifier|static
name|PyObject
modifier|*
name|__pyx_k3p
decl_stmt|;
end_decl_stmt
begin_expr_stmt
DECL|variable|__pyx_k3
specifier|static
name|char
argument_list|(
name|__pyx_k3
index|[]
argument_list|)
operator|=
literal|"This function is intentionally broken"
expr_stmt|;
end_expr_stmt
begin_function_decl
specifier|static
name|PyObject
modifier|*
name|__pyx_f_6raiser_raiseException
parameter_list|(
name|PyObject
modifier|*
name|__pyx_self
parameter_list|,
name|PyObject
modifier|*
name|__pyx_args
parameter_list|,
name|PyObject
modifier|*
name|__pyx_kwds
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_decl_stmt
DECL|variable|__pyx_doc_6raiser_raiseException
specifier|static
name|char
name|__pyx_doc_6raiser_raiseException
index|[]
init|=
literal|"\n    Raise L{RaiserException}.\n    "
decl_stmt|;
end_decl_stmt
begin_function
DECL|function|__pyx_f_6raiser_raiseException
specifier|static
name|PyObject
modifier|*
name|__pyx_f_6raiser_raiseException
parameter_list|(
name|PyObject
modifier|*
name|__pyx_self
parameter_list|,
name|PyObject
modifier|*
name|__pyx_args
parameter_list|,
name|PyObject
modifier|*
name|__pyx_kwds
parameter_list|)
block|{
name|PyObject
modifier|*
name|__pyx_r
decl_stmt|;
name|PyObject
modifier|*
name|__pyx_1
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|__pyx_2
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|__pyx_3
init|=
literal|0
decl_stmt|;
specifier|static
name|char
modifier|*
name|__pyx_argnames
index|[]
init|=
block|{
literal|0
block|}
decl_stmt|;
if|if
condition|(
operator|!
name|PyArg_ParseTupleAndKeywords
argument_list|(
name|__pyx_args
argument_list|,
name|__pyx_kwds
argument_list|,
literal|""
argument_list|,
name|__pyx_argnames
argument_list|)
condition|)
return|return
literal|0
return|;
comment|/* "/home/therve/Projects/Twisted/branches/failure-c-extension-3132/twisted/test/raiser.pyx":21 */
name|__pyx_1
operator|=
name|__Pyx_GetName
argument_list|(
name|__pyx_m
argument_list|,
name|__pyx_n_RaiserException
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_1
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|21
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|__pyx_2
operator|=
name|PyTuple_New
argument_list|(
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_2
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|21
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|Py_INCREF
argument_list|(
name|__pyx_k3p
argument_list|)
expr_stmt|;
name|PyTuple_SET_ITEM
argument_list|(
name|__pyx_2
argument_list|,
literal|0
argument_list|,
name|__pyx_k3p
argument_list|)
expr_stmt|;
name|__pyx_3
operator|=
name|PyObject_CallObject
argument_list|(
name|__pyx_1
argument_list|,
name|__pyx_2
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_3
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|21
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|Py_DECREF
argument_list|(
name|__pyx_1
argument_list|)
expr_stmt|;
name|__pyx_1
operator|=
literal|0
expr_stmt|;
name|Py_DECREF
argument_list|(
name|__pyx_2
argument_list|)
expr_stmt|;
name|__pyx_2
operator|=
literal|0
expr_stmt|;
name|__Pyx_Raise
argument_list|(
name|__pyx_3
argument_list|,
literal|0
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|Py_DECREF
argument_list|(
name|__pyx_3
argument_list|)
expr_stmt|;
name|__pyx_3
operator|=
literal|0
expr_stmt|;
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|21
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|__pyx_r
operator|=
name|Py_None
expr_stmt|;
name|Py_INCREF
argument_list|(
name|Py_None
argument_list|)
expr_stmt|;
goto|goto
name|__pyx_L0
goto|;
name|__pyx_L1
label|:
empty_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_1
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_2
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_3
argument_list|)
expr_stmt|;
name|__Pyx_AddTraceback
argument_list|(
literal|"raiser.raiseException"
argument_list|)
expr_stmt|;
name|__pyx_r
operator|=
literal|0
expr_stmt|;
name|__pyx_L0
label|:
empty_stmt|;
return|return
name|__pyx_r
return|;
block|}
end_function
begin_decl_stmt
DECL|variable|__pyx_intern_tab
specifier|static
name|__Pyx_InternTabEntry
name|__pyx_intern_tab
index|[]
init|=
block|{
block|{
operator|&
name|__pyx_n_Exception
block|,
literal|"Exception"
block|}
block|,
block|{
operator|&
name|__pyx_n_RaiserException
block|,
literal|"RaiserException"
block|}
block|,
block|{
operator|&
name|__pyx_n_raiseException
block|,
literal|"raiseException"
block|}
block|,
block|{
literal|0
block|,
literal|0
block|}
block|}
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_string_tab
specifier|static
name|__Pyx_StringTabEntry
name|__pyx_string_tab
index|[]
init|=
block|{
block|{
operator|&
name|__pyx_k2p
block|,
name|__pyx_k2
block|,
expr|sizeof
operator|(
name|__pyx_k2
operator|)
block|}
block|,
block|{
operator|&
name|__pyx_k3p
block|,
name|__pyx_k3
block|,
expr|sizeof
operator|(
name|__pyx_k3
operator|)
block|}
block|,
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|}
block|}
decl_stmt|;
end_decl_stmt
begin_decl_stmt
DECL|variable|__pyx_methods
specifier|static
name|struct
name|PyMethodDef
name|__pyx_methods
index|[]
init|=
block|{
block|{
literal|"raiseException"
block|,
operator|(
name|PyCFunction
operator|)
name|__pyx_f_6raiser_raiseException
block|,
name|METH_VARARGS
operator||
name|METH_KEYWORDS
block|,
name|__pyx_doc_6raiser_raiseException
block|}
block|,
block|{
literal|0
block|,
literal|0
block|,
literal|0
block|,
literal|0
block|}
block|}
decl_stmt|;
end_decl_stmt
begin_function_decl
specifier|static
name|void
name|__pyx_init_filenames
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function_decl
name|PyMODINIT_FUNC
name|initraiser
parameter_list|(
name|void
parameter_list|)
function_decl|;
end_function_decl
begin_comment
comment|/*proto*/
end_comment
begin_function
DECL|function|initraiser
name|PyMODINIT_FUNC
name|initraiser
parameter_list|(
name|void
parameter_list|)
block|{
name|PyObject
modifier|*
name|__pyx_1
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|__pyx_2
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|__pyx_3
init|=
literal|0
decl_stmt|;
name|__pyx_init_filenames
argument_list|()
expr_stmt|;
name|__pyx_m
operator|=
name|Py_InitModule4
argument_list|(
literal|"raiser"
argument_list|,
name|__pyx_methods
argument_list|,
name|__pyx_mdoc
argument_list|,
literal|0
argument_list|,
name|PYTHON_API_VERSION
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_m
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|4
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
empty_stmt|;
name|__pyx_b
operator|=
name|PyImport_AddModule
argument_list|(
literal|"__builtin__"
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_b
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|4
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
empty_stmt|;
if|if
condition|(
name|PyObject_SetAttrString
argument_list|(
name|__pyx_m
argument_list|,
literal|"__builtins__"
argument_list|,
name|__pyx_b
argument_list|)
operator|<
literal|0
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|4
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
empty_stmt|;
if|if
condition|(
name|__Pyx_InternStrings
argument_list|(
name|__pyx_intern_tab
argument_list|)
operator|<
literal|0
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|4
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
empty_stmt|;
if|if
condition|(
name|__Pyx_InitStrings
argument_list|(
name|__pyx_string_tab
argument_list|)
operator|<
literal|0
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|4
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
empty_stmt|;
comment|/* "/home/therve/Projects/Twisted/branches/failure-c-extension-3132/twisted/test/raiser.pyx":11 */
name|__pyx_1
operator|=
name|PyDict_New
argument_list|()
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_1
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|__pyx_2
operator|=
name|__Pyx_GetName
argument_list|(
name|__pyx_b
argument_list|,
name|__pyx_n_Exception
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_2
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|__pyx_3
operator|=
name|PyTuple_New
argument_list|(
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_3
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|PyTuple_SET_ITEM
argument_list|(
name|__pyx_3
argument_list|,
literal|0
argument_list|,
name|__pyx_2
argument_list|)
expr_stmt|;
name|__pyx_2
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|PyDict_SetItemString
argument_list|(
name|__pyx_1
argument_list|,
literal|"__doc__"
argument_list|,
name|__pyx_k2p
argument_list|)
operator|<
literal|0
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|__pyx_2
operator|=
name|__Pyx_CreateClass
argument_list|(
name|__pyx_3
argument_list|,
name|__pyx_1
argument_list|,
name|__pyx_n_RaiserException
argument_list|,
literal|"raiser"
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|__pyx_2
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|Py_DECREF
argument_list|(
name|__pyx_3
argument_list|)
expr_stmt|;
name|__pyx_3
operator|=
literal|0
expr_stmt|;
if|if
condition|(
name|PyObject_SetAttr
argument_list|(
name|__pyx_m
argument_list|,
name|__pyx_n_RaiserException
argument_list|,
name|__pyx_2
argument_list|)
operator|<
literal|0
condition|)
block|{
name|__pyx_filename
operator|=
name|__pyx_f
index|[
literal|0
index|]
expr_stmt|;
name|__pyx_lineno
operator|=
literal|11
expr_stmt|;
goto|goto
name|__pyx_L1
goto|;
block|}
name|Py_DECREF
argument_list|(
name|__pyx_2
argument_list|)
expr_stmt|;
name|__pyx_2
operator|=
literal|0
expr_stmt|;
name|Py_DECREF
argument_list|(
name|__pyx_1
argument_list|)
expr_stmt|;
name|__pyx_1
operator|=
literal|0
expr_stmt|;
comment|/* "/home/therve/Projects/Twisted/branches/failure-c-extension-3132/twisted/test/raiser.pyx":17 */
return|return;
name|__pyx_L1
label|:
empty_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_1
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_2
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|__pyx_3
argument_list|)
expr_stmt|;
name|__Pyx_AddTraceback
argument_list|(
literal|"raiser"
argument_list|)
expr_stmt|;
block|}
end_function
begin_decl_stmt
DECL|variable|__pyx_filenames
specifier|static
name|char
modifier|*
name|__pyx_filenames
index|[]
init|=
block|{
literal|"raiser.pyx"
block|, }
decl_stmt|;
end_decl_stmt
begin_comment
comment|/* Runtime support code */
end_comment
begin_function
DECL|function|__pyx_init_filenames
specifier|static
name|void
name|__pyx_init_filenames
parameter_list|(
name|void
parameter_list|)
block|{
name|__pyx_f
operator|=
name|__pyx_filenames
expr_stmt|;
block|}
end_function
begin_function
DECL|function|__Pyx_GetName
specifier|static
name|PyObject
modifier|*
name|__Pyx_GetName
parameter_list|(
name|PyObject
modifier|*
name|dict
parameter_list|,
name|PyObject
modifier|*
name|name
parameter_list|)
block|{
name|PyObject
modifier|*
name|result
decl_stmt|;
name|result
operator|=
name|PyObject_GetAttr
argument_list|(
name|dict
argument_list|,
name|name
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|result
condition|)
name|PyErr_SetObject
argument_list|(
name|PyExc_NameError
argument_list|,
name|name
argument_list|)
expr_stmt|;
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|__Pyx_CreateClass
specifier|static
name|PyObject
modifier|*
name|__Pyx_CreateClass
parameter_list|(
name|PyObject
modifier|*
name|bases
parameter_list|,
name|PyObject
modifier|*
name|dict
parameter_list|,
name|PyObject
modifier|*
name|name
parameter_list|,
name|char
modifier|*
name|modname
parameter_list|)
block|{
name|PyObject
modifier|*
name|py_modname
decl_stmt|;
name|PyObject
modifier|*
name|result
init|=
literal|0
decl_stmt|;
name|py_modname
operator|=
name|PyString_FromString
argument_list|(
name|modname
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_modname
condition|)
goto|goto
name|bad
goto|;
if|if
condition|(
name|PyDict_SetItemString
argument_list|(
name|dict
argument_list|,
literal|"__module__"
argument_list|,
name|py_modname
argument_list|)
operator|<
literal|0
condition|)
goto|goto
name|bad
goto|;
name|result
operator|=
name|PyClass_New
argument_list|(
name|bases
argument_list|,
name|dict
argument_list|,
name|name
argument_list|)
expr_stmt|;
name|bad
label|:
name|Py_XDECREF
argument_list|(
name|py_modname
argument_list|)
expr_stmt|;
return|return
name|result
return|;
block|}
end_function
begin_function
DECL|function|__Pyx_Raise
specifier|static
name|void
name|__Pyx_Raise
parameter_list|(
name|PyObject
modifier|*
name|type
parameter_list|,
name|PyObject
modifier|*
name|value
parameter_list|,
name|PyObject
modifier|*
name|tb
parameter_list|)
block|{
name|Py_XINCREF
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|Py_XINCREF
argument_list|(
name|value
argument_list|)
expr_stmt|;
name|Py_XINCREF
argument_list|(
name|tb
argument_list|)
expr_stmt|;
comment|/* First, check the traceback argument, replacing None with NULL. */
if|if
condition|(
name|tb
operator|==
name|Py_None
condition|)
block|{
name|Py_DECREF
argument_list|(
name|tb
argument_list|)
expr_stmt|;
name|tb
operator|=
literal|0
expr_stmt|;
block|}
elseif|else
if|if
condition|(
name|tb
operator|!=
name|NULL
operator|&&
operator|!
name|PyTraceBack_Check
argument_list|(
name|tb
argument_list|)
condition|)
block|{
name|PyErr_SetString
argument_list|(
name|PyExc_TypeError
argument_list|,
literal|"raise: arg 3 must be a traceback or None"
argument_list|)
expr_stmt|;
goto|goto
name|raise_error
goto|;
block|}
comment|/* Next, replace a missing value with None */
if|if
condition|(
name|value
operator|==
name|NULL
condition|)
block|{
name|value
operator|=
name|Py_None
expr_stmt|;
name|Py_INCREF
argument_list|(
name|value
argument_list|)
expr_stmt|;
block|}
comment|/* Next, repeatedly, replace a tuple exception with its first item */
while|while
condition|(
name|PyTuple_Check
argument_list|(
name|type
argument_list|)
operator|&&
name|PyTuple_Size
argument_list|(
name|type
argument_list|)
operator|>
literal|0
condition|)
block|{
name|PyObject
modifier|*
name|tmp
init|=
name|type
decl_stmt|;
name|type
operator|=
name|PyTuple_GET_ITEM
argument_list|(
name|type
argument_list|,
literal|0
argument_list|)
expr_stmt|;
name|Py_INCREF
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|Py_DECREF
argument_list|(
name|tmp
argument_list|)
expr_stmt|;
block|}
if|if
condition|(
name|PyString_Check
argument_list|(
name|type
argument_list|)
condition|)
block|{
if|if
condition|(
name|PyErr_Warn
argument_list|(
name|PyExc_DeprecationWarning
argument_list|,
literal|"raising a string exception is deprecated"
argument_list|)
condition|)
goto|goto
name|raise_error
goto|;
block|}
elseif|else
if|if
condition|(
name|PyType_Check
argument_list|(
name|type
argument_list|)
operator|||
name|PyClass_Check
argument_list|(
name|type
argument_list|)
condition|)
empty_stmt|;
comment|/*PyErr_NormalizeException(&type,&value,&tb);*/
else|else
block|{
comment|/* Raising an instance.  The value should be a dummy. */
if|if
condition|(
name|value
operator|!=
name|Py_None
condition|)
block|{
name|PyErr_SetString
argument_list|(
name|PyExc_TypeError
argument_list|,
literal|"instance exception may not have a separate value"
argument_list|)
expr_stmt|;
goto|goto
name|raise_error
goto|;
block|}
comment|/* Normalize to raise<class>,<instance> */
name|Py_DECREF
argument_list|(
name|value
argument_list|)
expr_stmt|;
name|value
operator|=
name|type
expr_stmt|;
if|if
condition|(
name|PyInstance_Check
argument_list|(
name|type
argument_list|)
condition|)
name|type
operator|=
operator|(
name|PyObject
operator|*
operator|)
operator|(
operator|(
name|PyInstanceObject
operator|*
operator|)
name|type
operator|)
operator|->
name|in_class
expr_stmt|;
else|else
name|type
operator|=
operator|(
name|PyObject
operator|*
operator|)
name|type
operator|->
name|ob_type
expr_stmt|;
name|Py_INCREF
argument_list|(
name|type
argument_list|)
expr_stmt|;
block|}
name|PyErr_Restore
argument_list|(
name|type
argument_list|,
name|value
argument_list|,
name|tb
argument_list|)
expr_stmt|;
return|return;
name|raise_error
label|:
name|Py_XDECREF
argument_list|(
name|value
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|type
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|tb
argument_list|)
expr_stmt|;
return|return;
block|}
end_function
begin_function
DECL|function|__Pyx_InternStrings
specifier|static
name|int
name|__Pyx_InternStrings
parameter_list|(
name|__Pyx_InternTabEntry
modifier|*
name|t
parameter_list|)
block|{
while|while
condition|(
name|t
operator|->
name|p
condition|)
block|{
operator|*
name|t
operator|->
name|p
operator|=
name|PyString_InternFromString
argument_list|(
name|t
operator|->
name|s
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|*
name|t
operator|->
name|p
condition|)
return|return
operator|-
literal|1
return|;
operator|++
name|t
expr_stmt|;
block|}
return|return
literal|0
return|;
block|}
end_function
begin_function
DECL|function|__Pyx_InitStrings
specifier|static
name|int
name|__Pyx_InitStrings
parameter_list|(
name|__Pyx_StringTabEntry
modifier|*
name|t
parameter_list|)
block|{
while|while
condition|(
name|t
operator|->
name|p
condition|)
block|{
operator|*
name|t
operator|->
name|p
operator|=
name|PyString_FromStringAndSize
argument_list|(
name|t
operator|->
name|s
argument_list|,
name|t
operator|->
name|n
operator|-
literal|1
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
operator|*
name|t
operator|->
name|p
condition|)
return|return
operator|-
literal|1
return|;
operator|++
name|t
expr_stmt|;
block|}
return|return
literal|0
return|;
block|}
end_function
begin_include
include|#
directive|include
file|"compile.h"
end_include
begin_include
include|#
directive|include
file|"frameobject.h"
end_include
begin_include
include|#
directive|include
file|"traceback.h"
end_include
begin_function
DECL|function|__Pyx_AddTraceback
specifier|static
name|void
name|__Pyx_AddTraceback
parameter_list|(
name|char
modifier|*
name|funcname
parameter_list|)
block|{
name|PyObject
modifier|*
name|py_srcfile
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|py_funcname
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|py_globals
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|empty_tuple
init|=
literal|0
decl_stmt|;
name|PyObject
modifier|*
name|empty_string
init|=
literal|0
decl_stmt|;
name|PyCodeObject
modifier|*
name|py_code
init|=
literal|0
decl_stmt|;
name|PyFrameObject
modifier|*
name|py_frame
init|=
literal|0
decl_stmt|;
name|py_srcfile
operator|=
name|PyString_FromString
argument_list|(
name|__pyx_filename
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_srcfile
condition|)
goto|goto
name|bad
goto|;
name|py_funcname
operator|=
name|PyString_FromString
argument_list|(
name|funcname
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_funcname
condition|)
goto|goto
name|bad
goto|;
name|py_globals
operator|=
name|PyModule_GetDict
argument_list|(
name|__pyx_m
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_globals
condition|)
goto|goto
name|bad
goto|;
name|empty_tuple
operator|=
name|PyTuple_New
argument_list|(
literal|0
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|empty_tuple
condition|)
goto|goto
name|bad
goto|;
name|empty_string
operator|=
name|PyString_FromString
argument_list|(
literal|""
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|empty_string
condition|)
goto|goto
name|bad
goto|;
name|py_code
operator|=
name|PyCode_New
argument_list|(
literal|0
argument_list|,
comment|/*int argcount,*/
literal|0
argument_list|,
comment|/*int nlocals,*/
literal|0
argument_list|,
comment|/*int stacksize,*/
literal|0
argument_list|,
comment|/*int flags,*/
name|empty_string
argument_list|,
comment|/*PyObject *code,*/
name|empty_tuple
argument_list|,
comment|/*PyObject *consts,*/
name|empty_tuple
argument_list|,
comment|/*PyObject *names,*/
name|empty_tuple
argument_list|,
comment|/*PyObject *varnames,*/
name|empty_tuple
argument_list|,
comment|/*PyObject *freevars,*/
name|empty_tuple
argument_list|,
comment|/*PyObject *cellvars,*/
name|py_srcfile
argument_list|,
comment|/*PyObject *filename,*/
name|py_funcname
argument_list|,
comment|/*PyObject *name,*/
name|__pyx_lineno
argument_list|,
comment|/*int firstlineno,*/
name|empty_string
comment|/*PyObject *lnotab*/
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_code
condition|)
goto|goto
name|bad
goto|;
name|py_frame
operator|=
name|PyFrame_New
argument_list|(
name|PyThreadState_Get
argument_list|()
argument_list|,
comment|/*PyThreadState *tstate,*/
name|py_code
argument_list|,
comment|/*PyCodeObject *code,*/
name|py_globals
argument_list|,
comment|/*PyObject *globals,*/
literal|0
comment|/*PyObject *locals*/
argument_list|)
expr_stmt|;
if|if
condition|(
operator|!
name|py_frame
condition|)
goto|goto
name|bad
goto|;
name|py_frame
operator|->
name|f_lineno
operator|=
name|__pyx_lineno
expr_stmt|;
name|PyTraceBack_Here
argument_list|(
name|py_frame
argument_list|)
expr_stmt|;
name|bad
label|:
name|Py_XDECREF
argument_list|(
name|py_srcfile
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|py_funcname
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|empty_tuple
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|empty_string
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|py_code
argument_list|)
expr_stmt|;
name|Py_XDECREF
argument_list|(
name|py_frame
argument_list|)
expr_stmt|;
block|}
end_function
end_unit
