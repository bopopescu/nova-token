begin_unit
comment|'# Copyright (c) 2001-2008 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'trial'
name|'import'
name|'unittest'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'error'
newline|'\n'
name|'import'
name|'socket'
newline|'\n'
nl|'\n'
DECL|class|TestStringification
name|'class'
name|'TestStringification'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""Test that the exceptions have useful stringifications.\n    """'
newline|'\n'
nl|'\n'
DECL|variable|listOfTests
name|'listOfTests'
op|'='
op|'['
nl|'\n'
comment|'#(output, exception[, args[, kwargs]]),'
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred binding to an interface."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'BindError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred binding to an interface: foo."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'BindError'
op|','
op|'['
string|"'foo'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred binding to an interface: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'BindError'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Couldn\'t listen on eth0:4242: Foo."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'CannotListenError'
op|','
nl|'\n'
op|'('
string|"'eth0'"
op|','
number|'4242'
op|','
name|'socket'
op|'.'
name|'error'
op|'('
string|"'Foo'"
op|')'
op|')'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Message is too long to send."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'MessageLengthError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Message is too long to send: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'MessageLengthError'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"DNS lookup failed."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'DNSLookupError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"DNS lookup failed: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'DNSLookupError'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred while connecting."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred while connecting: someOsError."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectError'
op|','
op|'['
string|"'someOsError'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred while connecting: foo."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectError'
op|','
op|'['
op|']'
op|','
op|'{'
string|"'string'"
op|':'
string|"'foo'"
op|'}'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An error occurred while connecting: someOsError: foo."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectError'
op|','
op|'['
string|"'someOsError'"
op|','
string|"'foo'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Couldn\'t bind."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectBindError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Couldn\'t bind: someOsError."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectBindError'
op|','
op|'['
string|"'someOsError'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Couldn\'t bind: someOsError: foo."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectBindError'
op|','
op|'['
string|"'someOsError'"
op|','
string|"'foo'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Hostname couldn\'t be looked up."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'UnknownHostError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"No route to host."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'NoRouteError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Connection was refused by other side."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionRefusedError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"TCP connection timed out."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'TCPTimedOutError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"File used for UNIX socket is no good."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'BadFileError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Service name given as port is unknown."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ServiceNameUnknownError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"User aborted connection."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'UserError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"User timeout caused connection failure."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'TimeoutError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"An SSL error occurred."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'SSLError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Connection to the other side was lost in a non-clean fashion."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionLost'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Connection to the other side was lost in a non-clean fashion: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionLost'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Connection was closed cleanly."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionDone'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Connection was closed cleanly: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionDone'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Uh."'
op|','
comment|"#TODO nice docstring, you've got there."
nl|'\n'
name|'error'
op|'.'
name|'ConnectionFdescWentAway'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Tried to cancel an already-called event."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'AlreadyCalled'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Tried to cancel an already-called event: foo bar."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'AlreadyCalled'
op|','
op|'['
string|"'foo'"
op|','
string|"'bar'"
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"Tried to cancel an already-cancelled event."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'AlreadyCancelled'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"A process has ended without apparent errors: process finished with exit code 0."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ProcessDone'
op|','
nl|'\n'
op|'['
name|'None'
op|']'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"A process has ended with a probable error condition: process ended."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ProcessTerminated'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"A process has ended with a probable error condition: process ended with exit code 42."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ProcessTerminated'
op|','
nl|'\n'
op|'['
op|']'
op|','
nl|'\n'
op|'{'
string|"'exitCode'"
op|':'
number|'42'
op|'}'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"A process has ended with a probable error condition: process ended by signal SIGBUS."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ProcessTerminated'
op|','
nl|'\n'
op|'['
op|']'
op|','
nl|'\n'
op|'{'
string|"'signal'"
op|':'
string|"'SIGBUS'"
op|'}'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"The Connector was not connecting when it was asked to stop connecting."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'NotConnectingError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|'('
string|'"The Port was not listening when it was asked to stop listening."'
op|','
nl|'\n'
name|'error'
op|'.'
name|'NotListeningError'
op|')'
op|','
nl|'\n'
nl|'\n'
op|']'
newline|'\n'
nl|'\n'
DECL|member|testThemAll
name|'def'
name|'testThemAll'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'for'
name|'entry'
name|'in'
name|'self'
op|'.'
name|'listOfTests'
op|':'
newline|'\n'
indent|'            '
name|'output'
op|'='
name|'entry'
op|'['
number|'0'
op|']'
newline|'\n'
name|'exception'
op|'='
name|'entry'
op|'['
number|'1'
op|']'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'args'
op|'='
name|'entry'
op|'['
number|'2'
op|']'
newline|'\n'
dedent|''
name|'except'
name|'IndexError'
op|':'
newline|'\n'
indent|'                '
name|'args'
op|'='
op|'('
op|')'
newline|'\n'
dedent|''
name|'try'
op|':'
newline|'\n'
indent|'                '
name|'kwargs'
op|'='
name|'entry'
op|'['
number|'3'
op|']'
newline|'\n'
dedent|''
name|'except'
name|'IndexError'
op|':'
newline|'\n'
indent|'                '
name|'kwargs'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'failUnlessEqual'
op|'('
nl|'\n'
name|'str'
op|'('
name|'exception'
op|'('
op|'*'
name|'args'
op|','
op|'**'
name|'kwargs'
op|')'
op|')'
op|','
nl|'\n'
name|'output'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|test_connectionLostSubclassOfConnectionClosed
dedent|''
dedent|''
name|'def'
name|'test_connectionLostSubclassOfConnectionClosed'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        L{error.ConnectionClosed} is a superclass of L{error.ConnectionLost}.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'issubclass'
op|'('
name|'error'
op|'.'
name|'ConnectionLost'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionClosed'
op|')'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|member|test_connectionDoneSubclassOfConnectionClosed
dedent|''
name|'def'
name|'test_connectionDoneSubclassOfConnectionClosed'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        L{error.ConnectionClosed} is a superclass of L{error.ConnectionDone}.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'assertTrue'
op|'('
name|'issubclass'
op|'('
name|'error'
op|'.'
name|'ConnectionDone'
op|','
nl|'\n'
name|'error'
op|'.'
name|'ConnectionClosed'
op|')'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
