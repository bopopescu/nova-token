begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""Script used by twisted.test.test_process on win32."""'
newline|'\n'
nl|'\n'
name|'import'
name|'sys'
op|','
name|'time'
op|','
name|'os'
op|','
name|'msvcrt'
newline|'\n'
name|'msvcrt'
op|'.'
name|'setmode'
op|'('
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'fileno'
op|'('
op|')'
op|','
name|'os'
op|'.'
name|'O_BINARY'
op|')'
newline|'\n'
name|'msvcrt'
op|'.'
name|'setmode'
op|'('
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'fileno'
op|'('
op|')'
op|','
name|'os'
op|'.'
name|'O_BINARY'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'write'
op|'('
string|'"out\\n"'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'write'
op|'('
string|'"err\\n"'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|variable|data
name|'data'
op|'='
name|'sys'
op|'.'
name|'stdin'
op|'.'
name|'read'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'write'
op|'('
name|'data'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'write'
op|'('
string|'"\\nout\\n"'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'write'
op|'('
string|'"err\\n"'
op|')'
newline|'\n'
nl|'\n'
name|'sys'
op|'.'
name|'stdout'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'flush'
op|'('
op|')'
newline|'\n'
endmarker|''
end_unit
