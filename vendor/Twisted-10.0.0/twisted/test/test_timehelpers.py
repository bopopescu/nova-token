begin_unit
comment|'# Copyright (c) 2010 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nTests for the deprecated L{twisted.test.time_helpers} module.\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'sys'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'trial'
op|'.'
name|'unittest'
name|'import'
name|'TestCase'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TimeHelpersTests
name|'class'
name|'TimeHelpersTests'
op|'('
name|'TestCase'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    A test for the deprecation of the module.\n    """'
newline|'\n'
DECL|member|test_deprecated
name|'def'
name|'test_deprecated'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Importing L{twisted.test.time_helpers} causes a deprecation warning\n        to be emitted.\n        """'
newline|'\n'
comment|"# Make sure we're really importing it"
nl|'\n'
name|'sys'
op|'.'
name|'modules'
op|'.'
name|'pop'
op|'('
string|"'twisted.test.time_helpers'"
op|','
name|'None'
op|')'
newline|'\n'
name|'import'
name|'twisted'
op|'.'
name|'test'
op|'.'
name|'time_helpers'
newline|'\n'
name|'warnings'
op|'='
name|'self'
op|'.'
name|'flushWarnings'
op|'('
nl|'\n'
name|'offendingFunctions'
op|'='
op|'['
name|'self'
op|'.'
name|'test_deprecated'
op|']'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
name|'warnings'
op|'['
number|'0'
op|']'
op|'['
string|"'category'"
op|']'
op|','
name|'DeprecationWarning'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEquals'
op|'('
nl|'\n'
name|'warnings'
op|'['
number|'0'
op|']'
op|'['
string|"'message'"
op|']'
op|','
nl|'\n'
string|'"twisted.test.time_helpers is deprecated since Twisted 10.0.  "'
nl|'\n'
string|'"See twisted.internet.task.Clock instead."'
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
