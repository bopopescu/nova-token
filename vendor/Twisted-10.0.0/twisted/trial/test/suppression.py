begin_unit
comment|'# -*- test-case-name: twisted.trial.test.test_tests -*-'
nl|'\n'
comment|'# Copyright (c) 2008 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nTest cases used to make sure that warning supression works at the module,\nmethod, and class levels.\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'warnings'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'trial'
name|'import'
name|'unittest'
op|','
name|'util'
newline|'\n'
nl|'\n'
nl|'\n'
nl|'\n'
DECL|variable|METHOD_WARNING_MSG
name|'METHOD_WARNING_MSG'
op|'='
string|'"method warning message"'
newline|'\n'
DECL|variable|CLASS_WARNING_MSG
name|'CLASS_WARNING_MSG'
op|'='
string|'"class warning message"'
newline|'\n'
DECL|variable|MODULE_WARNING_MSG
name|'MODULE_WARNING_MSG'
op|'='
string|'"module warning message"'
newline|'\n'
nl|'\n'
DECL|class|MethodWarning
name|'class'
name|'MethodWarning'
op|'('
name|'Warning'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|ClassWarning
dedent|''
name|'class'
name|'ClassWarning'
op|'('
name|'Warning'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|ModuleWarning
dedent|''
name|'class'
name|'ModuleWarning'
op|'('
name|'Warning'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|EmitMixin
dedent|''
name|'class'
name|'EmitMixin'
op|':'
newline|'\n'
DECL|member|_emit
indent|'    '
name|'def'
name|'_emit'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'warnings'
op|'.'
name|'warn'
op|'('
name|'METHOD_WARNING_MSG'
op|','
name|'MethodWarning'
op|')'
newline|'\n'
name|'warnings'
op|'.'
name|'warn'
op|'('
name|'CLASS_WARNING_MSG'
op|','
name|'ClassWarning'
op|')'
newline|'\n'
name|'warnings'
op|'.'
name|'warn'
op|'('
name|'MODULE_WARNING_MSG'
op|','
name|'ModuleWarning'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestSuppression
dedent|''
dedent|''
name|'class'
name|'TestSuppression'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|','
name|'EmitMixin'
op|')'
op|':'
newline|'\n'
DECL|member|testSuppressMethod
indent|'    '
name|'def'
name|'testSuppressMethod'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_emit'
op|'('
op|')'
newline|'\n'
dedent|''
name|'testSuppressMethod'
op|'.'
name|'suppress'
op|'='
op|'['
name|'util'
op|'.'
name|'suppress'
op|'('
name|'message'
op|'='
name|'METHOD_WARNING_MSG'
op|')'
op|']'
newline|'\n'
nl|'\n'
DECL|member|testSuppressClass
name|'def'
name|'testSuppressClass'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_emit'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|member|testOverrideSuppressClass
dedent|''
name|'def'
name|'testOverrideSuppressClass'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_emit'
op|'('
op|')'
newline|'\n'
dedent|''
name|'testOverrideSuppressClass'
op|'.'
name|'suppress'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
dedent|''
name|'TestSuppression'
op|'.'
name|'suppress'
op|'='
op|'['
name|'util'
op|'.'
name|'suppress'
op|'('
name|'message'
op|'='
name|'CLASS_WARNING_MSG'
op|')'
op|']'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|TestSuppression2
name|'class'
name|'TestSuppression2'
op|'('
name|'unittest'
op|'.'
name|'TestCase'
op|','
name|'EmitMixin'
op|')'
op|':'
newline|'\n'
DECL|member|testSuppressModule
indent|'    '
name|'def'
name|'testSuppressModule'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'_emit'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|variable|suppress
dedent|''
dedent|''
name|'suppress'
op|'='
op|'['
name|'util'
op|'.'
name|'suppress'
op|'('
name|'message'
op|'='
name|'MODULE_WARNING_MSG'
op|')'
op|']'
newline|'\n'
nl|'\n'
nl|'\n'
endmarker|''
end_unit
