begin_unit
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nI contain ResourceUnpickler, which will unpickle any python object\nnamed with the file extension .trp.\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'warnings'
newline|'\n'
name|'from'
name|'pickle'
name|'import'
name|'Unpickler'
newline|'\n'
nl|'\n'
DECL|variable|_msg
name|'_msg'
op|'='
op|'('
string|'"is deprecated as of Twisted 9.0.  Resource persistence "'
nl|'\n'
string|'"is beyond the scope of Twisted Web."'
op|')'
newline|'\n'
nl|'\n'
name|'warnings'
op|'.'
name|'warn'
op|'('
string|'"twisted.web.trp "'
op|'+'
name|'_msg'
op|','
name|'DeprecationWarning'
op|','
name|'stacklevel'
op|'='
number|'2'
op|')'
newline|'\n'
nl|'\n'
DECL|function|ResourceUnpickler
name|'def'
name|'ResourceUnpickler'
op|'('
name|'path'
op|','
name|'registry'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'warnings'
op|'.'
name|'warn'
op|'('
nl|'\n'
string|'"twisted.web.trp.ResourceUnpickler "'
op|'+'
name|'_msg'
op|','
nl|'\n'
name|'DeprecationWarning'
op|','
name|'stacklevel'
op|'='
number|'2'
op|')'
newline|'\n'
name|'fl'
op|'='
name|'open'
op|'('
name|'path'
op|')'
newline|'\n'
name|'result'
op|'='
name|'Unpickler'
op|'('
name|'fl'
op|')'
op|'.'
name|'load'
op|'('
op|')'
newline|'\n'
name|'return'
name|'result'
newline|'\n'
dedent|''
endmarker|''
end_unit
