begin_unit
comment|'#!/usr/bin/env python'
nl|'\n'
nl|'\n'
comment|'# Copyright (c) 2001-2009 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
nl|'\n'
string|'"""\nA very simple twisted.im-based logbot.\n"""'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'im'
name|'import'
name|'basechat'
op|','
name|'baseaccount'
newline|'\n'
nl|'\n'
comment|'# A list of account objects. We might as well create them at runtime, this is'
nl|'\n'
comment|'# supposed to be a Minimalist Implementation, after all.'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'im'
name|'import'
name|'ircsupport'
newline|'\n'
DECL|variable|accounts
name|'accounts'
op|'='
op|'['
nl|'\n'
name|'ircsupport'
op|'.'
name|'IRCAccount'
op|'('
string|'"IRC"'
op|','
number|'1'
op|','
nl|'\n'
string|'"Tooty"'
op|','
comment|'# nickname'
nl|'\n'
string|'""'
op|','
comment|'# passwd'
nl|'\n'
string|'"irc.freenode.net"'
op|','
comment|'# irc server'
nl|'\n'
number|'6667'
op|','
comment|'# port'
nl|'\n'
string|'"#twisted"'
op|','
comment|'# comma-seperated list of channels'
nl|'\n'
op|')'
nl|'\n'
op|']'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|AccountManager
name|'class'
name|'AccountManager'
op|'('
name|'baseaccount'
op|'.'
name|'AccountManager'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""This class is a minimal implementation of the Acccount Manager.\n\n    Most implementations will show some screen that lets the user add and\n    remove accounts, but we\'re not quite that sophisticated.\n    """'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
nl|'\n'
indent|'        '
name|'self'
op|'.'
name|'chatui'
op|'='
name|'MinChat'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'if'
name|'len'
op|'('
name|'accounts'
op|')'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'print'
string|'"You have defined no accounts."'
newline|'\n'
dedent|''
name|'for'
name|'acct'
name|'in'
name|'accounts'
op|':'
newline|'\n'
indent|'            '
name|'acct'
op|'.'
name|'logOn'
op|'('
name|'self'
op|'.'
name|'chatui'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|MinConversation
dedent|''
dedent|''
dedent|''
name|'class'
name|'MinConversation'
op|'('
name|'basechat'
op|'.'
name|'Conversation'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""This class is a minimal implementation of the abstract Conversation class.\n\n    This is all you need to override to receive one-on-one messages.\n    """'
newline|'\n'
DECL|member|show
name|'def'
name|'show'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""If you don\'t have a GUI, this is a no-op.\n        """'
newline|'\n'
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|hide
dedent|''
name|'def'
name|'hide'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""If you don\'t have a GUI, this is a no-op.\n        """'
newline|'\n'
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|showMessage
dedent|''
name|'def'
name|'showMessage'
op|'('
name|'self'
op|','
name|'text'
op|','
name|'metadata'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'"<%s> %s"'
op|'%'
op|'('
name|'self'
op|'.'
name|'person'
op|'.'
name|'name'
op|','
name|'text'
op|')'
newline|'\n'
nl|'\n'
DECL|member|contactChangedNick
dedent|''
name|'def'
name|'contactChangedNick'
op|'('
name|'self'
op|','
name|'person'
op|','
name|'newnick'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'basechat'
op|'.'
name|'Conversation'
op|'.'
name|'contactChangedNick'
op|'('
name|'self'
op|','
name|'person'
op|','
name|'newnick'
op|')'
newline|'\n'
name|'print'
string|'"-!- %s is now known as %s"'
op|'%'
op|'('
name|'person'
op|'.'
name|'name'
op|','
name|'newnick'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|MinGroupConversation
dedent|''
dedent|''
name|'class'
name|'MinGroupConversation'
op|'('
name|'basechat'
op|'.'
name|'GroupConversation'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""This class is a minimal implementation of the abstract GroupConversation class.\n\n    This is all you need to override to listen in on a group conversaion.\n    """'
newline|'\n'
DECL|member|show
name|'def'
name|'show'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""If you don\'t have a GUI, this is a no-op.\n        """'
newline|'\n'
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|hide
dedent|''
name|'def'
name|'hide'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""If you don\'t have a GUI, this is a no-op.\n        """'
newline|'\n'
name|'pass'
newline|'\n'
nl|'\n'
DECL|member|showGroupMessage
dedent|''
name|'def'
name|'showGroupMessage'
op|'('
name|'self'
op|','
name|'sender'
op|','
name|'text'
op|','
name|'metadata'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'"<%s/%s> %s"'
op|'%'
op|'('
name|'sender'
op|','
name|'self'
op|'.'
name|'group'
op|'.'
name|'name'
op|','
name|'text'
op|')'
newline|'\n'
nl|'\n'
DECL|member|setTopic
dedent|''
name|'def'
name|'setTopic'
op|'('
name|'self'
op|','
name|'topic'
op|','
name|'author'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'print'
string|'"-!- %s set the topic of %s to: %s"'
op|'%'
op|'('
name|'author'
op|','
nl|'\n'
name|'self'
op|'.'
name|'group'
op|'.'
name|'name'
op|','
name|'topic'
op|')'
newline|'\n'
nl|'\n'
DECL|member|memberJoined
dedent|''
name|'def'
name|'memberJoined'
op|'('
name|'self'
op|','
name|'member'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'basechat'
op|'.'
name|'GroupConversation'
op|'.'
name|'memberJoined'
op|'('
name|'self'
op|','
name|'member'
op|')'
newline|'\n'
name|'print'
string|'"-!- %s joined %s"'
op|'%'
op|'('
name|'member'
op|','
name|'self'
op|'.'
name|'group'
op|'.'
name|'name'
op|')'
newline|'\n'
nl|'\n'
DECL|member|memberChangedNick
dedent|''
name|'def'
name|'memberChangedNick'
op|'('
name|'self'
op|','
name|'oldnick'
op|','
name|'newnick'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'basechat'
op|'.'
name|'GroupConversation'
op|'.'
name|'memberChangedNick'
op|'('
name|'self'
op|','
name|'oldnick'
op|','
name|'newnick'
op|')'
newline|'\n'
name|'print'
string|'"-!- %s is now known as %s in %s"'
op|'%'
op|'('
name|'oldnick'
op|','
name|'newnick'
op|','
nl|'\n'
name|'self'
op|'.'
name|'group'
op|'.'
name|'name'
op|')'
newline|'\n'
nl|'\n'
DECL|member|memberLeft
dedent|''
name|'def'
name|'memberLeft'
op|'('
name|'self'
op|','
name|'member'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'basechat'
op|'.'
name|'GroupConversation'
op|'.'
name|'memberLeft'
op|'('
name|'self'
op|','
name|'member'
op|')'
newline|'\n'
name|'print'
string|'"-!- %s left %s"'
op|'%'
op|'('
name|'member'
op|','
name|'self'
op|'.'
name|'group'
op|'.'
name|'name'
op|')'
newline|'\n'
nl|'\n'
DECL|class|MinChat
dedent|''
dedent|''
name|'class'
name|'MinChat'
op|'('
name|'basechat'
op|'.'
name|'ChatUI'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""This class is a minimal implementation of the abstract ChatUI class.\n\n    There are only two methods that need overriding - and of those two, \n    the only change that needs to be made is the default value of the Class\n    parameter.\n    """'
newline|'\n'
nl|'\n'
DECL|member|getGroupConversation
name|'def'
name|'getGroupConversation'
op|'('
name|'self'
op|','
name|'group'
op|','
name|'Class'
op|'='
name|'MinGroupConversation'
op|','
nl|'\n'
name|'stayHidden'
op|'='
number|'0'
op|')'
op|':'
newline|'\n'
nl|'\n'
indent|'        '
name|'return'
name|'basechat'
op|'.'
name|'ChatUI'
op|'.'
name|'getGroupConversation'
op|'('
name|'self'
op|','
name|'group'
op|','
name|'Class'
op|','
nl|'\n'
name|'stayHidden'
op|')'
newline|'\n'
nl|'\n'
DECL|member|getConversation
dedent|''
name|'def'
name|'getConversation'
op|'('
name|'self'
op|','
name|'person'
op|','
name|'Class'
op|'='
name|'MinConversation'
op|','
nl|'\n'
name|'stayHidden'
op|'='
number|'0'
op|')'
op|':'
newline|'\n'
nl|'\n'
indent|'        '
name|'return'
name|'basechat'
op|'.'
name|'ChatUI'
op|'.'
name|'getConversation'
op|'('
name|'self'
op|','
name|'person'
op|','
name|'Class'
op|','
name|'stayHidden'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
name|'if'
name|'__name__'
op|'=='
string|'"__main__"'
op|':'
newline|'\n'
indent|'    '
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'reactor'
newline|'\n'
nl|'\n'
name|'AccountManager'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'reactor'
op|'.'
name|'run'
op|'('
op|')'
newline|'\n'
dedent|''
endmarker|''
end_unit
