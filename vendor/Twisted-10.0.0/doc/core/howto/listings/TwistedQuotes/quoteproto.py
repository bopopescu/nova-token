begin_unit
name|'from'
name|'zope'
op|'.'
name|'interface'
name|'import'
name|'Interface'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'internet'
op|'.'
name|'protocol'
name|'import'
name|'Factory'
op|','
name|'Protocol'
newline|'\n'
nl|'\n'
nl|'\n'
nl|'\n'
DECL|class|IQuoter
name|'class'
name|'IQuoter'
op|'('
name|'Interface'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    An object that returns quotes.\n    """'
newline|'\n'
DECL|member|getQuote
name|'def'
name|'getQuote'
op|'('
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Return a quote.\n        """'
newline|'\n'
nl|'\n'
nl|'\n'
nl|'\n'
DECL|class|QOTD
dedent|''
dedent|''
name|'class'
name|'QOTD'
op|'('
name|'Protocol'
op|')'
op|':'
newline|'\n'
DECL|member|connectionMade
indent|'    '
name|'def'
name|'connectionMade'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'transport'
op|'.'
name|'write'
op|'('
name|'self'
op|'.'
name|'factory'
op|'.'
name|'quoter'
op|'.'
name|'getQuote'
op|'('
op|')'
op|'+'
string|"'\\r\\n'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'transport'
op|'.'
name|'loseConnection'
op|'('
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
nl|'\n'
DECL|class|QOTDFactory
dedent|''
dedent|''
name|'class'
name|'QOTDFactory'
op|'('
name|'Factory'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    A factory for the Quote of the Day protocol.\n\n    @type quoter: L{IQuoter} provider\n    @ivar quoter: An object which provides L{IQuoter} which will be used by\n        the L{QOTD} protocol to get quotes to emit.\n    """'
newline|'\n'
DECL|variable|protocol
name|'protocol'
op|'='
name|'QOTD'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'quoter'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'quoter'
op|'='
name|'quoter'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
