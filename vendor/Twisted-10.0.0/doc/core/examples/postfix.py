begin_unit
comment|'# Copyright (c) 2009 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
string|'"""\nTest app for PostfixTCPMapServer.\n\nCall with parameters KEY1=VAL1 KEY2=VAL2 ...\n"""'
newline|'\n'
nl|'\n'
name|'import'
name|'sys'
newline|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'reactor'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'protocols'
name|'import'
name|'postfix'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'python'
name|'import'
name|'log'
newline|'\n'
nl|'\n'
name|'log'
op|'.'
name|'startLogging'
op|'('
name|'sys'
op|'.'
name|'stdout'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|d
name|'d'
op|'='
op|'{'
op|'}'
newline|'\n'
name|'for'
name|'arg'
name|'in'
name|'sys'
op|'.'
name|'argv'
op|'['
number|'1'
op|':'
op|']'
op|':'
newline|'\n'
indent|'    '
name|'try'
op|':'
newline|'\n'
indent|'        '
name|'k'
op|','
name|'v'
op|'='
name|'arg'
op|'.'
name|'split'
op|'('
string|"'='"
op|','
number|'1'
op|')'
newline|'\n'
dedent|''
name|'except'
name|'ValueError'
op|':'
newline|'\n'
DECL|variable|k
indent|'        '
name|'k'
op|'='
name|'arg'
newline|'\n'
DECL|variable|v
name|'v'
op|'='
string|"''"
newline|'\n'
dedent|''
name|'d'
op|'['
name|'k'
op|']'
op|'='
name|'v'
newline|'\n'
nl|'\n'
DECL|variable|f
dedent|''
name|'f'
op|'='
name|'postfix'
op|'.'
name|'PostfixTCPMapDictServerFactory'
op|'('
name|'d'
op|')'
newline|'\n'
DECL|variable|port
name|'port'
op|'='
name|'reactor'
op|'.'
name|'listenTCP'
op|'('
number|'4242'
op|','
name|'f'
op|','
name|'interface'
op|'='
string|"'127.0.0.1'"
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'run'
op|'('
op|')'
endmarker|''
end_unit
