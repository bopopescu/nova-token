begin_unit
nl|'\n'
comment|'# Copyright (c) 2001-2004 Twisted Matrix Laboratories.'
nl|'\n'
comment|'# See LICENSE for details.'
nl|'\n'
nl|'\n'
nl|'\n'
comment|'# This web server makes it possible to put it behind a reverse proxy'
nl|'\n'
comment|'# transparently. Just have the reverse proxy proxy to '
nl|'\n'
comment|'# host:port/vhost/http/external-host:port/'
nl|'\n'
comment|'# and on redirects and other link calculation, the external-host:port will'
nl|'\n'
comment|'# be transmitted to the client.'
nl|'\n'
nl|'\n'
name|'from'
name|'twisted'
op|'.'
name|'internet'
name|'import'
name|'reactor'
newline|'\n'
name|'from'
name|'twisted'
op|'.'
name|'web'
name|'import'
name|'static'
op|','
name|'server'
op|','
name|'vhost'
op|','
name|'twcgi'
op|','
name|'script'
op|','
name|'trp'
newline|'\n'
nl|'\n'
DECL|variable|root
name|'root'
op|'='
name|'static'
op|'.'
name|'File'
op|'('
string|'"static"'
op|')'
newline|'\n'
name|'root'
op|'.'
name|'processors'
op|'='
op|'{'
nl|'\n'
string|"'.cgi'"
op|':'
name|'twcgi'
op|'.'
name|'CGIScript'
op|','
nl|'\n'
string|"'.php3'"
op|':'
name|'twcgi'
op|'.'
name|'PHP3Script'
op|','
nl|'\n'
string|"'.php'"
op|':'
name|'twcgi'
op|'.'
name|'PHPScript'
op|','
nl|'\n'
string|"'.epy'"
op|':'
name|'script'
op|'.'
name|'PythonScript'
op|','
nl|'\n'
string|"'.rpy'"
op|':'
name|'script'
op|'.'
name|'ResourceScript'
op|','
nl|'\n'
string|"'.trp'"
op|':'
name|'trp'
op|'.'
name|'ResourceUnpickler'
op|','
nl|'\n'
op|'}'
newline|'\n'
name|'root'
op|'.'
name|'putChild'
op|'('
string|"'vhost'"
op|','
name|'vhost'
op|'.'
name|'VHostMonsterResource'
op|'('
op|')'
op|')'
newline|'\n'
DECL|variable|site
name|'site'
op|'='
name|'server'
op|'.'
name|'Site'
op|'('
name|'root'
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'listenTCP'
op|'('
number|'1999'
op|','
name|'site'
op|')'
newline|'\n'
name|'reactor'
op|'.'
name|'run'
op|'('
op|')'
newline|'\n'
endmarker|''
end_unit
