begin_unit
name|'import'
name|'sys'
newline|'\n'
nl|'\n'
name|'import'
name|'lockfile'
op|'.'
name|'linklockfile'
op|','
name|'lockfile'
op|'.'
name|'mkdirlockfile'
op|','
name|'lockfile'
op|'.'
name|'pidlockfile'
newline|'\n'
nl|'\n'
name|'from'
name|'compliancetest'
name|'import'
name|'ComplianceTest'
newline|'\n'
nl|'\n'
DECL|class|TestLinkLockFile
name|'class'
name|'TestLinkLockFile'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'    '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'linklockfile'
op|'.'
name|'LinkLockFile'
newline|'\n'
nl|'\n'
DECL|class|TestMkdirLockFile
dedent|''
name|'class'
name|'TestMkdirLockFile'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'    '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'mkdirlockfile'
op|'.'
name|'MkdirLockFile'
newline|'\n'
nl|'\n'
DECL|class|TestPIDLockFile
dedent|''
name|'class'
name|'TestPIDLockFile'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'    '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'pidlockfile'
op|'.'
name|'PIDLockFile'
newline|'\n'
nl|'\n'
comment|'# Check backwards compatibility'
nl|'\n'
DECL|class|TestLinkFileLock
dedent|''
name|'class'
name|'TestLinkFileLock'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'    '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'LinkFileLock'
newline|'\n'
nl|'\n'
DECL|class|TestMkdirFileLock
dedent|''
name|'class'
name|'TestMkdirFileLock'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'    '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'MkdirFileLock'
newline|'\n'
nl|'\n'
dedent|''
name|'try'
op|':'
newline|'\n'
indent|'    '
name|'import'
name|'sqlite3'
newline|'\n'
dedent|''
name|'except'
name|'ImportError'
op|':'
newline|'\n'
indent|'    '
name|'pass'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'    '
name|'import'
name|'lockfile'
op|'.'
name|'sqlitelockfile'
newline|'\n'
DECL|class|TestSQLiteLockFile
name|'class'
name|'TestSQLiteLockFile'
op|'('
name|'ComplianceTest'
op|')'
op|':'
newline|'\n'
DECL|variable|class_to_test
indent|'        '
name|'class_to_test'
op|'='
name|'lockfile'
op|'.'
name|'sqlitelockfile'
op|'.'
name|'SQLiteLockFile'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
