begin_unit
comment|'# Copyright (c) 2006,2007 Mitch Garnaat http://garnaat.org/'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Permission is hereby granted, free of charge, to any person obtaining a'
nl|'\n'
comment|'# copy of this software and associated documentation files (the'
nl|'\n'
comment|'# "Software"), to deal in the Software without restriction, including'
nl|'\n'
comment|'# without limitation the rights to use, copy, modify, merge, publish, dis-'
nl|'\n'
comment|'# tribute, sublicense, and/or sell copies of the Software, and to permit'
nl|'\n'
comment|'# persons to whom the Software is furnished to do so, subject to the fol-'
nl|'\n'
comment|'# lowing conditions:'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# The above copyright notice and this permission notice shall be included'
nl|'\n'
comment|'# in all copies or substantial portions of the Software.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS'
nl|'\n'
comment|'# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABIL-'
nl|'\n'
comment|'# ITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT'
nl|'\n'
comment|'# SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, '
nl|'\n'
comment|'# WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,'
nl|'\n'
comment|'# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS'
nl|'\n'
comment|'# IN THE SOFTWARE.'
nl|'\n'
nl|'\n'
string|'"""\nRepresents an EC2 Security Group\n"""'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'ec2'
op|'.'
name|'ec2object'
name|'import'
name|'EC2Object'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'exception'
name|'import'
name|'BotoClientError'
newline|'\n'
nl|'\n'
DECL|class|SecurityGroup
name|'class'
name|'SecurityGroup'
op|'('
name|'EC2Object'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'owner_id'
op|'='
name|'None'
op|','
nl|'\n'
name|'name'
op|'='
name|'None'
op|','
name|'description'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'EC2Object'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'owner_id'
op|'='
name|'owner_id'
newline|'\n'
name|'self'
op|'.'
name|'name'
op|'='
name|'name'
newline|'\n'
name|'self'
op|'.'
name|'description'
op|'='
name|'description'
newline|'\n'
name|'self'
op|'.'
name|'rules'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
DECL|member|__repr__
dedent|''
name|'def'
name|'__repr__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
string|"'SecurityGroup:%s'"
op|'%'
name|'self'
op|'.'
name|'name'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'item'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'rules'
op|'.'
name|'append'
op|'('
name|'IPPermissions'
op|'('
name|'self'
op|')'
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'rules'
op|'['
op|'-'
number|'1'
op|']'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'ownerId'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'owner_id'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'groupName'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'name'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'groupDescription'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'description'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'ipRanges'"
op|':'
newline|'\n'
indent|'            '
name|'pass'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'return'"
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'value'
op|'=='
string|"'false'"
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'status'
op|'='
name|'False'
newline|'\n'
dedent|''
name|'elif'
name|'value'
op|'=='
string|"'true'"
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'status'
op|'='
name|'True'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'raise'
name|'Exception'
op|'('
nl|'\n'
string|"'Unexpected value of status %s for group %s'"
op|'%'
op|'('
nl|'\n'
name|'value'
op|','
nl|'\n'
name|'self'
op|'.'
name|'name'
nl|'\n'
op|')'
nl|'\n'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
DECL|member|delete
dedent|''
dedent|''
name|'def'
name|'delete'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'connection'
op|'.'
name|'delete_security_group'
op|'('
name|'self'
op|'.'
name|'name'
op|')'
newline|'\n'
nl|'\n'
DECL|member|add_rule
dedent|''
name|'def'
name|'add_rule'
op|'('
name|'self'
op|','
name|'ip_protocol'
op|','
name|'from_port'
op|','
name|'to_port'
op|','
nl|'\n'
name|'src_group_name'
op|','
name|'src_group_owner_id'
op|','
name|'cidr_ip'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'rule'
op|'='
name|'IPPermissions'
op|'('
name|'self'
op|')'
newline|'\n'
name|'rule'
op|'.'
name|'ip_protocol'
op|'='
name|'ip_protocol'
newline|'\n'
name|'rule'
op|'.'
name|'from_port'
op|'='
name|'from_port'
newline|'\n'
name|'rule'
op|'.'
name|'to_port'
op|'='
name|'to_port'
newline|'\n'
name|'self'
op|'.'
name|'rules'
op|'.'
name|'append'
op|'('
name|'rule'
op|')'
newline|'\n'
name|'rule'
op|'.'
name|'add_grant'
op|'('
name|'src_group_name'
op|','
name|'src_group_owner_id'
op|','
name|'cidr_ip'
op|')'
newline|'\n'
nl|'\n'
DECL|member|remove_rule
dedent|''
name|'def'
name|'remove_rule'
op|'('
name|'self'
op|','
name|'ip_protocol'
op|','
name|'from_port'
op|','
name|'to_port'
op|','
nl|'\n'
name|'src_group_name'
op|','
name|'src_group_owner_id'
op|','
name|'cidr_ip'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'target_rule'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'rule'
name|'in'
name|'self'
op|'.'
name|'rules'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'rule'
op|'.'
name|'ip_protocol'
op|'=='
name|'ip_protocol'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'rule'
op|'.'
name|'from_port'
op|'=='
name|'from_port'
op|':'
newline|'\n'
indent|'                    '
name|'if'
name|'rule'
op|'.'
name|'to_port'
op|'=='
name|'to_port'
op|':'
newline|'\n'
indent|'                        '
name|'target_rule'
op|'='
name|'rule'
newline|'\n'
name|'target_grant'
op|'='
name|'None'
newline|'\n'
name|'for'
name|'grant'
name|'in'
name|'rule'
op|'.'
name|'grants'
op|':'
newline|'\n'
indent|'                            '
name|'if'
name|'grant'
op|'.'
name|'name'
op|'=='
name|'src_group_name'
op|':'
newline|'\n'
indent|'                                '
name|'if'
name|'grant'
op|'.'
name|'owner_id'
op|'=='
name|'src_group_owner_id'
op|':'
newline|'\n'
indent|'                                    '
name|'if'
name|'grant'
op|'.'
name|'cidr_ip'
op|'=='
name|'cidr_ip'
op|':'
newline|'\n'
indent|'                                        '
name|'target_grant'
op|'='
name|'grant'
newline|'\n'
dedent|''
dedent|''
dedent|''
dedent|''
name|'if'
name|'target_grant'
op|':'
newline|'\n'
indent|'                            '
name|'rule'
op|'.'
name|'grants'
op|'.'
name|'remove'
op|'('
name|'target_grant'
op|')'
newline|'\n'
dedent|''
dedent|''
dedent|''
dedent|''
dedent|''
name|'if'
name|'len'
op|'('
name|'rule'
op|'.'
name|'grants'
op|')'
op|'=='
number|'0'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'rules'
op|'.'
name|'remove'
op|'('
name|'target_rule'
op|')'
newline|'\n'
nl|'\n'
DECL|member|authorize
dedent|''
dedent|''
name|'def'
name|'authorize'
op|'('
name|'self'
op|','
name|'ip_protocol'
op|'='
name|'None'
op|','
name|'from_port'
op|'='
name|'None'
op|','
name|'to_port'
op|'='
name|'None'
op|','
nl|'\n'
name|'cidr_ip'
op|'='
name|'None'
op|','
name|'src_group'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Add a new rule to this security group.\n        You need to pass in either src_group_name\n        OR ip_protocol, from_port, to_port,\n        and cidr_ip.  In other words, either you are authorizing another\n        group or you are authorizing some ip-based rule.\n        \n        :type ip_protocol: string\n        :param ip_protocol: Either tcp | udp | icmp\n\n        :type from_port: int\n        :param from_port: The beginning port number you are enabling\n\n        :type to_port: int\n        :param to_port: The ending port number you are enabling\n\n        :type to_port: string\n        :param to_port: The CIDR block you are providing access to.\n                        See http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing\n\n        :type src_group: :class:`boto.ec2.securitygroup.SecurityGroup` or\n                         :class:`boto.ec2.securitygroup.GroupOrCIDR`\n                         \n        :rtype: bool\n        :return: True if successful.\n        """'
newline|'\n'
name|'if'
name|'src_group'
op|':'
newline|'\n'
indent|'            '
name|'from_port'
op|'='
name|'None'
newline|'\n'
name|'to_port'
op|'='
name|'None'
newline|'\n'
name|'cidr_ip'
op|'='
name|'None'
newline|'\n'
name|'ip_protocol'
op|'='
name|'None'
newline|'\n'
name|'src_group_name'
op|'='
name|'src_group'
op|'.'
name|'name'
newline|'\n'
name|'src_group_owner_id'
op|'='
name|'src_group'
op|'.'
name|'owner_id'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'src_group_name'
op|'='
name|'None'
newline|'\n'
name|'src_group_owner_id'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'status'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'authorize_security_group'
op|'('
name|'self'
op|'.'
name|'name'
op|','
nl|'\n'
name|'src_group_name'
op|','
nl|'\n'
name|'src_group_owner_id'
op|','
nl|'\n'
name|'ip_protocol'
op|','
nl|'\n'
name|'from_port'
op|','
nl|'\n'
name|'to_port'
op|','
nl|'\n'
name|'cidr_ip'
op|')'
newline|'\n'
name|'if'
name|'status'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'add_rule'
op|'('
name|'ip_protocol'
op|','
name|'from_port'
op|','
name|'to_port'
op|','
name|'src_group_name'
op|','
nl|'\n'
name|'src_group_owner_id'
op|','
name|'cidr_ip'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'status'
newline|'\n'
nl|'\n'
DECL|member|revoke
dedent|''
name|'def'
name|'revoke'
op|'('
name|'self'
op|','
name|'ip_protocol'
op|'='
name|'None'
op|','
name|'from_port'
op|'='
name|'None'
op|','
name|'to_port'
op|'='
name|'None'
op|','
nl|'\n'
name|'cidr_ip'
op|'='
name|'None'
op|','
name|'src_group'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'src_group'
op|':'
newline|'\n'
indent|'            '
name|'from_port'
op|'='
name|'None'
newline|'\n'
name|'to_port'
op|'='
name|'None'
newline|'\n'
name|'cidr_ip'
op|'='
name|'None'
newline|'\n'
name|'ip_protocol'
op|'='
name|'None'
newline|'\n'
name|'src_group_name'
op|'='
name|'src_group'
op|'.'
name|'name'
newline|'\n'
name|'src_group_owner_id'
op|'='
name|'src_group'
op|'.'
name|'owner_id'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'src_group_name'
op|'='
name|'None'
newline|'\n'
name|'src_group_owner_id'
op|'='
name|'None'
newline|'\n'
dedent|''
name|'status'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'revoke_security_group'
op|'('
name|'self'
op|'.'
name|'name'
op|','
nl|'\n'
name|'src_group_name'
op|','
nl|'\n'
name|'src_group_owner_id'
op|','
nl|'\n'
name|'ip_protocol'
op|','
nl|'\n'
name|'from_port'
op|','
nl|'\n'
name|'to_port'
op|','
nl|'\n'
name|'cidr_ip'
op|')'
newline|'\n'
name|'if'
name|'status'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'remove_rule'
op|'('
name|'ip_protocol'
op|','
name|'from_port'
op|','
name|'to_port'
op|','
name|'src_group_name'
op|','
nl|'\n'
name|'src_group_owner_id'
op|','
name|'cidr_ip'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'status'
newline|'\n'
nl|'\n'
DECL|member|copy_to_region
dedent|''
name|'def'
name|'copy_to_region'
op|'('
name|'self'
op|','
name|'region'
op|','
name|'name'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Create a copy of this security group in another region.\n        Note that the new security group will be a separate entity\n        and will not stay in sync automatically after the copy\n        operation.\n\n        :type region: :class:`boto.ec2.regioninfo.RegionInfo`\n        :param region: The region to which this security group will be copied.\n\n        :type name: string\n        :param name: The name of the copy.  If not supplied, the copy\n                     will have the same name as this security group.\n        \n        :rtype: :class:`boto.ec2.securitygroup.SecurityGroup`\n        :return: The new security group.\n        """'
newline|'\n'
name|'if'
name|'region'
op|'.'
name|'name'
op|'=='
name|'self'
op|'.'
name|'region'
op|':'
newline|'\n'
indent|'            '
name|'raise'
name|'BotoClientError'
op|'('
string|"'Unable to copy to the same Region'"
op|')'
newline|'\n'
dedent|''
name|'conn_params'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'get_params'
op|'('
op|')'
newline|'\n'
name|'rconn'
op|'='
name|'region'
op|'.'
name|'connect'
op|'('
op|'**'
name|'conn_params'
op|')'
newline|'\n'
name|'sg'
op|'='
name|'rconn'
op|'.'
name|'create_security_group'
op|'('
name|'name'
name|'or'
name|'self'
op|'.'
name|'name'
op|','
name|'self'
op|'.'
name|'description'
op|')'
newline|'\n'
name|'source_groups'
op|'='
op|'['
op|']'
newline|'\n'
name|'for'
name|'rule'
name|'in'
name|'self'
op|'.'
name|'rules'
op|':'
newline|'\n'
indent|'            '
name|'grant'
op|'='
name|'rule'
op|'.'
name|'grants'
op|'['
number|'0'
op|']'
newline|'\n'
name|'if'
name|'grant'
op|'.'
name|'name'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'grant'
op|'.'
name|'name'
name|'not'
name|'in'
name|'source_groups'
op|':'
newline|'\n'
indent|'                    '
name|'source_groups'
op|'.'
name|'append'
op|'('
name|'grant'
op|'.'
name|'name'
op|')'
newline|'\n'
name|'sg'
op|'.'
name|'authorize'
op|'('
name|'None'
op|','
name|'None'
op|','
name|'None'
op|','
name|'None'
op|','
name|'grant'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'sg'
op|'.'
name|'authorize'
op|'('
name|'rule'
op|'.'
name|'ip_protocol'
op|','
name|'rule'
op|'.'
name|'from_port'
op|','
name|'rule'
op|'.'
name|'to_port'
op|','
nl|'\n'
name|'grant'
op|'.'
name|'cidr_ip'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'return'
name|'sg'
newline|'\n'
nl|'\n'
DECL|member|instances
dedent|''
name|'def'
name|'instances'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'instances'
op|'='
op|'['
op|']'
newline|'\n'
name|'rs'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'get_all_instances'
op|'('
op|')'
newline|'\n'
name|'for'
name|'reservation'
name|'in'
name|'rs'
op|':'
newline|'\n'
indent|'            '
name|'uses_group'
op|'='
op|'['
name|'g'
op|'.'
name|'id'
name|'for'
name|'g'
name|'in'
name|'reservation'
op|'.'
name|'groups'
name|'if'
name|'g'
op|'.'
name|'id'
op|'=='
name|'self'
op|'.'
name|'name'
op|']'
newline|'\n'
name|'if'
name|'uses_group'
op|':'
newline|'\n'
indent|'                '
name|'instances'
op|'.'
name|'extend'
op|'('
name|'reservation'
op|'.'
name|'instances'
op|')'
newline|'\n'
dedent|''
dedent|''
name|'return'
name|'instances'
newline|'\n'
nl|'\n'
DECL|class|IPPermissions
dedent|''
dedent|''
name|'class'
name|'IPPermissions'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'parent'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'parent'
op|'='
name|'parent'
newline|'\n'
name|'self'
op|'.'
name|'ip_protocol'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'from_port'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'to_port'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'grants'
op|'='
op|'['
op|']'
newline|'\n'
nl|'\n'
DECL|member|__repr__
dedent|''
name|'def'
name|'__repr__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
string|"'IPPermissions:%s(%s-%s)'"
op|'%'
op|'('
name|'self'
op|'.'
name|'ip_protocol'
op|','
nl|'\n'
name|'self'
op|'.'
name|'from_port'
op|','
name|'self'
op|'.'
name|'to_port'
op|')'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'item'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'grants'
op|'.'
name|'append'
op|'('
name|'GroupOrCIDR'
op|'('
name|'self'
op|')'
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'grants'
op|'['
op|'-'
number|'1'
op|']'
newline|'\n'
dedent|''
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'ipProtocol'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'ip_protocol'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'fromPort'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'from_port'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'toPort'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'to_port'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
DECL|member|add_grant
dedent|''
dedent|''
name|'def'
name|'add_grant'
op|'('
name|'self'
op|','
name|'name'
op|'='
name|'None'
op|','
name|'owner_id'
op|'='
name|'None'
op|','
name|'cidr_ip'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'grant'
op|'='
name|'GroupOrCIDR'
op|'('
name|'self'
op|')'
newline|'\n'
name|'grant'
op|'.'
name|'owner_id'
op|'='
name|'owner_id'
newline|'\n'
name|'grant'
op|'.'
name|'name'
op|'='
name|'name'
newline|'\n'
name|'grant'
op|'.'
name|'cidr_ip'
op|'='
name|'cidr_ip'
newline|'\n'
name|'self'
op|'.'
name|'grants'
op|'.'
name|'append'
op|'('
name|'grant'
op|')'
newline|'\n'
name|'return'
name|'grant'
newline|'\n'
nl|'\n'
DECL|class|GroupOrCIDR
dedent|''
dedent|''
name|'class'
name|'GroupOrCIDR'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'parent'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'owner_id'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'name'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'cidr_ip'
op|'='
name|'None'
newline|'\n'
nl|'\n'
DECL|member|__repr__
dedent|''
name|'def'
name|'__repr__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'self'
op|'.'
name|'cidr_ip'
op|':'
newline|'\n'
indent|'            '
name|'return'
string|"'%s'"
op|'%'
name|'self'
op|'.'
name|'cidr_ip'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
string|"'%s-%s'"
op|'%'
op|'('
name|'self'
op|'.'
name|'name'
op|','
name|'self'
op|'.'
name|'owner_id'
op|')'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'userId'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'owner_id'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'groupName'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'name'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'if'
name|'name'
op|'=='
string|"'cidrIp'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cidr_ip'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
dedent|''
endmarker|''
end_unit
