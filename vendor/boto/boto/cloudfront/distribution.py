begin_unit
comment|'# Copyright (c) 2006-2009 Mitch Garnaat http://garnaat.org/'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Permission is hereby granted, free of charge, to any person obtaining a'
nl|'\n'
comment|'# copy of this software and associated documentation files (the'
nl|'\n'
comment|'# "Software"), to deal in the Software without restriction, including'
nl|'\n'
comment|'# without limitation the rights to use, copy, modify, merge, publish, dis-'
nl|'\n'
comment|'# tribute, sublicense, and/or sell copies of the Software, and to permit'
nl|'\n'
comment|'# persons to whom the Software is furnished to do so, subject to the fol-'
nl|'\n'
comment|'# lowing conditions:'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# The above copyright notice and this permission notice shall be included'
nl|'\n'
comment|'# in all copies or substantial portions of the Software.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS'
nl|'\n'
comment|'# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABIL-'
nl|'\n'
comment|'# ITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT'
nl|'\n'
comment|'# SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, '
nl|'\n'
comment|'# WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,'
nl|'\n'
comment|'# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS'
nl|'\n'
comment|'# IN THE SOFTWARE.'
nl|'\n'
nl|'\n'
name|'import'
name|'uuid'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'cloudfront'
op|'.'
name|'identity'
name|'import'
name|'OriginAccessIdentity'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'cloudfront'
op|'.'
name|'object'
name|'import'
name|'Object'
op|','
name|'StreamingObject'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'cloudfront'
op|'.'
name|'signers'
name|'import'
name|'ActiveTrustedSigners'
op|','
name|'TrustedSigners'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'cloudfront'
op|'.'
name|'logging'
name|'import'
name|'LoggingInfo'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'s3'
op|'.'
name|'acl'
name|'import'
name|'ACL'
newline|'\n'
nl|'\n'
DECL|class|DistributionConfig
name|'class'
name|'DistributionConfig'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'origin'
op|'='
string|"''"
op|','
name|'enabled'
op|'='
name|'False'
op|','
nl|'\n'
name|'caller_reference'
op|'='
string|"''"
op|','
name|'cnames'
op|'='
name|'None'
op|','
name|'comment'
op|'='
string|"''"
op|','
nl|'\n'
name|'origin_access_identity'
op|'='
name|'None'
op|','
name|'trusted_signers'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'connection'
op|'='
name|'connection'
newline|'\n'
name|'self'
op|'.'
name|'origin'
op|'='
name|'origin'
newline|'\n'
name|'self'
op|'.'
name|'enabled'
op|'='
name|'enabled'
newline|'\n'
name|'if'
name|'caller_reference'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'caller_reference'
op|'='
name|'caller_reference'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'caller_reference'
op|'='
name|'str'
op|'('
name|'uuid'
op|'.'
name|'uuid4'
op|'('
op|')'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'cnames'
op|'='
op|'['
op|']'
newline|'\n'
name|'if'
name|'cnames'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cnames'
op|'='
name|'cnames'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'comment'
op|'='
name|'comment'
newline|'\n'
name|'self'
op|'.'
name|'origin_access_identity'
op|'='
name|'origin_access_identity'
newline|'\n'
name|'self'
op|'.'
name|'trusted_signers'
op|'='
name|'trusted_signers'
newline|'\n'
name|'self'
op|'.'
name|'logging'
op|'='
name|'None'
newline|'\n'
nl|'\n'
DECL|member|get_oai_value
dedent|''
name|'def'
name|'get_oai_value'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'isinstance'
op|'('
name|'self'
op|'.'
name|'origin_access_identity'
op|','
name|'OriginAccessIdentity'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'self'
op|'.'
name|'origin_access_identity'
op|'.'
name|'uri'
op|'('
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'self'
op|'.'
name|'origin_access_identity'
newline|'\n'
nl|'\n'
DECL|member|to_xml
dedent|''
dedent|''
name|'def'
name|'to_xml'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'s'
op|'='
string|'\'<?xml version="1.0" encoding="UTF-8"?>\\n\''
newline|'\n'
name|'s'
op|'+='
string|'\'<DistributionConfig xmlns="http://cloudfront.amazonaws.com/doc/2008-12-01/">\\n\''
newline|'\n'
name|'s'
op|'+='
string|"'  <Origin>%s</Origin>\\n'"
op|'%'
name|'self'
op|'.'
name|'origin'
newline|'\n'
name|'s'
op|'+='
string|"'  <CallerReference>%s</CallerReference>\\n'"
op|'%'
name|'self'
op|'.'
name|'caller_reference'
newline|'\n'
name|'for'
name|'cname'
name|'in'
name|'self'
op|'.'
name|'cnames'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'  <CNAME>%s</CNAME>\\n'"
op|'%'
name|'cname'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'comment'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'  <Comment>%s</Comment>\\n'"
op|'%'
name|'self'
op|'.'
name|'comment'
newline|'\n'
dedent|''
name|'s'
op|'+='
string|"'  <Enabled>'"
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'enabled'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'true'"
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'false'"
newline|'\n'
dedent|''
name|'s'
op|'+='
string|"'</Enabled>\\n'"
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'origin_access_identity'
op|':'
newline|'\n'
indent|'            '
name|'val'
op|'='
name|'self'
op|'.'
name|'get_oai_value'
op|'('
op|')'
newline|'\n'
name|'s'
op|'+='
string|"'<OriginAccessIdentity>%s</OriginAccessIdentity>\\n'"
op|'%'
name|'val'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'trusted_signers'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'<TrustedSigners>\\n'"
newline|'\n'
name|'for'
name|'signer'
name|'in'
name|'self'
op|'.'
name|'trusted_signers'
op|':'
newline|'\n'
indent|'                '
name|'if'
name|'signer'
op|'=='
string|"'Self'"
op|':'
newline|'\n'
indent|'                    '
name|'s'
op|'+='
string|"'  <Self></Self>\\n'"
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                    '
name|'s'
op|'+='
string|"'  <AwsAccountNumber>%s</AwsAccountNumber>\\n'"
op|'%'
name|'signer'
newline|'\n'
dedent|''
dedent|''
name|'s'
op|'+='
string|"'</TrustedSigners>\\n'"
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'logging'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'<Logging>\\n'"
newline|'\n'
name|'s'
op|'+='
string|"'  <Bucket>%s</Bucket>\\n'"
op|'%'
name|'self'
op|'.'
name|'logging'
op|'.'
name|'bucket'
newline|'\n'
name|'s'
op|'+='
string|"'  <Prefix>%s</Prefix>\\n'"
op|'%'
name|'self'
op|'.'
name|'logging'
op|'.'
name|'prefix'
newline|'\n'
name|'s'
op|'+='
string|"'</Logging>\\n'"
newline|'\n'
dedent|''
name|'s'
op|'+='
string|"'</DistributionConfig>\\n'"
newline|'\n'
name|'return'
name|'s'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'TrustedSigners'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'trusted_signers'
op|'='
name|'TrustedSigners'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'trusted_signers'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Logging'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'logging'
op|'='
name|'LoggingInfo'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'logging'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'CNAME'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cnames'
op|'.'
name|'append'
op|'('
name|'value'
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Origin'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'origin'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Comment'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'comment'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Enabled'"
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'value'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'true'"
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'enabled'
op|'='
name|'True'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'enabled'
op|'='
name|'False'
newline|'\n'
dedent|''
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'CallerReference'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'caller_reference'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'OriginAccessIdentity'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'origin_access_identity'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
DECL|class|StreamingDistributionConfig
dedent|''
dedent|''
dedent|''
name|'class'
name|'StreamingDistributionConfig'
op|'('
name|'DistributionConfig'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'origin'
op|'='
string|"''"
op|','
name|'enabled'
op|'='
name|'False'
op|','
nl|'\n'
name|'caller_reference'
op|'='
string|"''"
op|','
name|'cnames'
op|'='
name|'None'
op|','
name|'comment'
op|'='
string|"''"
op|')'
op|':'
newline|'\n'
indent|'        '
name|'DistributionConfig'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|','
name|'origin'
op|','
nl|'\n'
name|'enabled'
op|','
name|'caller_reference'
op|','
nl|'\n'
name|'cnames'
op|','
name|'comment'
op|')'
newline|'\n'
nl|'\n'
DECL|member|to_xml
dedent|''
name|'def'
name|'to_xml'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'s'
op|'='
string|'\'<?xml version="1.0" encoding="UTF-8"?>\\n\''
newline|'\n'
name|'s'
op|'+='
string|'\'<StreamingDistributionConfig xmlns="http://cloudfront.amazonaws.com/doc/2009-12-01/">\\n\''
newline|'\n'
name|'s'
op|'+='
string|"'  <Origin>%s</Origin>\\n'"
op|'%'
name|'self'
op|'.'
name|'origin'
newline|'\n'
name|'s'
op|'+='
string|"'  <CallerReference>%s</CallerReference>\\n'"
op|'%'
name|'self'
op|'.'
name|'caller_reference'
newline|'\n'
name|'for'
name|'cname'
name|'in'
name|'self'
op|'.'
name|'cnames'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'  <CNAME>%s</CNAME>\\n'"
op|'%'
name|'cname'
newline|'\n'
dedent|''
name|'if'
name|'self'
op|'.'
name|'comment'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'  <Comment>%s</Comment>\\n'"
op|'%'
name|'self'
op|'.'
name|'comment'
newline|'\n'
dedent|''
name|'s'
op|'+='
string|"'  <Enabled>'"
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'enabled'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'true'"
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'s'
op|'+='
string|"'false'"
newline|'\n'
dedent|''
name|'s'
op|'+='
string|"'</Enabled>\\n'"
newline|'\n'
name|'s'
op|'+='
string|"'</StreamingDistributionConfig>\\n'"
newline|'\n'
name|'return'
name|'s'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|DistributionSummary
dedent|''
dedent|''
name|'class'
name|'DistributionSummary'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'domain_name'
op|'='
string|"''"
op|','
name|'id'
op|'='
string|"''"
op|','
nl|'\n'
name|'last_modified_time'
op|'='
name|'None'
op|','
name|'status'
op|'='
string|"''"
op|','
name|'origin'
op|'='
string|"''"
op|','
nl|'\n'
name|'cname'
op|'='
string|"''"
op|','
name|'comment'
op|'='
string|"''"
op|','
name|'enabled'
op|'='
name|'False'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'connection'
op|'='
name|'connection'
newline|'\n'
name|'self'
op|'.'
name|'domain_name'
op|'='
name|'domain_name'
newline|'\n'
name|'self'
op|'.'
name|'id'
op|'='
name|'id'
newline|'\n'
name|'self'
op|'.'
name|'last_modified_time'
op|'='
name|'last_modified_time'
newline|'\n'
name|'self'
op|'.'
name|'status'
op|'='
name|'status'
newline|'\n'
name|'self'
op|'.'
name|'origin'
op|'='
name|'origin'
newline|'\n'
name|'self'
op|'.'
name|'enabled'
op|'='
name|'enabled'
newline|'\n'
name|'self'
op|'.'
name|'cnames'
op|'='
op|'['
op|']'
newline|'\n'
name|'if'
name|'cname'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cnames'
op|'.'
name|'append'
op|'('
name|'cname'
op|')'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'comment'
op|'='
name|'comment'
newline|'\n'
name|'self'
op|'.'
name|'trusted_signers'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'etag'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'streaming'
op|'='
name|'False'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'TrustedSigners'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'trusted_signers'
op|'='
name|'TrustedSigners'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'trusted_signers'
newline|'\n'
dedent|''
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'Id'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'id'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Status'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'status'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'LastModifiedTime'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'last_modified_time'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'DomainName'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'domain_name'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Origin'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'origin'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'CNAME'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'cnames'
op|'.'
name|'append'
op|'('
name|'value'
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Comment'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'comment'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Enabled'"
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'value'
op|'.'
name|'lower'
op|'('
op|')'
op|'=='
string|"'true'"
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'enabled'
op|'='
name|'True'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'                '
name|'self'
op|'.'
name|'enabled'
op|'='
name|'False'
newline|'\n'
dedent|''
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'StreamingDistributionSummary'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'streaming'
op|'='
name|'True'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
DECL|member|get_distribution
dedent|''
dedent|''
name|'def'
name|'get_distribution'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'connection'
op|'.'
name|'get_distribution_info'
op|'('
name|'self'
op|'.'
name|'id'
op|')'
newline|'\n'
nl|'\n'
DECL|class|StreamingDistributionSummary
dedent|''
dedent|''
name|'class'
name|'StreamingDistributionSummary'
op|'('
name|'DistributionSummary'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|get_distribution
indent|'    '
name|'def'
name|'get_distribution'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'self'
op|'.'
name|'connection'
op|'.'
name|'get_streaming_distribution_info'
op|'('
name|'self'
op|'.'
name|'id'
op|')'
newline|'\n'
nl|'\n'
DECL|class|Distribution
dedent|''
dedent|''
name|'class'
name|'Distribution'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'config'
op|'='
name|'None'
op|','
name|'domain_name'
op|'='
string|"''"
op|','
nl|'\n'
name|'id'
op|'='
string|"''"
op|','
name|'last_modified_time'
op|'='
name|'None'
op|','
name|'status'
op|'='
string|"''"
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'connection'
op|'='
name|'connection'
newline|'\n'
name|'self'
op|'.'
name|'config'
op|'='
name|'config'
newline|'\n'
name|'self'
op|'.'
name|'domain_name'
op|'='
name|'domain_name'
newline|'\n'
name|'self'
op|'.'
name|'id'
op|'='
name|'id'
newline|'\n'
name|'self'
op|'.'
name|'last_modified_time'
op|'='
name|'last_modified_time'
newline|'\n'
name|'self'
op|'.'
name|'status'
op|'='
name|'status'
newline|'\n'
name|'self'
op|'.'
name|'active_signers'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'etag'
op|'='
name|'None'
newline|'\n'
name|'self'
op|'.'
name|'_bucket'
op|'='
name|'None'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'DistributionConfig'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'config'
op|'='
name|'DistributionConfig'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'config'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'ActiveTrustedSigners'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'active_signers'
op|'='
name|'ActiveTrustedSigners'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'active_signers'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|endElement
dedent|''
dedent|''
name|'def'
name|'endElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'Id'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'id'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'LastModifiedTime'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'last_modified_time'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'Status'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'status'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'elif'
name|'name'
op|'=='
string|"'DomainName'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'domain_name'
op|'='
name|'value'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'setattr'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'value'
op|')'
newline|'\n'
nl|'\n'
DECL|member|update
dedent|''
dedent|''
name|'def'
name|'update'
op|'('
name|'self'
op|','
name|'enabled'
op|'='
name|'None'
op|','
name|'cnames'
op|'='
name|'None'
op|','
name|'comment'
op|'='
name|'None'
op|','
nl|'\n'
name|'origin_access_identity'
op|'='
name|'None'
op|','
nl|'\n'
name|'trusted_signers'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Update the configuration of the Distribution.\n\n        :type enabled: bool\n        :param enabled: Whether the Distribution is active or not.\n\n        :type cnames: list of str\n        :param cnames: The DNS CNAME\'s associated with this\n                        Distribution.  Maximum of 10 values.\n\n        :type comment: str or unicode\n        :param comment: The comment associated with the Distribution.\n\n        :type origin_access_identity: :class:`boto.cloudfront.identity.OriginAccessIdentity`\n        :param origin_access_identity: The CloudFront origin access identity\n                                       associated with the distribution.  This\n                                       must be provided if you want the\n                                       distribution to serve private content.\n\n        :type trusted_signers: :class:`boto.cloudfront.signers.TrustedSigner`\n        :param trusted_signers: The AWS users who are authorized to sign\n                                URL\'s for private content in this Distribution.\n\n        """'
newline|'\n'
name|'new_config'
op|'='
name|'DistributionConfig'
op|'('
name|'self'
op|'.'
name|'connection'
op|','
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'enabled'
op|','
name|'self'
op|'.'
name|'config'
op|'.'
name|'caller_reference'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'cnames'
op|','
name|'self'
op|'.'
name|'config'
op|'.'
name|'comment'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin_access_identity'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'trusted_signers'
op|')'
newline|'\n'
name|'if'
name|'enabled'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'enabled'
op|'='
name|'enabled'
newline|'\n'
dedent|''
name|'if'
name|'cnames'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'cnames'
op|'='
name|'cnames'
newline|'\n'
dedent|''
name|'if'
name|'comment'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'comment'
op|'='
name|'comment'
newline|'\n'
dedent|''
name|'if'
name|'origin_access_identity'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'origin_access_identity'
op|'='
name|'origin_access_identity'
newline|'\n'
dedent|''
name|'if'
name|'trusted_signers'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'trusted_signers'
op|'='
name|'trusted_signers'
newline|'\n'
dedent|''
name|'self'
op|'.'
name|'etag'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'set_distribution_config'
op|'('
name|'self'
op|'.'
name|'id'
op|','
name|'self'
op|'.'
name|'etag'
op|','
name|'new_config'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'config'
op|'='
name|'new_config'
newline|'\n'
name|'self'
op|'.'
name|'_object_class'
op|'='
name|'Object'
newline|'\n'
nl|'\n'
DECL|member|enable
dedent|''
name|'def'
name|'enable'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Deactivate the Distribution.  A convenience wrapper around\n        the update method.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'update'
op|'('
name|'enabled'
op|'='
name|'True'
op|')'
newline|'\n'
nl|'\n'
DECL|member|disable
dedent|''
name|'def'
name|'disable'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Activate the Distribution.  A convenience wrapper around\n        the update method.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'update'
op|'('
name|'enabled'
op|'='
name|'False'
op|')'
newline|'\n'
nl|'\n'
DECL|member|delete
dedent|''
name|'def'
name|'delete'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Delete this CloudFront Distribution.  The content\n        associated with the Distribution is not deleted from\n        the underlying Origin bucket in S3.\n        """'
newline|'\n'
name|'self'
op|'.'
name|'connection'
op|'.'
name|'delete_distribution'
op|'('
name|'self'
op|'.'
name|'id'
op|','
name|'self'
op|'.'
name|'etag'
op|')'
newline|'\n'
nl|'\n'
DECL|member|_get_bucket
dedent|''
name|'def'
name|'_get_bucket'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'not'
name|'self'
op|'.'
name|'_bucket'
op|':'
newline|'\n'
indent|'            '
name|'bucket_name'
op|'='
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin'
op|'.'
name|'split'
op|'('
string|"'.'"
op|')'
op|'['
number|'0'
op|']'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'s3'
op|'.'
name|'connection'
name|'import'
name|'S3Connection'
newline|'\n'
name|'s3'
op|'='
name|'S3Connection'
op|'('
name|'self'
op|'.'
name|'connection'
op|'.'
name|'aws_access_key_id'
op|','
nl|'\n'
name|'self'
op|'.'
name|'connection'
op|'.'
name|'aws_secret_access_key'
op|','
nl|'\n'
name|'proxy'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'proxy'
op|','
nl|'\n'
name|'proxy_port'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'proxy_port'
op|','
nl|'\n'
name|'proxy_user'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'proxy_user'
op|','
nl|'\n'
name|'proxy_pass'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'proxy_pass'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_bucket'
op|'='
name|'s3'
op|'.'
name|'get_bucket'
op|'('
name|'bucket_name'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_bucket'
op|'.'
name|'distribution'
op|'='
name|'self'
newline|'\n'
name|'self'
op|'.'
name|'_bucket'
op|'.'
name|'set_key_class'
op|'('
name|'self'
op|'.'
name|'_object_class'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'self'
op|'.'
name|'_bucket'
newline|'\n'
nl|'\n'
DECL|member|get_objects
dedent|''
name|'def'
name|'get_objects'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Return a list of all content objects in this distribution.\n        \n        :rtype: list of :class:`boto.cloudfront.object.Object`\n        :return: The content objects\n        """'
newline|'\n'
name|'bucket'
op|'='
name|'self'
op|'.'
name|'_get_bucket'
op|'('
op|')'
newline|'\n'
name|'objs'
op|'='
op|'['
op|']'
newline|'\n'
name|'for'
name|'key'
name|'in'
name|'bucket'
op|':'
newline|'\n'
indent|'            '
name|'objs'
op|'.'
name|'append'
op|'('
name|'key'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'objs'
newline|'\n'
nl|'\n'
DECL|member|set_permissions
dedent|''
name|'def'
name|'set_permissions'
op|'('
name|'self'
op|','
name|'object'
op|','
name|'replace'
op|'='
name|'False'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Sets the S3 ACL grants for the given object to the appropriate\n        value based on the type of Distribution.  If the Distribution\n        is serving private content the ACL will be set to include the\n        Origin Access Identity associated with the Distribution.  If\n        the Distribution is serving public content the content will\n        be set up with "public-read".\n\n        :type object: :class:`boto.cloudfront.object.Object`\n        :param enabled: The Object whose ACL is being set\n\n        :type replace: bool\n        :param replace: If False, the Origin Access Identity will be\n                        appended to the existing ACL for the object.\n                        If True, the ACL for the object will be\n                        completely replaced with one that grants\n                        READ permission to the Origin Access Identity.\n\n        """'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin_access_identity'
op|':'
newline|'\n'
indent|'            '
name|'id'
op|'='
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin_access_identity'
op|'.'
name|'split'
op|'('
string|"'/'"
op|')'
op|'['
op|'-'
number|'1'
op|']'
newline|'\n'
name|'oai'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'get_origin_access_identity_info'
op|'('
name|'id'
op|')'
newline|'\n'
name|'policy'
op|'='
name|'object'
op|'.'
name|'get_acl'
op|'('
op|')'
newline|'\n'
name|'if'
name|'replace'
op|':'
newline|'\n'
indent|'                '
name|'policy'
op|'.'
name|'acl'
op|'='
name|'ACL'
op|'('
op|')'
newline|'\n'
dedent|''
name|'policy'
op|'.'
name|'acl'
op|'.'
name|'add_user_grant'
op|'('
string|"'READ'"
op|','
name|'oai'
op|'.'
name|'s3_user_id'
op|')'
newline|'\n'
name|'object'
op|'.'
name|'set_acl'
op|'('
name|'policy'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'object'
op|'.'
name|'set_canned_acl'
op|'('
string|"'public-read'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|set_permissions_all
dedent|''
dedent|''
name|'def'
name|'set_permissions_all'
op|'('
name|'self'
op|','
name|'replace'
op|'='
name|'False'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Sets the S3 ACL grants for all objects in the Distribution\n        to the appropriate value based on the type of Distribution.\n\n        :type replace: bool\n        :param replace: If False, the Origin Access Identity will be\n                        appended to the existing ACL for the object.\n                        If True, the ACL for the object will be\n                        completely replaced with one that grants\n                        READ permission to the Origin Access Identity.\n\n        """'
newline|'\n'
name|'bucket'
op|'='
name|'self'
op|'.'
name|'_get_bucket'
op|'('
op|')'
newline|'\n'
name|'for'
name|'key'
name|'in'
name|'bucket'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'set_permissions'
op|'('
name|'key'
op|')'
newline|'\n'
nl|'\n'
DECL|member|add_object
dedent|''
dedent|''
name|'def'
name|'add_object'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'content'
op|','
name|'headers'
op|'='
name|'None'
op|','
name|'replace'
op|'='
name|'True'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Adds a new content object to the Distribution.  The content\n        for the object will be copied to a new Key in the S3 Bucket\n        and the permissions will be set appropriately for the type\n        of Distribution.\n\n        :type name: str or unicode\n        :param name: The name or key of the new object.\n\n        :type content: file-like object\n        :param content: A file-like object that contains the content\n                        for the new object.\n\n        :type headers: dict\n        :param headers: A dictionary containing additional headers\n                        you would like associated with the new\n                        object in S3.\n\n        :rtype: :class:`boto.cloudfront.object.Object`\n        :return: The newly created object.\n        """'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin_access_identity'
op|':'
newline|'\n'
indent|'            '
name|'policy'
op|'='
string|"'private'"
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'policy'
op|'='
string|"'public-read'"
newline|'\n'
dedent|''
name|'bucket'
op|'='
name|'self'
op|'.'
name|'_get_bucket'
op|'('
op|')'
newline|'\n'
name|'object'
op|'='
name|'bucket'
op|'.'
name|'new_key'
op|'('
name|'name'
op|')'
newline|'\n'
name|'object'
op|'.'
name|'set_contents_from_file'
op|'('
name|'content'
op|','
name|'headers'
op|'='
name|'headers'
op|','
name|'policy'
op|'='
name|'policy'
op|')'
newline|'\n'
name|'if'
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin_access_identity'
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'set_permissions'
op|'('
name|'object'
op|','
name|'replace'
op|')'
newline|'\n'
dedent|''
name|'return'
name|'object'
newline|'\n'
nl|'\n'
DECL|class|StreamingDistribution
dedent|''
dedent|''
name|'class'
name|'StreamingDistribution'
op|'('
name|'Distribution'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|__init__
indent|'    '
name|'def'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|'='
name|'None'
op|','
name|'config'
op|'='
name|'None'
op|','
name|'domain_name'
op|'='
string|"''"
op|','
nl|'\n'
name|'id'
op|'='
string|"''"
op|','
name|'last_modified_time'
op|'='
name|'None'
op|','
name|'status'
op|'='
string|"''"
op|')'
op|':'
newline|'\n'
indent|'        '
name|'Distribution'
op|'.'
name|'__init__'
op|'('
name|'self'
op|','
name|'connection'
op|','
name|'config'
op|','
name|'domain_name'
op|','
nl|'\n'
name|'id'
op|','
name|'last_modified_time'
op|','
name|'status'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'_object_class'
op|'='
name|'StreamingObject'
newline|'\n'
nl|'\n'
DECL|member|startElement
dedent|''
name|'def'
name|'startElement'
op|'('
name|'self'
op|','
name|'name'
op|','
name|'attrs'
op|','
name|'connection'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'if'
name|'name'
op|'=='
string|"'StreamingDistributionConfig'"
op|':'
newline|'\n'
indent|'            '
name|'self'
op|'.'
name|'config'
op|'='
name|'StreamingDistributionConfig'
op|'('
op|')'
newline|'\n'
name|'return'
name|'self'
op|'.'
name|'config'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'return'
name|'None'
newline|'\n'
nl|'\n'
DECL|member|update
dedent|''
dedent|''
name|'def'
name|'update'
op|'('
name|'self'
op|','
name|'enabled'
op|'='
name|'None'
op|','
name|'cnames'
op|'='
name|'None'
op|','
name|'comment'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""\n        Update the configuration of the Distribution.\n\n        :type enabled: bool\n        :param enabled: Whether the Distribution is active or not.\n\n        :type cnames: list of str\n        :param cnames: The DNS CNAME\'s associated with this\n                        Distribution.  Maximum of 10 values.\n\n        :type comment: str or unicode\n        :param comment: The comment associated with the Distribution.\n\n        """'
newline|'\n'
name|'new_config'
op|'='
name|'StreamingDistributionConfig'
op|'('
name|'self'
op|'.'
name|'connection'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'origin'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'enabled'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'caller_reference'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'cnames'
op|','
nl|'\n'
name|'self'
op|'.'
name|'config'
op|'.'
name|'comment'
op|')'
newline|'\n'
name|'if'
name|'enabled'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'enabled'
op|'='
name|'enabled'
newline|'\n'
dedent|''
name|'if'
name|'cnames'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'cnames'
op|'='
name|'cnames'
newline|'\n'
dedent|''
name|'if'
name|'comment'
op|'!='
name|'None'
op|':'
newline|'\n'
indent|'            '
name|'new_config'
op|'.'
name|'comment'
op|'='
name|'comment'
newline|'\n'
nl|'\n'
dedent|''
name|'self'
op|'.'
name|'etag'
op|'='
name|'self'
op|'.'
name|'connection'
op|'.'
name|'set_streaming_distribution_config'
op|'('
name|'self'
op|'.'
name|'id'
op|','
nl|'\n'
name|'self'
op|'.'
name|'etag'
op|','
nl|'\n'
name|'new_config'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'config'
op|'='
name|'new_config'
newline|'\n'
nl|'\n'
DECL|member|delete
dedent|''
name|'def'
name|'delete'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'connection'
op|'.'
name|'delete_streaming_distribution'
op|'('
name|'self'
op|'.'
name|'id'
op|','
name|'self'
op|'.'
name|'etag'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
