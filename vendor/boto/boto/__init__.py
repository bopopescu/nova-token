begin_unit
comment|'# Copyright (c) 2006-2009 Mitch Garnaat http://garnaat.org/'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# Permission is hereby granted, free of charge, to any person obtaining a'
nl|'\n'
comment|'# copy of this software and associated documentation files (the'
nl|'\n'
comment|'# "Software"), to deal in the Software without restriction, including'
nl|'\n'
comment|'# without limitation the rights to use, copy, modify, merge, publish, dis-'
nl|'\n'
comment|'# tribute, sublicense, and/or sell copies of the Software, and to permit'
nl|'\n'
comment|'# persons to whom the Software is furnished to do so, subject to the fol-'
nl|'\n'
comment|'# lowing conditions:'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# The above copyright notice and this permission notice shall be included'
nl|'\n'
comment|'# in all copies or substantial portions of the Software.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS'
nl|'\n'
comment|'# OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABIL-'
nl|'\n'
comment|'# ITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT'
nl|'\n'
comment|'# SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,'
nl|'\n'
comment|'# WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,'
nl|'\n'
comment|'# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS'
nl|'\n'
comment|'# IN THE SOFTWARE.'
nl|'\n'
comment|'#'
nl|'\n'
name|'from'
name|'boto'
op|'.'
name|'pyami'
op|'.'
name|'config'
name|'import'
name|'Config'
op|','
name|'BotoConfigLocations'
newline|'\n'
name|'import'
name|'os'
op|','
name|'sys'
newline|'\n'
name|'import'
name|'logging'
newline|'\n'
name|'import'
name|'logging'
op|'.'
name|'config'
newline|'\n'
nl|'\n'
DECL|variable|Version
name|'Version'
op|'='
string|"'1.9b'"
newline|'\n'
DECL|variable|UserAgent
name|'UserAgent'
op|'='
string|"'Boto/%s (%s)'"
op|'%'
op|'('
name|'Version'
op|','
name|'sys'
op|'.'
name|'platform'
op|')'
newline|'\n'
DECL|variable|config
name|'config'
op|'='
name|'Config'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|function|init_logging
name|'def'
name|'init_logging'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'for'
name|'file'
name|'in'
name|'BotoConfigLocations'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
newline|'\n'
indent|'            '
name|'logging'
op|'.'
name|'config'
op|'.'
name|'fileConfig'
op|'('
name|'os'
op|'.'
name|'path'
op|'.'
name|'expanduser'
op|'('
name|'file'
op|')'
op|')'
newline|'\n'
dedent|''
name|'except'
op|':'
newline|'\n'
indent|'            '
name|'pass'
newline|'\n'
nl|'\n'
DECL|class|NullHandler
dedent|''
dedent|''
dedent|''
name|'class'
name|'NullHandler'
op|'('
name|'logging'
op|'.'
name|'Handler'
op|')'
op|':'
newline|'\n'
DECL|member|emit
indent|'    '
name|'def'
name|'emit'
op|'('
name|'self'
op|','
name|'record'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|variable|log
dedent|''
dedent|''
name|'log'
op|'='
name|'logging'
op|'.'
name|'getLogger'
op|'('
string|"'boto'"
op|')'
newline|'\n'
name|'log'
op|'.'
name|'addHandler'
op|'('
name|'NullHandler'
op|'('
op|')'
op|')'
newline|'\n'
name|'init_logging'
op|'('
op|')'
newline|'\n'
nl|'\n'
comment|'# convenience function to set logging to a particular file'
nl|'\n'
DECL|function|set_file_logger
name|'def'
name|'set_file_logger'
op|'('
name|'name'
op|','
name|'filepath'
op|','
name|'level'
op|'='
name|'logging'
op|'.'
name|'INFO'
op|','
name|'format_string'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'log'
newline|'\n'
name|'if'
name|'not'
name|'format_string'
op|':'
newline|'\n'
indent|'        '
name|'format_string'
op|'='
string|'"%(asctime)s %(name)s [%(levelname)s]:%(message)s"'
newline|'\n'
dedent|''
name|'logger'
op|'='
name|'logging'
op|'.'
name|'getLogger'
op|'('
name|'name'
op|')'
newline|'\n'
name|'logger'
op|'.'
name|'setLevel'
op|'('
name|'level'
op|')'
newline|'\n'
name|'fh'
op|'='
name|'logging'
op|'.'
name|'FileHandler'
op|'('
name|'filepath'
op|')'
newline|'\n'
name|'fh'
op|'.'
name|'setLevel'
op|'('
name|'level'
op|')'
newline|'\n'
name|'formatter'
op|'='
name|'logging'
op|'.'
name|'Formatter'
op|'('
name|'format_string'
op|')'
newline|'\n'
name|'fh'
op|'.'
name|'setFormatter'
op|'('
name|'formatter'
op|')'
newline|'\n'
name|'logger'
op|'.'
name|'addHandler'
op|'('
name|'fh'
op|')'
newline|'\n'
name|'log'
op|'='
name|'logger'
newline|'\n'
nl|'\n'
DECL|function|set_stream_logger
dedent|''
name|'def'
name|'set_stream_logger'
op|'('
name|'name'
op|','
name|'level'
op|'='
name|'logging'
op|'.'
name|'DEBUG'
op|','
name|'format_string'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'log'
newline|'\n'
name|'if'
name|'not'
name|'format_string'
op|':'
newline|'\n'
indent|'        '
name|'format_string'
op|'='
string|'"%(asctime)s %(name)s [%(levelname)s]:%(message)s"'
newline|'\n'
dedent|''
name|'logger'
op|'='
name|'logging'
op|'.'
name|'getLogger'
op|'('
name|'name'
op|')'
newline|'\n'
name|'logger'
op|'.'
name|'setLevel'
op|'('
name|'level'
op|')'
newline|'\n'
name|'fh'
op|'='
name|'logging'
op|'.'
name|'StreamHandler'
op|'('
op|')'
newline|'\n'
name|'fh'
op|'.'
name|'setLevel'
op|'('
name|'level'
op|')'
newline|'\n'
name|'formatter'
op|'='
name|'logging'
op|'.'
name|'Formatter'
op|'('
name|'format_string'
op|')'
newline|'\n'
name|'fh'
op|'.'
name|'setFormatter'
op|'('
name|'formatter'
op|')'
newline|'\n'
name|'logger'
op|'.'
name|'addHandler'
op|'('
name|'fh'
op|')'
newline|'\n'
name|'log'
op|'='
name|'logger'
newline|'\n'
nl|'\n'
DECL|function|connect_sqs
dedent|''
name|'def'
name|'connect_sqs'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.sqs.connection.SQSConnection`\n    :return: A connection to Amazon\'s SQS\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sqs'
op|'.'
name|'connection'
name|'import'
name|'SQSConnection'
newline|'\n'
name|'return'
name|'SQSConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_s3
dedent|''
name|'def'
name|'connect_s3'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.s3.connection.S3Connection`\n    :return: A connection to Amazon\'s S3\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'s3'
op|'.'
name|'connection'
name|'import'
name|'S3Connection'
newline|'\n'
name|'return'
name|'S3Connection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_ec2
dedent|''
name|'def'
name|'connect_ec2'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.ec2.connection.EC2Connection`\n    :return: A connection to Amazon\'s EC2\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'ec2'
op|'.'
name|'connection'
name|'import'
name|'EC2Connection'
newline|'\n'
name|'return'
name|'EC2Connection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_elb
dedent|''
name|'def'
name|'connect_elb'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.ec2.elb.ELBConnection`\n    :return: A connection to Amazon\'s Load Balancing Service\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'ec2'
op|'.'
name|'elb'
name|'import'
name|'ELBConnection'
newline|'\n'
name|'return'
name|'ELBConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_autoscale
dedent|''
name|'def'
name|'connect_autoscale'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.ec2.autoscale.AutoScaleConnection`\n    :return: A connection to Amazon\'s Auto Scaling Service\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'ec2'
op|'.'
name|'autoscale'
name|'import'
name|'AutoScaleConnection'
newline|'\n'
name|'return'
name|'AutoScaleConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_cloudwatch
dedent|''
name|'def'
name|'connect_cloudwatch'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.ec2.cloudwatch.CloudWatchConnection`\n    :return: A connection to Amazon\'s EC2 Monitoring service\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'ec2'
op|'.'
name|'cloudwatch'
name|'import'
name|'CloudWatchConnection'
newline|'\n'
name|'return'
name|'CloudWatchConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_sdb
dedent|''
name|'def'
name|'connect_sdb'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.sdb.connection.SDBConnection`\n    :return: A connection to Amazon\'s SDB\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sdb'
op|'.'
name|'connection'
name|'import'
name|'SDBConnection'
newline|'\n'
name|'return'
name|'SDBConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_fps
dedent|''
name|'def'
name|'connect_fps'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.fps.connection.FPSConnection`\n    :return: A connection to FPS\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'fps'
op|'.'
name|'connection'
name|'import'
name|'FPSConnection'
newline|'\n'
name|'return'
name|'FPSConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_cloudfront
dedent|''
name|'def'
name|'connect_cloudfront'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.fps.connection.FPSConnection`\n    :return: A connection to FPS\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'cloudfront'
name|'import'
name|'CloudFrontConnection'
newline|'\n'
name|'return'
name|'CloudFrontConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_vpc
dedent|''
name|'def'
name|'connect_vpc'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.vpc.VPCConnection`\n    :return: A connection to VPC\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'vpc'
name|'import'
name|'VPCConnection'
newline|'\n'
name|'return'
name|'VPCConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_rds
dedent|''
name|'def'
name|'connect_rds'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.rds.RDSConnection`\n    :return: A connection to RDS\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'rds'
name|'import'
name|'RDSConnection'
newline|'\n'
name|'return'
name|'RDSConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_emr
dedent|''
name|'def'
name|'connect_emr'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n   \n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n   \n    :rtype: :class:`boto.emr.EmrConnection`\n    :return: A connection to Elastic mapreduce\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'emr'
name|'import'
name|'EmrConnection'
newline|'\n'
name|'return'
name|'EmrConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
DECL|function|connect_sns
dedent|''
name|'def'
name|'connect_sns'
op|'('
name|'aws_access_key_id'
op|'='
name|'None'
op|','
name|'aws_secret_access_key'
op|'='
name|'None'
op|','
op|'**'
name|'kwargs'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    :type aws_access_key_id: string\n    :param aws_access_key_id: Your AWS Access Key ID\n\n    :type aws_secret_access_key: string\n    :param aws_secret_access_key: Your AWS Secret Access Key\n\n    :rtype: :class:`boto.sns.SNSConnection`\n    :return: A connection to Amazon\'s SNS\n    """'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sns'
name|'import'
name|'SNSConnection'
newline|'\n'
name|'return'
name|'SNSConnection'
op|'('
name|'aws_access_key_id'
op|','
name|'aws_secret_access_key'
op|','
op|'**'
name|'kwargs'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|check_extensions
dedent|''
name|'def'
name|'check_extensions'
op|'('
name|'module_name'
op|','
name|'module_path'
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""\n    This function checks for extensions to boto modules.  It should be called in the\n    __init__.py file of all boto modules.  See:\n    http://code.google.com/p/boto/wiki/ExtendModules\n\n    for details.\n    """'
newline|'\n'
name|'option_name'
op|'='
string|"'%s_extend'"
op|'%'
name|'module_name'
newline|'\n'
name|'version'
op|'='
name|'config'
op|'.'
name|'get'
op|'('
string|"'Boto'"
op|','
name|'option_name'
op|','
name|'None'
op|')'
newline|'\n'
name|'if'
name|'version'
op|':'
newline|'\n'
indent|'        '
name|'dirname'
op|'='
name|'module_path'
op|'['
number|'0'
op|']'
newline|'\n'
name|'path'
op|'='
name|'os'
op|'.'
name|'path'
op|'.'
name|'join'
op|'('
name|'dirname'
op|','
name|'version'
op|')'
newline|'\n'
name|'if'
name|'os'
op|'.'
name|'path'
op|'.'
name|'isdir'
op|'('
name|'path'
op|')'
op|':'
newline|'\n'
indent|'            '
name|'log'
op|'.'
name|'info'
op|'('
string|"'extending module %s with: %s'"
op|'%'
op|'('
name|'module_name'
op|','
name|'path'
op|')'
op|')'
newline|'\n'
name|'module_path'
op|'.'
name|'insert'
op|'('
number|'0'
op|','
name|'path'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|_aws_cache
dedent|''
dedent|''
dedent|''
name|'_aws_cache'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
DECL|function|_get_aws_conn
name|'def'
name|'_get_aws_conn'
op|'('
name|'service'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_aws_cache'
newline|'\n'
name|'conn'
op|'='
name|'_aws_cache'
op|'.'
name|'get'
op|'('
name|'service'
op|')'
newline|'\n'
name|'if'
name|'not'
name|'conn'
op|':'
newline|'\n'
indent|'        '
name|'meth'
op|'='
name|'getattr'
op|'('
name|'sys'
op|'.'
name|'modules'
op|'['
name|'__name__'
op|']'
op|','
string|"'connect_'"
op|'+'
name|'service'
op|')'
newline|'\n'
name|'conn'
op|'='
name|'meth'
op|'('
op|')'
newline|'\n'
name|'_aws_cache'
op|'['
name|'service'
op|']'
op|'='
name|'conn'
newline|'\n'
dedent|''
name|'return'
name|'conn'
newline|'\n'
nl|'\n'
DECL|function|lookup
dedent|''
name|'def'
name|'lookup'
op|'('
name|'service'
op|','
name|'name'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_aws_cache'
newline|'\n'
name|'conn'
op|'='
name|'_get_aws_conn'
op|'('
name|'service'
op|')'
newline|'\n'
name|'obj'
op|'='
name|'_aws_cache'
op|'.'
name|'get'
op|'('
string|"'.'"
op|'.'
name|'join'
op|'('
op|'('
name|'service'
op|','
name|'name'
op|')'
op|')'
op|','
name|'None'
op|')'
newline|'\n'
name|'if'
name|'not'
name|'obj'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'conn'
op|'.'
name|'lookup'
op|'('
name|'name'
op|')'
newline|'\n'
name|'_aws_cache'
op|'['
string|"'.'"
op|'.'
name|'join'
op|'('
op|'('
name|'service'
op|','
name|'name'
op|')'
op|')'
op|']'
op|'='
name|'obj'
newline|'\n'
dedent|''
name|'return'
name|'obj'
newline|'\n'
nl|'\n'
dedent|''
endmarker|''
end_unit
