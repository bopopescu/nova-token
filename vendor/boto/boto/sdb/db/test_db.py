begin_unit
name|'from'
name|'boto'
op|'.'
name|'sdb'
op|'.'
name|'db'
op|'.'
name|'model'
name|'import'
name|'Model'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sdb'
op|'.'
name|'db'
op|'.'
name|'property'
name|'import'
name|'StringProperty'
op|','
name|'IntegerProperty'
op|','
name|'BooleanProperty'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sdb'
op|'.'
name|'db'
op|'.'
name|'property'
name|'import'
name|'DateTimeProperty'
op|','
name|'FloatProperty'
op|','
name|'ReferenceProperty'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'sdb'
op|'.'
name|'db'
op|'.'
name|'property'
name|'import'
name|'PasswordProperty'
op|','
name|'ListProperty'
op|','
name|'MapProperty'
newline|'\n'
name|'from'
name|'datetime'
name|'import'
name|'datetime'
newline|'\n'
name|'import'
name|'time'
newline|'\n'
name|'from'
name|'boto'
op|'.'
name|'exception'
name|'import'
name|'SDBPersistenceError'
newline|'\n'
nl|'\n'
DECL|variable|_objects
name|'_objects'
op|'='
op|'{'
op|'}'
newline|'\n'
nl|'\n'
comment|'#'
nl|'\n'
comment|'# This will eventually be moved to the boto.tests module and become a real unit test'
nl|'\n'
comment|'# but for now it will live here.  It shows examples of each of the Property types in'
nl|'\n'
comment|'# use and tests the basic operations.'
nl|'\n'
comment|'#'
nl|'\n'
DECL|class|TestBasic
name|'class'
name|'TestBasic'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|size
name|'size'
op|'='
name|'IntegerProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|foo
name|'foo'
op|'='
name|'BooleanProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|date
name|'date'
op|'='
name|'DateTimeProperty'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestFloat
dedent|''
name|'class'
name|'TestFloat'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|value
name|'value'
op|'='
name|'FloatProperty'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestRequired
dedent|''
name|'class'
name|'TestRequired'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|req
indent|'    '
name|'req'
op|'='
name|'StringProperty'
op|'('
name|'required'
op|'='
name|'True'
op|','
name|'default'
op|'='
string|"'foo'"
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestReference
dedent|''
name|'class'
name|'TestReference'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|ref
indent|'    '
name|'ref'
op|'='
name|'ReferenceProperty'
op|'('
name|'reference_class'
op|'='
name|'TestBasic'
op|','
name|'collection_name'
op|'='
string|"'refs'"
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestSubClass
dedent|''
name|'class'
name|'TestSubClass'
op|'('
name|'TestBasic'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|answer
indent|'    '
name|'answer'
op|'='
name|'IntegerProperty'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestPassword
dedent|''
name|'class'
name|'TestPassword'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
DECL|variable|password
indent|'    '
name|'password'
op|'='
name|'PasswordProperty'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestList
dedent|''
name|'class'
name|'TestList'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|nums
name|'nums'
op|'='
name|'ListProperty'
op|'('
name|'int'
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestMap
dedent|''
name|'class'
name|'TestMap'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|map
name|'map'
op|'='
name|'MapProperty'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestListReference
dedent|''
name|'class'
name|'TestListReference'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
op|')'
newline|'\n'
DECL|variable|basics
name|'basics'
op|'='
name|'ListProperty'
op|'('
name|'TestBasic'
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestAutoNow
dedent|''
name|'class'
name|'TestAutoNow'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|variable|create_date
indent|'    '
name|'create_date'
op|'='
name|'DateTimeProperty'
op|'('
name|'auto_now_add'
op|'='
name|'True'
op|')'
newline|'\n'
DECL|variable|modified_date
name|'modified_date'
op|'='
name|'DateTimeProperty'
op|'('
name|'auto_now'
op|'='
name|'True'
op|')'
newline|'\n'
nl|'\n'
DECL|class|TestUnique
dedent|''
name|'class'
name|'TestUnique'
op|'('
name|'Model'
op|')'
op|':'
newline|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
name|'StringProperty'
op|'('
name|'unique'
op|'='
name|'True'
op|')'
newline|'\n'
nl|'\n'
DECL|function|test_basic
dedent|''
name|'def'
name|'test_basic'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestBasic'
op|'('
op|')'
newline|'\n'
name|'t'
op|'.'
name|'name'
op|'='
string|"'simple'"
newline|'\n'
name|'t'
op|'.'
name|'size'
op|'='
op|'-'
number|'42'
newline|'\n'
name|'t'
op|'.'
name|'foo'
op|'='
name|'True'
newline|'\n'
name|'t'
op|'.'
name|'date'
op|'='
name|'datetime'
op|'.'
name|'now'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'saving object'"
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_basic_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'5'
op|')'
newline|'\n'
name|'print'
string|"'now try retrieving it'"
newline|'\n'
name|'tt'
op|'='
name|'TestBasic'
op|'.'
name|'get_by_id'
op|'('
name|'t'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_basic_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'id'
op|'=='
name|'t'
op|'.'
name|'id'
newline|'\n'
name|'l'
op|'='
name|'TestBasic'
op|'.'
name|'get_by_id'
op|'('
op|'['
name|'t'
op|'.'
name|'id'
op|']'
op|')'
newline|'\n'
name|'assert'
name|'len'
op|'('
name|'l'
op|')'
op|'=='
number|'1'
newline|'\n'
name|'assert'
name|'l'
op|'['
number|'0'
op|']'
op|'.'
name|'id'
op|'=='
name|'t'
op|'.'
name|'id'
newline|'\n'
name|'assert'
name|'t'
op|'.'
name|'size'
op|'=='
name|'tt'
op|'.'
name|'size'
newline|'\n'
name|'assert'
name|'t'
op|'.'
name|'foo'
op|'=='
name|'tt'
op|'.'
name|'foo'
newline|'\n'
name|'assert'
name|'t'
op|'.'
name|'name'
op|'=='
name|'tt'
op|'.'
name|'name'
newline|'\n'
comment|'#assert t.date == tt.date'
nl|'\n'
name|'return'
name|'t'
newline|'\n'
nl|'\n'
DECL|function|test_float
dedent|''
name|'def'
name|'test_float'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestFloat'
op|'('
op|')'
newline|'\n'
name|'t'
op|'.'
name|'name'
op|'='
string|"'float object'"
newline|'\n'
name|'t'
op|'.'
name|'value'
op|'='
number|'98.6'
newline|'\n'
name|'print'
string|"'saving object'"
newline|'\n'
name|'t'
op|'.'
name|'save'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_float_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'5'
op|')'
newline|'\n'
name|'print'
string|"'now try retrieving it'"
newline|'\n'
name|'tt'
op|'='
name|'TestFloat'
op|'.'
name|'get_by_id'
op|'('
name|'t'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_float_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'id'
op|'=='
name|'t'
op|'.'
name|'id'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'name'
op|'=='
name|'t'
op|'.'
name|'name'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'value'
op|'=='
name|'t'
op|'.'
name|'value'
newline|'\n'
name|'return'
name|'t'
newline|'\n'
nl|'\n'
DECL|function|test_required
dedent|''
name|'def'
name|'test_required'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestRequired'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_required_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'return'
name|'t'
newline|'\n'
nl|'\n'
DECL|function|test_reference
dedent|''
name|'def'
name|'test_reference'
op|'('
name|'t'
op|'='
name|'None'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'if'
name|'not'
name|'t'
op|':'
newline|'\n'
indent|'        '
name|'t'
op|'='
name|'test_basic'
op|'('
op|')'
newline|'\n'
dedent|''
name|'tt'
op|'='
name|'TestReference'
op|'('
op|')'
newline|'\n'
name|'tt'
op|'.'
name|'ref'
op|'='
name|'t'
newline|'\n'
name|'tt'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'10'
op|')'
newline|'\n'
name|'tt'
op|'='
name|'TestReference'
op|'.'
name|'get_by_id'
op|'('
name|'tt'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_reference_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'ref'
op|'.'
name|'id'
op|'=='
name|'t'
op|'.'
name|'id'
newline|'\n'
name|'for'
name|'o'
name|'in'
name|'t'
op|'.'
name|'refs'
op|':'
newline|'\n'
indent|'        '
name|'print'
name|'o'
newline|'\n'
nl|'\n'
DECL|function|test_subclass
dedent|''
dedent|''
name|'def'
name|'test_subclass'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestSubClass'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_subclass_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'t'
op|'.'
name|'name'
op|'='
string|"'a subclass'"
newline|'\n'
name|'t'
op|'.'
name|'size'
op|'='
op|'-'
number|'489'
newline|'\n'
name|'t'
op|'.'
name|'save'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|function|test_password
dedent|''
name|'def'
name|'test_password'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestPassword'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_password_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'t'
op|'.'
name|'password'
op|'='
string|'"foo"'
newline|'\n'
name|'t'
op|'.'
name|'save'
op|'('
op|')'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'5'
op|')'
newline|'\n'
comment|'# Make sure it stored ok'
nl|'\n'
name|'tt'
op|'='
name|'TestPassword'
op|'.'
name|'get_by_id'
op|'('
name|'t'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_password_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
comment|'#Testing password equality'
nl|'\n'
name|'assert'
name|'tt'
op|'.'
name|'password'
op|'=='
string|'"foo"'
newline|'\n'
comment|'#Testing password not stored as string'
nl|'\n'
name|'assert'
name|'str'
op|'('
name|'tt'
op|'.'
name|'password'
op|')'
op|'!='
string|'"foo"'
newline|'\n'
nl|'\n'
DECL|function|test_list
dedent|''
name|'def'
name|'test_list'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestList'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_list_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'t'
op|'.'
name|'name'
op|'='
string|"'a list of ints'"
newline|'\n'
name|'t'
op|'.'
name|'nums'
op|'='
op|'['
number|'1'
op|','
number|'2'
op|','
number|'3'
op|','
number|'4'
op|','
number|'5'
op|']'
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'tt'
op|'='
name|'TestList'
op|'.'
name|'get_by_id'
op|'('
name|'t'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_list_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'name'
op|'=='
name|'t'
op|'.'
name|'name'
newline|'\n'
name|'for'
name|'n'
name|'in'
name|'tt'
op|'.'
name|'nums'
op|':'
newline|'\n'
indent|'        '
name|'assert'
name|'isinstance'
op|'('
name|'n'
op|','
name|'int'
op|')'
newline|'\n'
nl|'\n'
DECL|function|test_list_reference
dedent|''
dedent|''
name|'def'
name|'test_list_reference'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestBasic'
op|'('
op|')'
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_list_ref_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'tt'
op|'='
name|'TestListReference'
op|'('
op|')'
newline|'\n'
name|'tt'
op|'.'
name|'name'
op|'='
string|'"foo"'
newline|'\n'
name|'tt'
op|'.'
name|'basics'
op|'='
op|'['
name|'t'
op|']'
newline|'\n'
name|'tt'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'5'
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_list_ref_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'ttt'
op|'='
name|'TestListReference'
op|'.'
name|'get_by_id'
op|'('
name|'tt'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'assert'
name|'ttt'
op|'.'
name|'basics'
op|'['
number|'0'
op|']'
op|'.'
name|'id'
op|'=='
name|'t'
op|'.'
name|'id'
newline|'\n'
nl|'\n'
DECL|function|test_unique
dedent|''
name|'def'
name|'test_unique'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestUnique'
op|'('
op|')'
newline|'\n'
name|'name'
op|'='
string|"'foo'"
op|'+'
name|'str'
op|'('
name|'int'
op|'('
name|'time'
op|'.'
name|'time'
op|'('
op|')'
op|')'
op|')'
newline|'\n'
name|'t'
op|'.'
name|'name'
op|'='
name|'name'
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_unique_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'10'
op|')'
newline|'\n'
name|'tt'
op|'='
name|'TestUnique'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_unique_tt'"
op|']'
op|'='
name|'tt'
newline|'\n'
name|'tt'
op|'.'
name|'name'
op|'='
name|'name'
newline|'\n'
name|'try'
op|':'
newline|'\n'
indent|'        '
name|'tt'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'assert'
name|'False'
newline|'\n'
dedent|''
name|'except'
op|'('
name|'SDBPersistenceError'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'pass'
newline|'\n'
nl|'\n'
DECL|function|test_datetime
dedent|''
dedent|''
name|'def'
name|'test_datetime'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'global'
name|'_objects'
newline|'\n'
name|'t'
op|'='
name|'TestAutoNow'
op|'('
op|')'
newline|'\n'
name|'t'
op|'.'
name|'put'
op|'('
op|')'
newline|'\n'
name|'_objects'
op|'['
string|"'test_datetime_t'"
op|']'
op|'='
name|'t'
newline|'\n'
name|'time'
op|'.'
name|'sleep'
op|'('
number|'5'
op|')'
newline|'\n'
name|'tt'
op|'='
name|'TestAutoNow'
op|'.'
name|'get_by_id'
op|'('
name|'t'
op|'.'
name|'id'
op|')'
newline|'\n'
name|'assert'
name|'tt'
op|'.'
name|'create_date'
op|'.'
name|'timetuple'
op|'('
op|')'
op|'=='
name|'t'
op|'.'
name|'create_date'
op|'.'
name|'timetuple'
op|'('
op|')'
newline|'\n'
nl|'\n'
DECL|function|test
dedent|''
name|'def'
name|'test'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'print'
string|"'test_basic'"
newline|'\n'
name|'t1'
op|'='
name|'test_basic'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_required'"
newline|'\n'
name|'test_required'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_reference'"
newline|'\n'
name|'test_reference'
op|'('
name|'t1'
op|')'
newline|'\n'
name|'print'
string|"'test_subclass'"
newline|'\n'
name|'test_subclass'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_password'"
newline|'\n'
name|'test_password'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_list'"
newline|'\n'
name|'test_list'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_list_reference'"
newline|'\n'
name|'test_list_reference'
op|'('
op|')'
newline|'\n'
name|'print'
string|'"test_datetime"'
newline|'\n'
name|'test_datetime'
op|'('
op|')'
newline|'\n'
name|'print'
string|"'test_unique'"
newline|'\n'
name|'test_unique'
op|'('
op|')'
newline|'\n'
nl|'\n'
dedent|''
name|'if'
name|'__name__'
op|'=='
string|'"__main__"'
op|':'
newline|'\n'
indent|'    '
name|'test'
op|'('
op|')'
newline|'\n'
dedent|''
endmarker|''
end_unit
