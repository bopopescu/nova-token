begin_unit
nl|'\n'
name|'from'
name|'markdown'
name|'import'
name|'message'
op|','
name|'CRITICAL'
newline|'\n'
name|'import'
name|'sys'
newline|'\n'
nl|'\n'
comment|'## Import'
nl|'\n'
DECL|function|importETree
name|'def'
name|'importETree'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
string|'"""Import the best implementation of ElementTree, return a module object."""'
newline|'\n'
name|'etree_in_c'
op|'='
name|'None'
newline|'\n'
name|'try'
op|':'
comment|'# Is it Python 2.5+ with C implemenation of ElementTree installed?'
newline|'\n'
indent|'        '
name|'import'
name|'xml'
op|'.'
name|'etree'
op|'.'
name|'cElementTree'
name|'as'
name|'etree_in_c'
newline|'\n'
dedent|''
name|'except'
name|'ImportError'
op|':'
newline|'\n'
indent|'        '
name|'try'
op|':'
comment|'# Is it Python 2.5+ with Python implementation of ElementTree?'
newline|'\n'
indent|'            '
name|'import'
name|'xml'
op|'.'
name|'etree'
op|'.'
name|'ElementTree'
name|'as'
name|'etree'
newline|'\n'
dedent|''
name|'except'
name|'ImportError'
op|':'
newline|'\n'
indent|'            '
name|'try'
op|':'
comment|'# An earlier version of Python with cElementTree installed?'
newline|'\n'
indent|'                '
name|'import'
name|'cElementTree'
name|'as'
name|'etree_in_c'
newline|'\n'
dedent|''
name|'except'
name|'ImportError'
op|':'
newline|'\n'
indent|'                '
name|'try'
op|':'
comment|'# An earlier version of Python with Python ElementTree?'
newline|'\n'
indent|'                    '
name|'import'
name|'elementtree'
op|'.'
name|'ElementTree'
name|'as'
name|'etree'
newline|'\n'
dedent|''
name|'except'
name|'ImportError'
op|':'
newline|'\n'
indent|'                    '
name|'message'
op|'('
name|'CRITICAL'
op|','
string|'"Failed to import ElementTree"'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'exit'
op|'('
number|'1'
op|')'
newline|'\n'
dedent|''
dedent|''
dedent|''
dedent|''
name|'if'
name|'etree_in_c'
name|'and'
name|'etree_in_c'
op|'.'
name|'VERSION'
op|'<'
string|'"1.0"'
op|':'
newline|'\n'
indent|'        '
name|'message'
op|'('
name|'CRITICAL'
op|','
string|'"For cElementTree version 1.0 or higher is required."'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'exit'
op|'('
number|'1'
op|')'
newline|'\n'
dedent|''
name|'elif'
name|'etree_in_c'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'etree_in_c'
newline|'\n'
dedent|''
name|'elif'
name|'etree'
op|'.'
name|'VERSION'
op|'<'
string|'"1.1"'
op|':'
newline|'\n'
indent|'        '
name|'message'
op|'('
name|'CRITICAL'
op|','
string|'"For ElementTree version 1.1 or higher is required"'
op|')'
newline|'\n'
name|'sys'
op|'.'
name|'exit'
op|'('
number|'1'
op|')'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'        '
name|'return'
name|'etree'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
