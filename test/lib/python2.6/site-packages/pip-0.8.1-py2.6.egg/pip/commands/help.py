begin_unit
name|'from'
name|'pip'
op|'.'
name|'basecommand'
name|'import'
name|'Command'
op|','
name|'command_dict'
op|','
name|'load_all_commands'
newline|'\n'
name|'from'
name|'pip'
op|'.'
name|'exceptions'
name|'import'
name|'InstallationError'
newline|'\n'
name|'from'
name|'pip'
op|'.'
name|'baseparser'
name|'import'
name|'parser'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|HelpCommand
name|'class'
name|'HelpCommand'
op|'('
name|'Command'
op|')'
op|':'
newline|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
string|"'help'"
newline|'\n'
DECL|variable|usage
name|'usage'
op|'='
string|"'%prog'"
newline|'\n'
DECL|variable|summary
name|'summary'
op|'='
string|"'Show available commands'"
newline|'\n'
nl|'\n'
DECL|member|run
name|'def'
name|'run'
op|'('
name|'self'
op|','
name|'options'
op|','
name|'args'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'load_all_commands'
op|'('
op|')'
newline|'\n'
name|'if'
name|'args'
op|':'
newline|'\n'
comment|'## FIXME: handle errors better here'
nl|'\n'
indent|'            '
name|'command'
op|'='
name|'args'
op|'['
number|'0'
op|']'
newline|'\n'
name|'if'
name|'command'
name|'not'
name|'in'
name|'command_dict'
op|':'
newline|'\n'
indent|'                '
name|'raise'
name|'InstallationError'
op|'('
string|"'No command with the name: %s'"
op|'%'
name|'command'
op|')'
newline|'\n'
dedent|''
name|'command'
op|'='
name|'command_dict'
op|'['
name|'command'
op|']'
newline|'\n'
name|'command'
op|'.'
name|'parser'
op|'.'
name|'print_help'
op|'('
op|')'
newline|'\n'
name|'return'
newline|'\n'
dedent|''
name|'parser'
op|'.'
name|'print_help'
op|'('
op|')'
newline|'\n'
name|'print'
newline|'\n'
name|'print'
string|"'Commands available:'"
newline|'\n'
name|'commands'
op|'='
name|'list'
op|'('
name|'set'
op|'('
name|'command_dict'
op|'.'
name|'values'
op|'('
op|')'
op|')'
op|')'
newline|'\n'
name|'commands'
op|'.'
name|'sort'
op|'('
name|'key'
op|'='
name|'lambda'
name|'x'
op|':'
name|'x'
op|'.'
name|'name'
op|')'
newline|'\n'
name|'for'
name|'command'
name|'in'
name|'commands'
op|':'
newline|'\n'
indent|'            '
name|'if'
name|'command'
op|'.'
name|'hidden'
op|':'
newline|'\n'
indent|'                '
name|'continue'
newline|'\n'
dedent|''
name|'print'
string|"'  %s: %s'"
op|'%'
op|'('
name|'command'
op|'.'
name|'name'
op|','
name|'command'
op|'.'
name|'summary'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
dedent|''
dedent|''
dedent|''
name|'HelpCommand'
op|'('
op|')'
newline|'\n'
endmarker|''
end_unit
