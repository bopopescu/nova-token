begin_unit
name|'import'
name|'sys'
newline|'\n'
name|'from'
name|'pip'
op|'.'
name|'basecommand'
name|'import'
name|'Command'
newline|'\n'
nl|'\n'
name|'BASE_COMPLETION'
op|'='
string|'"""\n# pip %(shell)s completion start%(script)s# pip %(shell)s completion end\n"""'
newline|'\n'
nl|'\n'
DECL|variable|COMPLETION_SCRIPTS
name|'COMPLETION_SCRIPTS'
op|'='
op|'{'
nl|'\n'
string|"'bash'"
op|':'
string|'"""\n_pip_completion()\n{\n    COMPREPLY=( $( COMP_WORDS="${COMP_WORDS[*]}" \\\\\n                   COMP_CWORD=$COMP_CWORD \\\\\n                   PIP_AUTO_COMPLETE=1 $1 ) )\n}\ncomplete -o default -F _pip_completion pip\n"""'
op|','
string|"'zsh'"
op|':'
string|'"""\nfunction _pip_completion {\n  local words cword\n  read -Ac words\n  read -cn cword\n  reply=( $( COMP_WORDS="$words[*]" \\\\\n             COMP_CWORD=$(( cword-1 )) \\\\\n             PIP_AUTO_COMPLETE=1 $words[1] ) )\n}\ncompctl -K _pip_completion pip\n"""'
op|'}'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|CompletionCommand
name|'class'
name|'CompletionCommand'
op|'('
name|'Command'
op|')'
op|':'
newline|'\n'
DECL|variable|name
indent|'    '
name|'name'
op|'='
string|"'completion'"
newline|'\n'
DECL|variable|summary
name|'summary'
op|'='
string|"'A helper command to be used for command completion'"
newline|'\n'
DECL|variable|hidden
name|'hidden'
op|'='
name|'True'
newline|'\n'
nl|'\n'
DECL|member|__init__
name|'def'
name|'__init__'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'super'
op|'('
name|'CompletionCommand'
op|','
name|'self'
op|')'
op|'.'
name|'__init__'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'parser'
op|'.'
name|'add_option'
op|'('
nl|'\n'
string|"'--bash'"
op|','
string|"'-b'"
op|','
nl|'\n'
name|'action'
op|'='
string|"'store_const'"
op|','
nl|'\n'
name|'const'
op|'='
string|"'bash'"
op|','
nl|'\n'
name|'dest'
op|'='
string|"'shell'"
op|','
nl|'\n'
name|'help'
op|'='
string|"'Emit completion code for bash'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'parser'
op|'.'
name|'add_option'
op|'('
nl|'\n'
string|"'--zsh'"
op|','
string|"'-z'"
op|','
nl|'\n'
name|'action'
op|'='
string|"'store_const'"
op|','
nl|'\n'
name|'const'
op|'='
string|"'zsh'"
op|','
nl|'\n'
name|'dest'
op|'='
string|"'shell'"
op|','
nl|'\n'
name|'help'
op|'='
string|"'Emit completion code for zsh'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|run
dedent|''
name|'def'
name|'run'
op|'('
name|'self'
op|','
name|'options'
op|','
name|'args'
op|')'
op|':'
newline|'\n'
indent|'        '
string|'"""Prints the completion code of the given shell"""'
newline|'\n'
name|'shells'
op|'='
name|'COMPLETION_SCRIPTS'
op|'.'
name|'keys'
op|'('
op|')'
newline|'\n'
name|'shell_options'
op|'='
op|'['
string|"'--'"
op|'+'
name|'shell'
name|'for'
name|'shell'
name|'in'
name|'sorted'
op|'('
name|'shells'
op|')'
op|']'
newline|'\n'
name|'if'
name|'options'
op|'.'
name|'shell'
name|'in'
name|'shells'
op|':'
newline|'\n'
indent|'            '
name|'script'
op|'='
name|'COMPLETION_SCRIPTS'
op|'.'
name|'get'
op|'('
name|'options'
op|'.'
name|'shell'
op|','
string|"''"
op|')'
newline|'\n'
name|'print'
name|'BASE_COMPLETION'
op|'%'
op|'{'
string|"'script'"
op|':'
name|'script'
op|','
string|"'shell'"
op|':'
name|'options'
op|'.'
name|'shell'
op|'}'
newline|'\n'
dedent|''
name|'else'
op|':'
newline|'\n'
indent|'            '
name|'sys'
op|'.'
name|'stderr'
op|'.'
name|'write'
op|'('
string|"'ERROR: You must pass %s\\n'"
op|'%'
string|"' or '"
op|'.'
name|'join'
op|'('
name|'shell_options'
op|')'
op|')'
newline|'\n'
nl|'\n'
dedent|''
dedent|''
dedent|''
name|'CompletionCommand'
op|'('
op|')'
newline|'\n'
endmarker|''
end_unit
