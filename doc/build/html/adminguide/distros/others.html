

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation on other distros (like Debian, Fedora or CentOS ) &mdash; nova v2010.1 documentation</title>
    <link rel="stylesheet" href="../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/tweaks.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2010.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jquery.tweet.js"></script>
    <link rel="top" title="nova v2010.1 documentation" href="../../index.html" />
    <link rel="up" title="Installing Nova on a Single Host" href="../single.node.install.html" />
    <link rel="next" title="Installing Nova on Multiple Servers" href="../multi.node.install.html" />
    <link rel="prev" title="Installing on Ubuntu 10.10 (Maverick)" href="ubuntu.10.10.html" />
    <script type='text/javascript'>
        $(document).ready(function(){
            $("#twitter_feed").tweet({
                username: "openstack",
                query: "from:openstack",
                avatar_size: 32,
                count: 10,
                loading_text: "loading tweets..."
            });
        });
    </script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../multi.node.install.html" title="Installing Nova on Multiple Servers"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ubuntu.10.10.html" title="Installing on Ubuntu 10.10 (Maverick)"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">nova v2010.1 documentation</a> &raquo;</li>
          <li><a href="../single.node.install.html" accesskey="U">Installing Nova on a Single Host</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Installation on other distros (like Debian, Fedora or CentOS )</a><ul>
<li><a class="reference internal" href="#nova-installation-on-centos-5-5">Nova installation on CentOS 5.5</a></li>
<li><a class="reference internal" href="#pre-reqs">Pre-reqs</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="ubuntu.10.10.html"
                                  title="previous chapter">Installing on Ubuntu 10.10 (Maverick)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../multi.node.install.html"
                                  title="next chapter">Installing Nova on Multiple Servers</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/adminguide/distros/others.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation-on-other-distros-like-debian-fedora-or-centos">
<h1>Installation on other distros (like Debian, Fedora or CentOS )<a class="headerlink" href="#installation-on-other-distros-like-debian-fedora-or-centos" title="Permalink to this headline">¶</a></h1>
<p>Feel free to add additional notes for additional distributions.</p>
<div class="section" id="nova-installation-on-centos-5-5">
<h2>Nova installation on CentOS 5.5<a class="headerlink" href="#nova-installation-on-centos-5-5" title="Permalink to this headline">¶</a></h2>
<p>These are notes for installing OpenStack Compute on CentOS 5.5 and will be updated but are NOT final. Please test for accuracy and edit as you see fit.</p>
<p>The principle botleneck for running nova on centos in python 2.6. Nova is written in python 2.6 and CentOS 5.5. comes with python 2.4. We can not update python system wide as some core utilities (like yum) is dependent on python 2.4. Also very few python 2.6 modules are available in centos/epel repos.</p>
</div>
<div class="section" id="pre-reqs">
<h2>Pre-reqs<a class="headerlink" href="#pre-reqs" title="Permalink to this headline">¶</a></h2>
<p>Add euca2ools and EPEL repo first.:</p>
<div class="highlight-python"><pre>cat &gt;/etc/yum.repos.d/euca2ools.repo &lt;&lt; EUCA_REPO_CONF_EOF
[eucalyptus]
name=euca2ools
baseurl=http://www.eucalyptussoftware.com/downloads/repo/euca2ools/1.3.1/yum/centos/
enabled=1
gpgcheck=0

EUCA_REPO_CONF_EOF</pre>
</div>
<div class="highlight-python"><pre>rpm -Uvh 'http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-4.noarch.rpm'</pre>
</div>
<p>Now install python2.6, kvm and few other libraries through yum:</p>
<div class="highlight-python"><pre>yum -y  install dnsmasq  vblade kpartx kvm gawk iptables ebtables  bzr screen euca2ools  curl rabbitmq-server gcc gcc-c++ autoconf automake swig  openldap openldap-servers nginx  python26 python26-devel python26-distribute git openssl-devel  python26-tools mysql-server qemu kmod-kvm libxml2 libxslt libxslt-devel mysql-devel</pre>
</div>
<p>Then download the latest aoetools and then build(and install) it, check for the latest version on sourceforge, exact url will change if theres a new release:</p>
<div class="highlight-python"><pre>wget -c http://sourceforge.net/projects/aoetools/files/aoetools/32/aoetools-32.tar.gz/download
tar -zxvf aoetools-32.tar.gz
cd aoetools-32
make
make install</pre>
</div>
<p>Add the udev rules for aoetools:</p>
<div class="highlight-python"><pre>cat &gt; /etc/udev/rules.d/60-aoe.rules &lt;&lt; AOE_RULES_EOF
SUBSYSTEM=="aoe", KERNEL=="discover",    NAME="etherd/%k", GROUP="disk", MODE="0220"
SUBSYSTEM=="aoe", KERNEL=="err",    NAME="etherd/%k", GROUP="disk", MODE="0440"
SUBSYSTEM=="aoe", KERNEL=="interfaces",    NAME="etherd/%k", GROUP="disk", MODE="0220"
SUBSYSTEM=="aoe", KERNEL=="revalidate",    NAME="etherd/%k", GROUP="disk", MODE="0220"
# aoe block devices
KERNEL=="etherd*",       NAME="%k", GROUP="disk"
AOE_RULES_EOF</pre>
</div>
<p>Load the kernel modules:</p>
<div class="highlight-python"><pre>modprobe aoe</pre>
</div>
<div class="highlight-python"><pre>modprobe kvm</pre>
</div>
<p>Now, install the python modules using easy_install-2.6, this ensures the installation are done against python 2.6</p>
<p>easy_install-2.6     twisted sqlalchemy mox greenlet carrot daemon eventlet tornado IPy  routes  lxml MySQL-python
python-gflags need to be downloaded and installed manually, use these commands (check the exact url for newer releases ):</p>
<div class="highlight-python"><pre>wget -c "http://python-gflags.googlecode.com/files/python-gflags-1.4.tar.gz"
tar -zxvf python-gflags-1.4.tar.gz
cd python-gflags-1.4
python2.6 setup.py install
cd ..</pre>
</div>
<p>Same for python2.6-libxml2 module, notice the &#8211;with-python and &#8211;prefix flags. &#8211;with-python ensures we are building it against python2.6 (otherwise it will build against python2.4, which is default):</p>
<div class="highlight-python"><pre>wget -c "ftp://xmlsoft.org/libxml2/libxml2-2.7.3.tar.gz"
tar -zxvf libxml2-2.7.3.tar.gz
cd libxml2-2.7.3
./configure --with-python=/usr/bin/python26 --prefix=/usr
make all
make install
cd python
python2.6 setup.py install
cd ..</pre>
</div>
<p>Once you&#8217;ve done this, continue at Step 3 here: <a class="reference internal" href="../single.node.install.html"><em>Installing Nova on a Single Host</em></a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../multi.node.install.html" title="Installing Nova on Multiple Servers"
             >next</a> |</li>
        <li class="right" >
          <a href="ubuntu.10.10.html" title="Installing on Ubuntu 10.10 (Maverick)"
             >previous</a> |</li>
        <li><a href="../../index.html">nova v2010.1 documentation</a> &raquo;</li>
          <li><a href="../single.node.install.html" >Installing Nova on a Single Host</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, United States Government as represented by the Administrator of the National Aeronautics and Space Administration..
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>