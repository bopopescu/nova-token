begin_unit
comment|'# vim: tabstop=4 shiftwidth=4 softtabstop=4'
nl|'\r\n'
nl|'\r\n'
comment|'# Copyright (c) 2011 Citrix Systems, Inc.'
nl|'\r\n'
comment|'# Copyright 2011 OpenStack LLC.'
nl|'\r\n'
comment|'#'
nl|'\r\n'
comment|'#    Licensed under the Apache License, Version 2.0 (the "License"); you may'
nl|'\r\n'
comment|'#    not use this file except in compliance with the License. You may obtain'
nl|'\r\n'
comment|'#    a copy of the License at'
nl|'\r\n'
comment|'#'
nl|'\r\n'
comment|'#         http://www.apache.org/licenses/LICENSE-2.0'
nl|'\r\n'
comment|'#'
nl|'\r\n'
comment|'#    Unless required by applicable law or agreed to in writing, software'
nl|'\r\n'
comment|'#    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT'
nl|'\r\n'
comment|'#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the'
nl|'\r\n'
comment|'#    License for the specific language governing permissions and limitations'
nl|'\r\n'
comment|'#    under the License.'
nl|'\r\n'
nl|'\r\n'
string|'"""\r\nThe VMware API utility module\r\n\r\n"""'
newline|'\r\n'
nl|'\r\n'
name|'from'
name|'nova'
op|'.'
name|'virt'
op|'.'
name|'vmwareapi'
op|'.'
name|'VimService_services_types'
name|'import'
name|'ns0'
newline|'\r\n'
nl|'\r\n'
DECL|variable|MAX_CLONE_RETRIES
name|'MAX_CLONE_RETRIES'
op|'='
number|'1'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|build_recursive_traversal_spec
name|'def'
name|'build_recursive_traversal_spec'
op|'('
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Traversal Spec\r\n    """'
newline|'\r\n'
comment|'#Traversal through "hostFolder" branch'
nl|'\r\n'
name|'visit_folders_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"visitFolders"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'visit_folders_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"visitFolders"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'visit_folders_select_spec'
op|']'
newline|'\r\n'
name|'dc_to_hf'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"dc_to_hf"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'dc_to_hf'
op|'.'
name|'set_element_name'
op|'('
string|'"dc_to_hf"'
op|')'
newline|'\r\n'
name|'dc_to_hf'
op|'.'
name|'set_element_type'
op|'('
string|'"Datacenter"'
op|')'
newline|'\r\n'
name|'dc_to_hf'
op|'.'
name|'set_element_path'
op|'('
string|'"hostFolder"'
op|')'
newline|'\r\n'
name|'dc_to_hf'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'dc_to_hf'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through "vmFolder" branch'
nl|'\r\n'
name|'visit_folders_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"visitFolders"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'visit_folders_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"visitFolders"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'visit_folders_select_spec'
op|']'
newline|'\r\n'
name|'dc_to_vmf'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"dc_to_vmf"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'dc_to_vmf'
op|'.'
name|'set_element_name'
op|'('
string|'"dc_to_vmf"'
op|')'
newline|'\r\n'
name|'dc_to_vmf'
op|'.'
name|'set_element_type'
op|'('
string|'"Datacenter"'
op|')'
newline|'\r\n'
name|'dc_to_vmf'
op|'.'
name|'set_element_path'
op|'('
string|'"vmFolder"'
op|')'
newline|'\r\n'
name|'dc_to_vmf'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'dc_to_vmf'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal to the DataStore from the DataCenter'
nl|'\r\n'
name|'visit_folders_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"traverseChild"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'visit_folders_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"traverseChild"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'visit_folders_select_spec'
op|']'
newline|'\r\n'
name|'dc_to_ds'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"dc_to_ds"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'dc_to_ds'
op|'.'
name|'set_element_name'
op|'('
string|'"dc_to_ds"'
op|')'
newline|'\r\n'
name|'dc_to_ds'
op|'.'
name|'set_element_type'
op|'('
string|'"Datacenter"'
op|')'
newline|'\r\n'
name|'dc_to_ds'
op|'.'
name|'set_element_path'
op|'('
string|'"datastore"'
op|')'
newline|'\r\n'
name|'dc_to_ds'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'dc_to_ds'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through "vm" branch'
nl|'\r\n'
name|'visit_folders_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"visitFolders"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'visit_folders_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"visitFolders"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'visit_folders_select_spec'
op|']'
newline|'\r\n'
name|'h_to_vm'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"h_to_vm"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'h_to_vm'
op|'.'
name|'set_element_name'
op|'('
string|'"h_to_vm"'
op|')'
newline|'\r\n'
name|'h_to_vm'
op|'.'
name|'set_element_type'
op|'('
string|'"HostSystem"'
op|')'
newline|'\r\n'
name|'h_to_vm'
op|'.'
name|'set_element_path'
op|'('
string|'"vm"'
op|')'
newline|'\r\n'
name|'h_to_vm'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'h_to_vm'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through "host" branch'
nl|'\r\n'
name|'cr_to_h'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"cr_to_h"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'cr_to_h'
op|'.'
name|'set_element_name'
op|'('
string|'"cr_to_h"'
op|')'
newline|'\r\n'
name|'cr_to_h'
op|'.'
name|'set_element_type'
op|'('
string|'"ComputeResource"'
op|')'
newline|'\r\n'
name|'cr_to_h'
op|'.'
name|'set_element_path'
op|'('
string|'"host"'
op|')'
newline|'\r\n'
name|'cr_to_h'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'cr_to_h'
op|'.'
name|'set_element_selectSet'
op|'('
op|'['
op|']'
op|')'
newline|'\r\n'
nl|'\r\n'
name|'cr_to_ds'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"cr_to_ds"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'cr_to_ds'
op|'.'
name|'set_element_name'
op|'('
string|'"cr_to_ds"'
op|')'
newline|'\r\n'
name|'cr_to_ds'
op|'.'
name|'set_element_type'
op|'('
string|'"ComputeResource"'
op|')'
newline|'\r\n'
name|'cr_to_ds'
op|'.'
name|'set_element_path'
op|'('
string|'"datastore"'
op|')'
newline|'\r\n'
name|'cr_to_ds'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through "resourcePool" branch'
nl|'\r\n'
name|'rp_to_rp_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_rp"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_rp_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_rp"'
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_vm"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_vm"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'rp_to_rp_select_spec'
op|','
name|'rp_to_vm_select_spec'
op|']'
newline|'\r\n'
name|'cr_to_rp'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"cr_to_rp"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'cr_to_rp'
op|'.'
name|'set_element_name'
op|'('
string|'"cr_to_rp"'
op|')'
newline|'\r\n'
name|'cr_to_rp'
op|'.'
name|'set_element_type'
op|'('
string|'"ComputeResource"'
op|')'
newline|'\r\n'
name|'cr_to_rp'
op|'.'
name|'set_element_path'
op|'('
string|'"resourcePool"'
op|')'
newline|'\r\n'
name|'cr_to_rp'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'cr_to_rp'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through all ResourcePools'
nl|'\r\n'
name|'rp_to_rp_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_rp"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_rp_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_rp"'
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_vm"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_vm"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'rp_to_rp_select_spec'
op|','
name|'rp_to_vm_select_spec'
op|']'
newline|'\r\n'
name|'rp_to_rp'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"rp_to_rp"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_rp'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_rp"'
op|')'
newline|'\r\n'
name|'rp_to_rp'
op|'.'
name|'set_element_type'
op|'('
string|'"ResourcePool"'
op|')'
newline|'\r\n'
name|'rp_to_rp'
op|'.'
name|'set_element_path'
op|'('
string|'"resourcePool"'
op|')'
newline|'\r\n'
name|'rp_to_rp'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'rp_to_rp'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Traversal through ResourcePools vm folders'
nl|'\r\n'
name|'rp_to_rp_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_rp"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_rp_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_rp"'
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"rp_to_vm"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_vm_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_vm"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'rp_to_rp_select_spec'
op|','
name|'rp_to_vm_select_spec'
op|']'
newline|'\r\n'
name|'rp_to_vm'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"rp_to_vm"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'rp_to_vm'
op|'.'
name|'set_element_name'
op|'('
string|'"rp_to_vm"'
op|')'
newline|'\r\n'
name|'rp_to_vm'
op|'.'
name|'set_element_type'
op|'('
string|'"ResourcePool"'
op|')'
newline|'\r\n'
name|'rp_to_vm'
op|'.'
name|'set_element_path'
op|'('
string|'"vm"'
op|')'
newline|'\r\n'
name|'rp_to_vm'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'rp_to_vm'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
nl|'\r\n'
comment|'#Include all Traversals and Recurse into them'
nl|'\r\n'
name|'visit_folders_select_spec'
op|'='
name|'ns0'
op|'.'
name|'SelectionSpec_Def'
op|'('
string|'"visitFolders"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'visit_folders_select_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"visitFolders"'
op|')'
newline|'\r\n'
name|'select_set'
op|'='
op|'['
name|'visit_folders_select_spec'
op|','
name|'dc_to_hf'
op|','
name|'dc_to_vmf'
op|','
nl|'\r\n'
name|'cr_to_ds'
op|','
name|'cr_to_h'
op|','
name|'cr_to_rp'
op|','
name|'rp_to_rp'
op|','
name|'h_to_vm'
op|','
name|'rp_to_vm'
op|']'
newline|'\r\n'
name|'traversal_spec'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
string|'"visitFolders"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'traversal_spec'
op|'.'
name|'set_element_name'
op|'('
string|'"visitFolders"'
op|')'
newline|'\r\n'
name|'traversal_spec'
op|'.'
name|'set_element_type'
op|'('
string|'"Folder"'
op|')'
newline|'\r\n'
name|'traversal_spec'
op|'.'
name|'set_element_path'
op|'('
string|'"childEntity"'
op|')'
newline|'\r\n'
name|'traversal_spec'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'traversal_spec'
op|'.'
name|'set_element_selectSet'
op|'('
name|'select_set'
op|')'
newline|'\r\n'
name|'return'
name|'traversal_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|build_property_spec
dedent|''
name|'def'
name|'build_property_spec'
op|'('
name|'type'
op|'='
string|'"VirtualMachine"'
op|','
name|'properties_to_collect'
op|'='
op|'['
string|'"name"'
op|']'
op|','
nl|'\r\n'
name|'all_properties'
op|'='
name|'False'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Property Spec\r\n    """'
newline|'\r\n'
name|'property_spec'
op|'='
name|'ns0'
op|'.'
name|'PropertySpec_Def'
op|'('
string|'"propertySpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'property_spec'
op|'.'
name|'set_element_type'
op|'('
name|'type'
op|')'
newline|'\r\n'
name|'property_spec'
op|'.'
name|'set_element_all'
op|'('
name|'all_properties'
op|')'
newline|'\r\n'
name|'property_spec'
op|'.'
name|'set_element_pathSet'
op|'('
name|'properties_to_collect'
op|')'
newline|'\r\n'
name|'return'
name|'property_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|build_object_spec
dedent|''
name|'def'
name|'build_object_spec'
op|'('
name|'root_folder'
op|','
name|'traversal_specs'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the object Spec\r\n    """'
newline|'\r\n'
name|'object_spec'
op|'='
name|'ns0'
op|'.'
name|'ObjectSpec_Def'
op|'('
string|'"ObjectSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'object_spec'
op|'.'
name|'set_element_obj'
op|'('
name|'root_folder'
op|')'
newline|'\r\n'
name|'object_spec'
op|'.'
name|'set_element_skip'
op|'('
name|'False'
op|')'
newline|'\r\n'
name|'object_spec'
op|'.'
name|'set_element_selectSet'
op|'('
name|'traversal_specs'
op|')'
newline|'\r\n'
name|'return'
name|'object_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|build_property_filter_spec
dedent|''
name|'def'
name|'build_property_filter_spec'
op|'('
name|'property_specs'
op|','
name|'object_specs'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Property Filter Spec\r\n    """'
newline|'\r\n'
name|'property_filter_spec'
op|'='
name|'ns0'
op|'.'
name|'PropertyFilterSpec_Def'
op|'('
string|'"PropertyFilterSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'set_element_propSet'
op|'('
name|'property_specs'
op|')'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'set_element_objectSet'
op|'('
name|'object_specs'
op|')'
newline|'\r\n'
name|'return'
name|'property_filter_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_object_properties
dedent|''
name|'def'
name|'get_object_properties'
op|'('
name|'vim'
op|','
name|'collector'
op|','
name|'mobj'
op|','
name|'type'
op|','
name|'properties'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Gets the properties of the Managed object specified\r\n    """'
newline|'\r\n'
name|'if'
name|'mobj'
name|'is'
name|'None'
op|':'
newline|'\r\n'
indent|'        '
name|'return'
name|'None'
newline|'\r\n'
dedent|''
name|'usecoll'
op|'='
name|'collector'
newline|'\r\n'
name|'if'
name|'usecoll'
name|'is'
name|'None'
op|':'
newline|'\r\n'
indent|'        '
name|'usecoll'
op|'='
name|'vim'
op|'.'
name|'get_service_content'
op|'('
op|')'
op|'.'
name|'PropertyCollector'
newline|'\r\n'
dedent|''
name|'property_filter_spec'
op|'='
name|'ns0'
op|'.'
name|'PropertyFilterSpec_Def'
op|'('
string|'"PropertyFilterSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'_propSet'
op|'='
op|'['
name|'ns0'
op|'.'
name|'PropertySpec_Def'
op|'('
string|'"PropertySpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
op|']'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'PropSet'
op|'['
number|'0'
op|']'
op|'.'
name|'_all'
op|'='
op|'('
name|'properties'
op|'=='
name|'None'
name|'or'
name|'len'
op|'('
name|'properties'
op|')'
op|'=='
number|'0'
op|')'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'PropSet'
op|'['
number|'0'
op|']'
op|'.'
name|'_type'
op|'='
name|'type'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'PropSet'
op|'['
number|'0'
op|']'
op|'.'
name|'_pathSet'
op|'='
name|'properties'
newline|'\r\n'
nl|'\r\n'
name|'property_filter_spec'
op|'.'
name|'_objectSet'
op|'='
op|'['
name|'ns0'
op|'.'
name|'ObjectSpec_Def'
op|'('
string|'"ObjectSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
op|']'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'ObjectSet'
op|'['
number|'0'
op|']'
op|'.'
name|'_obj'
op|'='
name|'mobj'
newline|'\r\n'
name|'property_filter_spec'
op|'.'
name|'ObjectSet'
op|'['
number|'0'
op|']'
op|'.'
name|'_skip'
op|'='
name|'False'
newline|'\r\n'
name|'return'
name|'vim'
op|'.'
name|'RetrieveProperties'
op|'('
name|'usecoll'
op|','
name|'specSet'
op|'='
op|'['
name|'property_filter_spec'
op|']'
op|')'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_dynamic_property
dedent|''
name|'def'
name|'get_dynamic_property'
op|'('
name|'vim'
op|','
name|'mobj'
op|','
name|'type'
op|','
name|'property_name'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Gets a particular property of the Managed Object\r\n    """'
newline|'\r\n'
name|'obj_content'
op|'='
name|'get_object_properties'
op|'('
name|'vim'
op|','
name|'None'
op|','
name|'mobj'
op|','
name|'type'
op|','
op|'['
name|'property_name'
op|']'
op|')'
newline|'\r\n'
name|'property_value'
op|'='
name|'None'
newline|'\r\n'
name|'if'
name|'obj_content'
op|':'
newline|'\r\n'
indent|'        '
name|'dynamic_property'
op|'='
name|'obj_content'
op|'['
number|'0'
op|']'
op|'.'
name|'PropSet'
newline|'\r\n'
name|'if'
name|'dynamic_property'
op|':'
newline|'\r\n'
indent|'            '
name|'property_value'
op|'='
name|'dynamic_property'
op|'['
number|'0'
op|']'
op|'.'
name|'Val'
newline|'\r\n'
dedent|''
dedent|''
name|'return'
name|'property_value'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_objects
dedent|''
name|'def'
name|'get_objects'
op|'('
name|'vim'
op|','
name|'type'
op|','
name|'properties_to_collect'
op|'='
op|'['
string|'"name"'
op|']'
op|','
name|'all'
op|'='
name|'False'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Gets the list of objects of the type specified\r\n    """'
newline|'\r\n'
name|'object_spec'
op|'='
name|'build_object_spec'
op|'('
name|'vim'
op|'.'
name|'get_service_content'
op|'('
op|')'
op|'.'
name|'RootFolder'
op|','
nl|'\r\n'
op|'['
name|'build_recursive_traversal_spec'
op|'('
op|')'
op|']'
op|')'
newline|'\r\n'
name|'property_spec'
op|'='
name|'build_property_spec'
op|'('
name|'type'
op|'='
name|'type'
op|','
nl|'\r\n'
name|'properties_to_collect'
op|'='
name|'properties_to_collect'
op|','
nl|'\r\n'
name|'all_properties'
op|'='
name|'all'
op|')'
newline|'\r\n'
name|'property_filter_spec'
op|'='
name|'build_property_filter_spec'
op|'('
op|'['
name|'property_spec'
op|']'
op|','
nl|'\r\n'
op|'['
name|'object_spec'
op|']'
op|')'
newline|'\r\n'
name|'return'
name|'vim'
op|'.'
name|'RetrieveProperties'
op|'('
name|'vim'
op|'.'
name|'get_service_content'
op|'('
op|')'
op|'.'
name|'PropertyCollector'
op|','
nl|'\r\n'
name|'specSet'
op|'='
op|'['
name|'property_filter_spec'
op|']'
op|')'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_traversal_spec
dedent|''
name|'def'
name|'get_traversal_spec'
op|'('
name|'type'
op|','
name|'path'
op|','
name|'name'
op|'='
string|'"traversalSpec"'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the traversal spec object\r\n    """'
newline|'\r\n'
name|'t_spec'
op|'='
name|'ns0'
op|'.'
name|'TraversalSpec_Def'
op|'('
name|'name'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'t_spec'
op|'.'
name|'_name'
op|'='
name|'name'
newline|'\r\n'
name|'t_spec'
op|'.'
name|'_type'
op|'='
name|'type'
newline|'\r\n'
name|'t_spec'
op|'.'
name|'_path'
op|'='
name|'path'
newline|'\r\n'
name|'t_spec'
op|'.'
name|'_skip'
op|'='
name|'False'
newline|'\r\n'
name|'return'
name|'t_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_prop_spec
dedent|''
name|'def'
name|'get_prop_spec'
op|'('
name|'type'
op|','
name|'properties'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Property Spec Object\r\n    """'
newline|'\r\n'
name|'prop_spec'
op|'='
name|'ns0'
op|'.'
name|'PropertySpec_Def'
op|'('
string|'"PropertySpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'prop_spec'
op|'.'
name|'_type'
op|'='
name|'type'
newline|'\r\n'
name|'prop_spec'
op|'.'
name|'_pathSet'
op|'='
name|'properties'
newline|'\r\n'
name|'return'
name|'prop_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_obj_spec
dedent|''
name|'def'
name|'get_obj_spec'
op|'('
name|'obj'
op|','
name|'select_set'
op|'='
name|'None'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Object Spec object\r\n    """'
newline|'\r\n'
name|'obj_spec'
op|'='
name|'ns0'
op|'.'
name|'ObjectSpec_Def'
op|'('
string|'"ObjectSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'obj_spec'
op|'.'
name|'_obj'
op|'='
name|'obj'
newline|'\r\n'
name|'obj_spec'
op|'.'
name|'_skip'
op|'='
name|'False'
newline|'\r\n'
name|'if'
name|'select_set'
name|'is'
name|'not'
name|'None'
op|':'
newline|'\r\n'
indent|'        '
name|'obj_spec'
op|'.'
name|'_selectSet'
op|'='
name|'select_set'
newline|'\r\n'
dedent|''
name|'return'
name|'obj_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_prop_filter_spec
dedent|''
name|'def'
name|'get_prop_filter_spec'
op|'('
name|'obj_spec'
op|','
name|'prop_spec'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Builds the Property Filter Spec Object\r\n    """'
newline|'\r\n'
name|'prop_filter_spec'
op|'='
name|'ns0'
op|'.'
name|'PropertyFilterSpec_Def'
op|'('
string|'"PropertyFilterSpec"'
op|')'
op|'.'
name|'pyclass'
op|'('
op|')'
newline|'\r\n'
name|'prop_filter_spec'
op|'.'
name|'_propSet'
op|'='
name|'prop_spec'
newline|'\r\n'
name|'prop_filter_spec'
op|'.'
name|'_objectSet'
op|'='
name|'obj_spec'
newline|'\r\n'
name|'return'
name|'prop_filter_spec'
newline|'\r\n'
nl|'\r\n'
nl|'\r\n'
DECL|function|get_properites_for_a_collection_of_objects
dedent|''
name|'def'
name|'get_properites_for_a_collection_of_objects'
op|'('
name|'vim'
op|','
name|'type'
op|','
nl|'\r\n'
name|'obj_list'
op|','
name|'properties'
op|')'
op|':'
newline|'\r\n'
indent|'    '
string|'"""\r\n    Gets the list of properties for the collection of\r\n    objects of the type specified\r\n    """'
newline|'\r\n'
name|'if'
name|'len'
op|'('
name|'obj_list'
op|')'
op|'=='
number|'0'
op|':'
newline|'\r\n'
indent|'        '
name|'return'
op|'['
op|']'
newline|'\r\n'
dedent|''
name|'prop_spec'
op|'='
name|'get_prop_spec'
op|'('
name|'type'
op|','
name|'properties'
op|')'
newline|'\r\n'
name|'lst_obj_specs'
op|'='
op|'['
op|']'
newline|'\r\n'
name|'for'
name|'obj'
name|'in'
name|'obj_list'
op|':'
newline|'\r\n'
indent|'        '
name|'lst_obj_specs'
op|'.'
name|'append'
op|'('
name|'get_obj_spec'
op|'('
name|'obj'
op|')'
op|')'
newline|'\r\n'
dedent|''
name|'prop_filter_spec'
op|'='
name|'get_prop_filter_spec'
op|'('
name|'lst_obj_specs'
op|','
op|'['
name|'prop_spec'
op|']'
op|')'
newline|'\r\n'
name|'return'
name|'vim'
op|'.'
name|'RetrieveProperties'
op|'('
name|'vim'
op|'.'
name|'get_service_content'
op|'('
op|')'
op|'.'
name|'PropertyCollector'
op|','
nl|'\r\n'
name|'specSet'
op|'='
op|'['
name|'prop_filter_spec'
op|']'
op|')'
newline|'\r\n'
dedent|''
endmarker|''
end_unit
