begin_unit
comment|'# vim: tabstop=4 shiftwidth=4 softtabstop=4'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    Copyright (C) 2012 Red Hat, Inc.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    Licensed under the Apache License, Version 2.0 (the "License"); you may'
nl|'\n'
comment|'#    not use this file except in compliance with the License. You may obtain'
nl|'\n'
comment|'#    a copy of the License at'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#         http://www.apache.org/licenses/LICENSE-2.0'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    Unless required by applicable law or agreed to in writing, software'
nl|'\n'
comment|'#    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT'
nl|'\n'
comment|'#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the'
nl|'\n'
comment|'#    License for the specific language governing permissions and limitations'
nl|'\n'
comment|'#    under the License.'
nl|'\n'
nl|'\n'
name|'from'
name|'lxml'
name|'import'
name|'etree'
newline|'\n'
nl|'\n'
name|'from'
name|'nova'
name|'import'
name|'test'
newline|'\n'
name|'from'
name|'nova'
op|'.'
name|'tests'
name|'import'
name|'matchers'
newline|'\n'
name|'from'
name|'nova'
op|'.'
name|'virt'
op|'.'
name|'libvirt'
name|'import'
name|'config'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigBaseTest
name|'class'
name|'LibvirtConfigBaseTest'
op|'('
name|'test'
op|'.'
name|'TestCase'
op|')'
op|':'
newline|'\n'
DECL|member|assertXmlEqual
indent|'    '
name|'def'
name|'assertXmlEqual'
op|'('
name|'self'
op|','
name|'expectedXmlstr'
op|','
name|'actualXmlstr'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'self'
op|'.'
name|'assertThat'
op|'('
name|'actualXmlstr'
op|','
name|'matchers'
op|'.'
name|'XMLMatches'
op|'('
name|'expectedXmlstr'
op|')'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_plain
indent|'    '
name|'def'
name|'test_config_plain'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigObject'
op|'('
name|'root_name'
op|'='
string|'"demo"'
op|')'
newline|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"<demo/>"'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_ns
dedent|''
name|'def'
name|'test_config_ns'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigObject'
op|'('
name|'root_name'
op|'='
string|'"demo"'
op|','
name|'ns_prefix'
op|'='
string|'"foo"'
op|','
nl|'\n'
name|'ns_uri'
op|'='
string|'"http://example.com/foo"'
op|')'
newline|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <foo:demo xmlns:foo="http://example.com/foo"/>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_text
dedent|''
name|'def'
name|'test_config_text'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigObject'
op|'('
name|'root_name'
op|'='
string|'"demo"'
op|')'
newline|'\n'
name|'root'
op|'='
name|'obj'
op|'.'
name|'format_dom'
op|'('
op|')'
newline|'\n'
name|'root'
op|'.'
name|'append'
op|'('
name|'obj'
op|'.'
name|'_text_node'
op|'('
string|'"foo"'
op|','
string|'"bar"'
op|')'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'etree'
op|'.'
name|'tostring'
op|'('
name|'root'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"<demo><foo>bar</foo></demo>"'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_parse
dedent|''
name|'def'
name|'test_config_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'inxml'
op|'='
string|'"<demo><foo/></demo>"'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigObject'
op|'('
name|'root_name'
op|'='
string|'"demo"'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'inxml'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigCapsTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigCapsTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_host
indent|'    '
name|'def'
name|'test_config_host'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <capabilities>\n          <host>\n            <uuid>c7a5fdbd-edaf-9455-926a-d65c16db1809</uuid>\n            <cpu>\n              <arch>x86_64</arch>\n              <model>Opteron_G3</model>\n              <vendor>AMD</vendor>\n              <topology sockets=\'1\' cores=\'4\' threads=\'1\'/>\n              <feature name=\'ibs\'/>\n              <feature name=\'osvw\'/>\n            </cpu>\n          </host>\n          <guest>\n            <os_type>hvm</os_type>\n            <arch name=\'x86_64\'/>\n          </guest>\n          <guest>\n            <os_type>hvm</os_type>\n            <arch name=\'i686\'/>\n          </guest>\n        </capabilities>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigCaps'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'host'
op|')'
op|','
name|'config'
op|'.'
name|'LibvirtConfigCapsHost'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'host'
op|'.'
name|'uuid'
op|','
string|'"c7a5fdbd-edaf-9455-926a-d65c16db1809"'
op|')'
newline|'\n'
nl|'\n'
name|'xmlout'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xmlin'
op|','
name|'xmlout'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestTimerTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestTimerTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
DECL|member|test_config_platform
indent|'    '
name|'def'
name|'test_config_platform'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestTimer'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'track'
op|'='
string|'"host"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <timer name="platform" track="host"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_pit
dedent|''
name|'def'
name|'test_config_pit'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestTimer'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"pit"'
newline|'\n'
name|'obj'
op|'.'
name|'tickpolicy'
op|'='
string|'"discard"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <timer name="pit" tickpolicy="discard"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_hpet
dedent|''
name|'def'
name|'test_config_hpet'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestTimer'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"hpet"'
newline|'\n'
name|'obj'
op|'.'
name|'present'
op|'='
name|'False'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <timer name="hpet" present="no"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestClockTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestClockTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
DECL|member|test_config_utc
indent|'    '
name|'def'
name|'test_config_utc'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestClock'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <clock offset="utc"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_localtime
dedent|''
name|'def'
name|'test_config_localtime'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestClock'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'offset'
op|'='
string|'"localtime"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <clock offset="localtime"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_timezone
dedent|''
name|'def'
name|'test_config_timezone'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestClock'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'offset'
op|'='
string|'"timezone"'
newline|'\n'
name|'obj'
op|'.'
name|'timezone'
op|'='
string|'"EDT"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <clock offset="timezone" timezone="EDT"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_variable
dedent|''
name|'def'
name|'test_config_variable'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestClock'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'offset'
op|'='
string|'"variable"'
newline|'\n'
name|'obj'
op|'.'
name|'adjustment'
op|'='
string|'"123456"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <clock offset="variable" adjustment="123456"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_timers
dedent|''
name|'def'
name|'test_config_timers'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestClock'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'tmpit'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestTimer'
op|'('
op|')'
newline|'\n'
name|'tmpit'
op|'.'
name|'name'
op|'='
string|'"pit"'
newline|'\n'
name|'tmpit'
op|'.'
name|'tickpolicy'
op|'='
string|'"discard"'
newline|'\n'
nl|'\n'
name|'tmrtc'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestTimer'
op|'('
op|')'
newline|'\n'
name|'tmrtc'
op|'.'
name|'name'
op|'='
string|'"rtc"'
newline|'\n'
name|'tmrtc'
op|'.'
name|'tickpolicy'
op|'='
string|'"merge"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_timer'
op|'('
name|'tmpit'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'add_timer'
op|'('
name|'tmrtc'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <clock offset="utc">\n               <timer name="pit" tickpolicy="discard"/>\n               <timer name="rtc" tickpolicy="merge"/>\n            </clock>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigCPUFeatureTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigCPUFeatureTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigCPUFeature'
op|'('
string|'"mtrr"'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <feature name="mtrr"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestCPUFeatureTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestCPUFeatureTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestCPUFeature'
op|'('
string|'"mtrr"'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'policy'
op|'='
string|'"force"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <feature name="mtrr" policy="force"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigCPUTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigCPUTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"Penryn"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu>\n              <model>Penryn</model>\n            </cpu>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_complex
dedent|''
name|'def'
name|'test_config_complex'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"Penryn"'
newline|'\n'
name|'obj'
op|'.'
name|'vendor'
op|'='
string|'"Intel"'
newline|'\n'
name|'obj'
op|'.'
name|'arch'
op|'='
string|'"x86_64"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_feature'
op|'('
name|'config'
op|'.'
name|'LibvirtConfigCPUFeature'
op|'('
string|'"mtrr"'
op|')'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'add_feature'
op|'('
name|'config'
op|'.'
name|'LibvirtConfigCPUFeature'
op|'('
string|'"apic"'
op|')'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu>\n              <arch>x86_64</arch>\n              <model>Penryn</model>\n              <vendor>Intel</vendor>\n              <feature name="mtrr"/>\n              <feature name="apic"/>\n            </cpu>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_topology
dedent|''
name|'def'
name|'test_config_topology'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"Penryn"'
newline|'\n'
name|'obj'
op|'.'
name|'sockets'
op|'='
number|'4'
newline|'\n'
name|'obj'
op|'.'
name|'cores'
op|'='
number|'4'
newline|'\n'
name|'obj'
op|'.'
name|'threads'
op|'='
number|'2'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu>\n              <model>Penryn</model>\n              <topology sockets="4" cores="4" threads="2"/>\n            </cpu>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestCPUTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestCPUTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"Penryn"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu match="exact">\n              <model>Penryn</model>\n            </cpu>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_complex
dedent|''
name|'def'
name|'test_config_complex'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"Penryn"'
newline|'\n'
name|'obj'
op|'.'
name|'vendor'
op|'='
string|'"Intel"'
newline|'\n'
name|'obj'
op|'.'
name|'arch'
op|'='
string|'"x86_64"'
newline|'\n'
name|'obj'
op|'.'
name|'mode'
op|'='
string|'"custom"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_feature'
op|'('
name|'config'
op|'.'
name|'LibvirtConfigGuestCPUFeature'
op|'('
string|'"mtrr"'
op|')'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'add_feature'
op|'('
name|'config'
op|'.'
name|'LibvirtConfigGuestCPUFeature'
op|'('
string|'"apic"'
op|')'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu mode="custom" match="exact">\n              <arch>x86_64</arch>\n              <model>Penryn</model>\n              <vendor>Intel</vendor>\n              <feature name="mtrr" policy="require"/>\n              <feature name="apic" policy="require"/>\n            </cpu>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_host
dedent|''
name|'def'
name|'test_config_host'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestCPU'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'mode'
op|'='
string|'"host-model"'
newline|'\n'
name|'obj'
op|'.'
name|'match'
op|'='
string|'"exact"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <cpu mode="host-model" match="exact"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestSMBIOSTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestSMBIOSTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSMBIOS'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <smbios mode="sysinfo"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestSysinfoTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestSysinfoTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_simple
indent|'    '
name|'def'
name|'test_config_simple'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSysinfo'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <sysinfo type="smbios"/>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_bios
dedent|''
name|'def'
name|'test_config_bios'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSysinfo'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'bios_vendor'
op|'='
string|'"Acme"'
newline|'\n'
name|'obj'
op|'.'
name|'bios_version'
op|'='
string|'"6.6.6"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <sysinfo type="smbios">\n              <bios>\n                <entry name="vendor">Acme</entry>\n                <entry name="version">6.6.6</entry>\n              </bios>\n            </sysinfo>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_system
dedent|''
name|'def'
name|'test_config_system'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSysinfo'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'system_manufacturer'
op|'='
string|'"Acme"'
newline|'\n'
name|'obj'
op|'.'
name|'system_product'
op|'='
string|'"Wile Coyote"'
newline|'\n'
name|'obj'
op|'.'
name|'system_version'
op|'='
string|'"6.6.6"'
newline|'\n'
name|'obj'
op|'.'
name|'system_serial'
op|'='
string|'"123456"'
newline|'\n'
name|'obj'
op|'.'
name|'system_uuid'
op|'='
string|'"c7a5fdbd-edaf-9455-926a-d65c16db1809"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <sysinfo type="smbios">\n              <system>\n                <entry name="manufacturer">Acme</entry>\n                <entry name="product">Wile Coyote</entry>\n                <entry name="version">6.6.6</entry>\n                <entry name="serial">123456</entry>\n                <entry name="uuid">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry>\n              </system>\n            </sysinfo>\n        """'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_mixed
dedent|''
name|'def'
name|'test_config_mixed'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSysinfo'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'bios_vendor'
op|'='
string|'"Acme"'
newline|'\n'
name|'obj'
op|'.'
name|'system_manufacturer'
op|'='
string|'"Acme"'
newline|'\n'
name|'obj'
op|'.'
name|'system_product'
op|'='
string|'"Wile Coyote"'
newline|'\n'
name|'obj'
op|'.'
name|'system_uuid'
op|'='
string|'"c7a5fdbd-edaf-9455-926a-d65c16db1809"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <sysinfo type="smbios">\n              <bios>\n                <entry name="vendor">Acme</entry>\n              </bios>\n              <system>\n                <entry name="manufacturer">Acme</entry>\n                <entry name="product">Wile Coyote</entry>\n                <entry name="uuid">c7a5fdbd-edaf-9455-926a-d65c16db1809</entry>\n              </system>\n            </sysinfo>\n        """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestDiskTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestDiskTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_file
indent|'    '
name|'def'
name|'test_config_file'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="file" device="disk">\n              <source file="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_file_parse
dedent|''
name|'def'
name|'test_config_file_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xml'
op|'='
string|'"""<disk type="file" device="disk">\n                   <source file="/tmp/hello"/>\n                   <target bus="ide" dev="/dev/hda"/>\n                 </disk>"""'
newline|'\n'
name|'xmldoc'
op|'='
name|'etree'
op|'.'
name|'fromstring'
op|'('
name|'xml'
op|')'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_dom'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_type'
op|','
string|"'file'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_path'
op|','
string|"'/tmp/hello'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_dev'
op|','
string|"'/dev/hda'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_bus'
op|','
string|"'ide'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_file_serial
dedent|''
name|'def'
name|'test_config_file_serial'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
name|'obj'
op|'.'
name|'serial'
op|'='
string|'"7a97c4a3-6f59-41d4-bf47-191d7f97f8e9"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="file" device="disk">\n              <source file="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hda"/>\n              <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_file_serial_parse
dedent|''
name|'def'
name|'test_config_file_serial_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xml'
op|'='
string|'"""<disk type="file" device="disk">\n                   <source file="/tmp/hello"/>\n                   <target bus="ide" dev="/dev/hda"/>\n                   <serial>7a97c4a3-6f59-41d4-bf47-191d7f97f8e9</serial>\n                 </disk>"""'
newline|'\n'
name|'xmldoc'
op|'='
name|'etree'
op|'.'
name|'fromstring'
op|'('
name|'xml'
op|')'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_dom'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_type'
op|','
string|"'file'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'serial'
op|','
string|"'7a97c4a3-6f59-41d4-bf47-191d7f97f8e9'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_block
dedent|''
name|'def'
name|'test_config_block'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"block"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'source_device'
op|'='
string|'"cdrom"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|'"qemu"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hdc"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="block" device="cdrom">\n              <driver name="qemu"/>\n              <source dev="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hdc"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_block_parse
dedent|''
name|'def'
name|'test_config_block_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xml'
op|'='
string|'"""<disk type="block" device="cdrom">\n                   <driver name="qemu"/>\n                   <source dev="/tmp/hello"/>\n                   <target bus="ide" dev="/dev/hdc"/>\n                 </disk>"""'
newline|'\n'
name|'xmldoc'
op|'='
name|'etree'
op|'.'
name|'fromstring'
op|'('
name|'xml'
op|')'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_dom'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_type'
op|','
string|"'block'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_path'
op|','
string|"'/tmp/hello'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_dev'
op|','
string|"'/dev/hdc'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_bus'
op|','
string|"'ide'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_network
dedent|''
name|'def'
name|'test_config_network'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"network"'
newline|'\n'
name|'obj'
op|'.'
name|'source_protocol'
op|'='
string|'"iscsi"'
newline|'\n'
name|'obj'
op|'.'
name|'source_name'
op|'='
string|'"foo.bar.com"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|'"qemu"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_format'
op|'='
string|'"qcow2"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="network" device="disk">\n              <driver name="qemu" type="qcow2"/>\n              <source name="foo.bar.com" protocol="iscsi"/>\n              <target bus="ide" dev="/dev/hda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_network_parse
dedent|''
name|'def'
name|'test_config_network_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xml'
op|'='
string|'"""<disk type="network" device="disk">\n                   <driver name="qemu" type="qcow2"/>\n                   <source name="foo.bar.com" protocol="iscsi"/>\n                   <target bus="ide" dev="/dev/hda"/>\n                 </disk>"""'
newline|'\n'
name|'xmldoc'
op|'='
name|'etree'
op|'.'
name|'fromstring'
op|'('
name|'xml'
op|')'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_dom'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_type'
op|','
string|"'network'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_protocol'
op|','
string|"'iscsi'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_name'
op|','
string|"'foo.bar.com'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'driver_name'
op|','
string|"'qemu'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'driver_format'
op|','
string|"'qcow2'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_dev'
op|','
string|"'/dev/hda'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_bus'
op|','
string|"'ide'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_network_no_name
dedent|''
name|'def'
name|'test_config_network_no_name'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|"'network'"
newline|'\n'
name|'obj'
op|'.'
name|'source_protocol'
op|'='
string|"'nbd'"
newline|'\n'
name|'obj'
op|'.'
name|'source_hosts'
op|'='
op|'['
string|"'foo.bar.com'"
op|']'
newline|'\n'
name|'obj'
op|'.'
name|'source_ports'
op|'='
op|'['
name|'None'
op|']'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|"'qemu'"
newline|'\n'
name|'obj'
op|'.'
name|'driver_format'
op|'='
string|"'raw'"
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|"'/dev/vda'"
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|"'virtio'"
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="network" device="disk">\n              <driver name="qemu" type="raw"/>\n              <source protocol="nbd">\n                <host name="foo.bar.com"/>\n              </source>\n              <target bus="virtio" dev="/dev/vda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_network_multihost
dedent|''
name|'def'
name|'test_config_network_multihost'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|"'network'"
newline|'\n'
name|'obj'
op|'.'
name|'source_protocol'
op|'='
string|"'rbd'"
newline|'\n'
name|'obj'
op|'.'
name|'source_name'
op|'='
string|"'pool/image'"
newline|'\n'
name|'obj'
op|'.'
name|'source_hosts'
op|'='
op|'['
string|"'foo.bar.com'"
op|','
string|"'::1'"
op|','
string|"'1.2.3.4'"
op|']'
newline|'\n'
name|'obj'
op|'.'
name|'source_ports'
op|'='
op|'['
name|'None'
op|','
string|"'123'"
op|','
string|"'456'"
op|']'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|"'qemu'"
newline|'\n'
name|'obj'
op|'.'
name|'driver_format'
op|'='
string|"'raw'"
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|"'/dev/vda'"
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|"'virtio'"
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="network" device="disk">\n              <driver name="qemu" type="raw"/>\n              <source name="pool/image" protocol="rbd">\n                <host name="foo.bar.com"/>\n                <host name="::1" port="123"/>\n                <host name="1.2.3.4" port="456"/>\n              </source>\n              <target bus="virtio" dev="/dev/vda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_network_auth
dedent|''
name|'def'
name|'test_config_network_auth'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"network"'
newline|'\n'
name|'obj'
op|'.'
name|'source_protocol'
op|'='
string|'"rbd"'
newline|'\n'
name|'obj'
op|'.'
name|'source_name'
op|'='
string|'"pool/image"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|'"qemu"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_format'
op|'='
string|'"raw"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/vda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"virtio"'
newline|'\n'
name|'obj'
op|'.'
name|'auth_username'
op|'='
string|'"foo"'
newline|'\n'
name|'obj'
op|'.'
name|'auth_secret_type'
op|'='
string|'"ceph"'
newline|'\n'
name|'obj'
op|'.'
name|'auth_secret_uuid'
op|'='
string|'"b38a3f43-4be2-4046-897f-b67c2f5e0147"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="network" device="disk">\n              <driver name="qemu" type="raw"/>\n              <source name="pool/image" protocol="rbd"/>\n              <auth username="foo">\n                <secret type="ceph"\n                uuid="b38a3f43-4be2-4046-897f-b67c2f5e0147"/>\n              </auth>\n              <target bus="virtio" dev="/dev/vda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_iotune
dedent|''
name|'def'
name|'test_config_iotune'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
name|'obj'
op|'.'
name|'disk_read_bytes_sec'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'disk_read_iops_sec'
op|'='
number|'1000'
newline|'\n'
name|'obj'
op|'.'
name|'disk_total_bytes_sec'
op|'='
number|'2048000'
newline|'\n'
name|'obj'
op|'.'
name|'disk_write_bytes_sec'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'disk_write_iops_sec'
op|'='
number|'1000'
newline|'\n'
name|'obj'
op|'.'
name|'disk_total_iops_sec'
op|'='
number|'2000'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="file" device="disk">\n              <source file="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hda"/>\n              <iotune>\n                <read_bytes_sec>1024000</read_bytes_sec>\n                <read_iops_sec>1000</read_iops_sec>\n                <write_bytes_sec>1024000</write_bytes_sec>\n                <write_iops_sec>1000</write_iops_sec>\n                <total_bytes_sec>2048000</total_bytes_sec>\n                <total_iops_sec>2000</total_iops_sec>\n              </iotune>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_blockio
dedent|''
name|'def'
name|'test_config_blockio'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
name|'obj'
op|'.'
name|'logical_block_size'
op|'='
string|'"4096"'
newline|'\n'
name|'obj'
op|'.'
name|'physical_block_size'
op|'='
string|'"4096"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
string|'"""\n            <disk type="file" device="disk">\n              <source file="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hda"/>\n              <blockio logical_block_size="4096" physical_block_size="4096"/>\n            </disk>"""'
op|','
name|'xml'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestSnapshotDiskTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestSnapshotDiskTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_file
indent|'    '
name|'def'
name|'test_config_file'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/hda"'
newline|'\n'
name|'obj'
op|'.'
name|'target_bus'
op|'='
string|'"ide"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <disk type="file" device="disk">\n              <source file="/tmp/hello"/>\n              <target bus="ide" dev="/dev/hda"/>\n            </disk>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_file_parse
dedent|''
name|'def'
name|'test_config_file_parse'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xml'
op|'='
string|'"""<disk type="file" device="disk">\n                   <source file="/tmp/hello"/>\n                   <target bus="ide" dev="/dev/hda"/>\n                 </disk>"""'
newline|'\n'
name|'xmldoc'
op|'='
name|'etree'
op|'.'
name|'fromstring'
op|'('
name|'xml'
op|')'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_dom'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_type'
op|','
string|"'file'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'source_path'
op|','
string|"'/tmp/hello'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_dev'
op|','
string|"'/dev/hda'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'target_bus'
op|','
string|"'ide'"
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestFilesysTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestFilesysTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_mount
indent|'    '
name|'def'
name|'test_config_mount'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestFilesys'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'source_type'
op|'='
string|'"mount"'
newline|'\n'
name|'obj'
op|'.'
name|'source_dir'
op|'='
string|'"/tmp/hello"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dir'
op|'='
string|'"/mnt"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <filesystem type="mount">\n              <source dir="/tmp/hello"/>\n              <target dir="/mnt"/>\n            </filesystem>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestInputTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestInputTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_tablet
indent|'    '
name|'def'
name|'test_config_tablet'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestInput'
op|'('
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <input type="tablet" bus="usb"/>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestGraphicsTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestGraphicsTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_graphics
indent|'    '
name|'def'
name|'test_config_graphics'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestGraphics'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"vnc"'
newline|'\n'
name|'obj'
op|'.'
name|'autoport'
op|'='
name|'True'
newline|'\n'
name|'obj'
op|'.'
name|'keymap'
op|'='
string|'"en_US"'
newline|'\n'
name|'obj'
op|'.'
name|'listen'
op|'='
string|'"127.0.0.1"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n  <graphics type="vnc" autoport="yes" keymap="en_US" listen="127.0.0.1"/>\n                            """'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestHostdev
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestHostdev'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_pci_guest_host_dev
indent|'    '
name|'def'
name|'test_config_pci_guest_host_dev'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdev'
op|'('
name|'mode'
op|'='
string|"'subsystem'"
op|','
name|'type'
op|'='
string|"'pci'"
op|')'
newline|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'expected'
op|'='
string|'"""\n            <hostdev mode="subsystem" type="pci" managed="yes"/>\n            """'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
name|'expected'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_parse_GuestHostdev
dedent|''
name|'def'
name|'test_parse_GuestHostdev'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
string|'"""<hostdev mode="subsystem" type="pci" managed="yes"/>"""'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdev'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'mode'
op|','
string|"'subsystem'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'type'
op|','
string|"'pci'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'managed'
op|','
string|"'yes'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_parse_GuestHostdev_non_pci
dedent|''
name|'def'
name|'test_parse_GuestHostdev_non_pci'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
string|'"""<hostdev mode="subsystem" type="usb" managed="no"/>"""'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdev'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'mode'
op|','
string|"'subsystem'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'type'
op|','
string|"'usb'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'managed'
op|','
string|"'no'"
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestHostdevPCI
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestHostdevPCI'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
indent|'    '
name|'expected'
op|'='
string|'"""\n            <hostdev mode="subsystem" type="pci" managed="yes">\n                <source>\n                    <address bus="0x11" domain="0x1234" function="0x3"\n                             slot="0x22" />\n                </source>\n            </hostdev>\n            """'
newline|'\n'
nl|'\n'
DECL|member|test_config_guest_hosdev_pci
name|'def'
name|'test_config_guest_hosdev_pci'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'hostdev'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdevPCI'
op|'('
op|')'
newline|'\n'
name|'hostdev'
op|'.'
name|'domain'
op|'='
string|'"1234"'
newline|'\n'
name|'hostdev'
op|'.'
name|'bus'
op|'='
string|'"11"'
newline|'\n'
name|'hostdev'
op|'.'
name|'slot'
op|'='
string|'"22"'
newline|'\n'
name|'hostdev'
op|'.'
name|'function'
op|'='
string|'"3"'
newline|'\n'
name|'xml'
op|'='
name|'hostdev'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'self'
op|'.'
name|'expected'
op|','
name|'xml'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_parse_guest_hosdev_pci
dedent|''
name|'def'
name|'test_parse_guest_hosdev_pci'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
name|'self'
op|'.'
name|'expected'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdevPCI'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'mode'
op|','
string|"'subsystem'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'type'
op|','
string|"'pci'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'managed'
op|','
string|"'yes'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'domain'
op|','
string|"'0x1234'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'bus'
op|','
string|"'0x11'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'slot'
op|','
string|"'0x22'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'function'
op|','
string|"'0x3'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_parse_guest_hosdev_usb
dedent|''
name|'def'
name|'test_parse_guest_hosdev_usb'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
string|'"""<hostdev mode=\'subsystem\' type=\'usb\'>\n                      <source startupPolicy=\'optional\'>\n                          <vendor id=\'0x1234\'/>\n                          <product id=\'0xbeef\'/>\n                      </source>\n                      <boot order=\'2\'/>\n                    </hostdev>"""'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdevPCI'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'mode'
op|','
string|"'subsystem'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'type'
op|','
string|"'usb'"
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestSerialTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestSerialTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_file
indent|'    '
name|'def'
name|'test_config_file'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSerial'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"file"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/vm.log"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <serial type="file">\n              <source path="/tmp/vm.log"/>\n            </serial>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestConsoleTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestConsoleTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
DECL|member|test_config_pty
indent|'    '
name|'def'
name|'test_config_pty'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestConsole'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"pty"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <console type="pty"/>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestChannelTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestChannelTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
DECL|member|test_config_spice_minimal
indent|'    '
name|'def'
name|'test_config_spice_minimal'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestChannel'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"spicevmc"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <channel type="spicevmc">\n              <target type=\'virtio\'/>\n            </channel>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_spice_full
dedent|''
name|'def'
name|'test_config_spice_full'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestChannel'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"spicevmc"'
newline|'\n'
name|'obj'
op|'.'
name|'target_name'
op|'='
string|'"com.redhat.spice.0"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <channel type="spicevmc">\n              <target type=\'virtio\' name=\'com.redhat.spice.0\'/>\n            </channel>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_qga_full
dedent|''
name|'def'
name|'test_config_qga_full'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestChannel'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'type'
op|'='
string|'"unix"'
newline|'\n'
name|'obj'
op|'.'
name|'target_name'
op|'='
string|'"org.qemu.guest_agent.0"'
newline|'\n'
name|'obj'
op|'.'
name|'source_path'
op|'='
string|'"/var/lib/libvirt/qemu/%s.%s.sock"'
op|'%'
op|'('
nl|'\n'
name|'obj'
op|'.'
name|'target_name'
op|','
string|'"instance-name"'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <channel type="unix">\n              <source path="%s" mode="bind"/>\n              <target type="virtio" name="org.qemu.guest_agent.0"/>\n            </channel>"""'
op|'%'
name|'obj'
op|'.'
name|'source_path'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestInterfaceTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestInterfaceTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
DECL|member|test_config_ethernet
indent|'    '
name|'def'
name|'test_config_ethernet'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestInterface'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'net_type'
op|'='
string|'"ethernet"'
newline|'\n'
name|'obj'
op|'.'
name|'mac_addr'
op|'='
string|'"DE:AD:BE:EF:CA:FE"'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"virtio"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"vnet0"'
newline|'\n'
name|'obj'
op|'.'
name|'driver_name'
op|'='
string|'"vhost"'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_average'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_peak'
op|'='
number|'10240000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_burst'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_average'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_peak'
op|'='
number|'10240000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_burst'
op|'='
number|'1024000'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <interface type="ethernet">\n              <mac address="DE:AD:BE:EF:CA:FE"/>\n              <model type="virtio"/>\n              <driver name="vhost"/>\n              <target dev="vnet0"/>\n              <bandwidth>\n                <inbound average="1024000" peak="10240000" burst="1024000"/>\n                <outbound average="1024000" peak="10240000" burst="1024000"/>\n              </bandwidth>\n            </interface>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_bridge
dedent|''
name|'def'
name|'test_config_bridge'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestInterface'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'net_type'
op|'='
string|'"bridge"'
newline|'\n'
name|'obj'
op|'.'
name|'source_dev'
op|'='
string|'"br0"'
newline|'\n'
name|'obj'
op|'.'
name|'mac_addr'
op|'='
string|'"DE:AD:BE:EF:CA:FE"'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"virtio"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"tap12345678"'
newline|'\n'
name|'obj'
op|'.'
name|'filtername'
op|'='
string|'"clean-traffic"'
newline|'\n'
name|'obj'
op|'.'
name|'filterparams'
op|'.'
name|'append'
op|'('
op|'{'
string|'"key"'
op|':'
string|'"IP"'
op|','
string|'"value"'
op|':'
string|'"192.168.122.1"'
op|'}'
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_average'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_peak'
op|'='
number|'10240000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_inbound_burst'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_average'
op|'='
number|'1024000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_peak'
op|'='
number|'10240000'
newline|'\n'
name|'obj'
op|'.'
name|'vif_outbound_burst'
op|'='
number|'1024000'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <interface type="bridge">\n              <mac address="DE:AD:BE:EF:CA:FE"/>\n              <model type="virtio"/>\n              <source bridge="br0"/>\n              <target dev="tap12345678"/>\n              <filterref filter="clean-traffic">\n                <parameter name="IP" value="192.168.122.1"/>\n              </filterref>\n              <bandwidth>\n                <inbound average="1024000" peak="10240000" burst="1024000"/>\n                <outbound average="1024000" peak="10240000" burst="1024000"/>\n              </bandwidth>\n            </interface>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_bridge_ovs
dedent|''
name|'def'
name|'test_config_bridge_ovs'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestInterface'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'net_type'
op|'='
string|'"bridge"'
newline|'\n'
name|'obj'
op|'.'
name|'source_dev'
op|'='
string|'"br0"'
newline|'\n'
name|'obj'
op|'.'
name|'mac_addr'
op|'='
string|'"DE:AD:BE:EF:CA:FE"'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"virtio"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"tap12345678"'
newline|'\n'
name|'obj'
op|'.'
name|'vporttype'
op|'='
string|'"openvswitch"'
newline|'\n'
name|'obj'
op|'.'
name|'vportparams'
op|'.'
name|'append'
op|'('
op|'{'
string|'"key"'
op|':'
string|'"instanceid"'
op|','
string|'"value"'
op|':'
string|'"foobar"'
op|'}'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <interface type="bridge">\n              <mac address="DE:AD:BE:EF:CA:FE"/>\n              <model type="virtio"/>\n              <source bridge="br0"/>\n              <target dev="tap12345678"/>\n              <virtualport type="openvswitch">\n                <parameters instanceid="foobar"/>\n              </virtualport>\n            </interface>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_8021Qbh
dedent|''
name|'def'
name|'test_config_8021Qbh'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestInterface'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'net_type'
op|'='
string|'"direct"'
newline|'\n'
name|'obj'
op|'.'
name|'mac_addr'
op|'='
string|'"DE:AD:BE:EF:CA:FE"'
newline|'\n'
name|'obj'
op|'.'
name|'model'
op|'='
string|'"virtio"'
newline|'\n'
name|'obj'
op|'.'
name|'target_dev'
op|'='
string|'"tap12345678"'
newline|'\n'
name|'obj'
op|'.'
name|'source_dev'
op|'='
string|'"eth0"'
newline|'\n'
name|'obj'
op|'.'
name|'vporttype'
op|'='
string|'"802.1Qbh"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <interface type="direct">\n              <mac address="DE:AD:BE:EF:CA:FE"/>\n              <model type="virtio"/>\n              <source dev="eth0" mode="private"/>\n              <target dev="tap12345678"/>\n              <virtualport type="802.1Qbh"/>\n            </interface>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_lxc
indent|'    '
name|'def'
name|'test_config_lxc'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'virt_type'
op|'='
string|'"lxc"'
newline|'\n'
name|'obj'
op|'.'
name|'memory'
op|'='
number|'1024'
op|'*'
number|'1024'
op|'*'
number|'100'
newline|'\n'
name|'obj'
op|'.'
name|'vcpus'
op|'='
number|'2'
newline|'\n'
name|'obj'
op|'.'
name|'cpuset'
op|'='
string|'"0-3,^2,4-5"'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"demo"'
newline|'\n'
name|'obj'
op|'.'
name|'uuid'
op|'='
string|'"b38a3f43-4be2-4046-897f-b67c2f5e0147"'
newline|'\n'
name|'obj'
op|'.'
name|'os_type'
op|'='
string|'"exe"'
newline|'\n'
name|'obj'
op|'.'
name|'os_init_path'
op|'='
string|'"/sbin/init"'
newline|'\n'
nl|'\n'
name|'fs'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestFilesys'
op|'('
op|')'
newline|'\n'
name|'fs'
op|'.'
name|'source_dir'
op|'='
string|'"/root/lxc"'
newline|'\n'
name|'fs'
op|'.'
name|'target_dir'
op|'='
string|'"/"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_device'
op|'('
name|'fs'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domain type="lxc">\n              <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid>\n              <name>demo</name>\n              <memory>104857600</memory>\n              <vcpu cpuset="0-3,^2,4-5">2</vcpu>\n              <os>\n                <type>exe</type>\n                <init>/sbin/init</init>\n              </os>\n              <devices>\n                <filesystem type="mount">\n                  <source dir="/root/lxc"/>\n                  <target dir="/"/>\n                </filesystem>\n              </devices>\n            </domain>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_xen_pv
dedent|''
name|'def'
name|'test_config_xen_pv'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'virt_type'
op|'='
string|'"xen"'
newline|'\n'
name|'obj'
op|'.'
name|'memory'
op|'='
number|'1024'
op|'*'
number|'1024'
op|'*'
number|'100'
newline|'\n'
name|'obj'
op|'.'
name|'vcpus'
op|'='
number|'2'
newline|'\n'
name|'obj'
op|'.'
name|'cpuset'
op|'='
string|'"0-3,^2,4-5"'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"demo"'
newline|'\n'
name|'obj'
op|'.'
name|'uuid'
op|'='
string|'"b38a3f43-4be2-4046-897f-b67c2f5e0147"'
newline|'\n'
name|'obj'
op|'.'
name|'os_type'
op|'='
string|'"linux"'
newline|'\n'
name|'obj'
op|'.'
name|'os_kernel'
op|'='
string|'"/tmp/vmlinuz"'
newline|'\n'
name|'obj'
op|'.'
name|'os_initrd'
op|'='
string|'"/tmp/ramdisk"'
newline|'\n'
name|'obj'
op|'.'
name|'os_root'
op|'='
string|'"root=xvda"'
newline|'\n'
name|'obj'
op|'.'
name|'os_cmdline'
op|'='
string|'"console=xvc0"'
newline|'\n'
nl|'\n'
name|'disk'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'disk'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'disk'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/img"'
newline|'\n'
name|'disk'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/xvda"'
newline|'\n'
name|'disk'
op|'.'
name|'target_bus'
op|'='
string|'"xen"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_device'
op|'('
name|'disk'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domain type="xen">\n              <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid>\n              <name>demo</name>\n              <memory>104857600</memory>\n              <vcpu cpuset="0-3,^2,4-5">2</vcpu>\n              <os>\n                <type>linux</type>\n                <kernel>/tmp/vmlinuz</kernel>\n                <initrd>/tmp/ramdisk</initrd>\n                <cmdline>console=xvc0</cmdline>\n                <root>root=xvda</root>\n              </os>\n              <devices>\n                <disk type="file" device="disk">\n                  <source file="/tmp/img"/>\n                  <target bus="xen" dev="/dev/xvda"/>\n                </disk>\n              </devices>\n            </domain>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_xen_hvm
dedent|''
name|'def'
name|'test_config_xen_hvm'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'virt_type'
op|'='
string|'"xen"'
newline|'\n'
name|'obj'
op|'.'
name|'memory'
op|'='
number|'1024'
op|'*'
number|'1024'
op|'*'
number|'100'
newline|'\n'
name|'obj'
op|'.'
name|'vcpus'
op|'='
number|'2'
newline|'\n'
name|'obj'
op|'.'
name|'cpuset'
op|'='
string|'"0-3,^2,4-5"'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"demo"'
newline|'\n'
name|'obj'
op|'.'
name|'uuid'
op|'='
string|'"b38a3f43-4be2-4046-897f-b67c2f5e0147"'
newline|'\n'
name|'obj'
op|'.'
name|'os_type'
op|'='
string|'"hvm"'
newline|'\n'
name|'obj'
op|'.'
name|'os_loader'
op|'='
string|"'/usr/lib/xen/boot/hvmloader'"
newline|'\n'
name|'obj'
op|'.'
name|'os_root'
op|'='
string|'"root=xvda"'
newline|'\n'
name|'obj'
op|'.'
name|'os_cmdline'
op|'='
string|'"console=xvc0"'
newline|'\n'
name|'obj'
op|'.'
name|'acpi'
op|'='
name|'True'
newline|'\n'
name|'obj'
op|'.'
name|'apic'
op|'='
name|'True'
newline|'\n'
nl|'\n'
name|'disk'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'disk'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'disk'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/img"'
newline|'\n'
name|'disk'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/xvda"'
newline|'\n'
name|'disk'
op|'.'
name|'target_bus'
op|'='
string|'"xen"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_device'
op|'('
name|'disk'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domain type="xen">\n              <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid>\n              <name>demo</name>\n              <memory>104857600</memory>\n              <vcpu cpuset="0-3,^2,4-5">2</vcpu>\n              <os>\n                <type>hvm</type>\n                <loader>/usr/lib/xen/boot/hvmloader</loader>\n                <cmdline>console=xvc0</cmdline>\n                <root>root=xvda</root>\n              </os>\n              <features>\n                <acpi/>\n                <apic/>\n              </features>\n              <devices>\n                <disk type="file" device="disk">\n                  <source file="/tmp/img"/>\n                  <target bus="xen" dev="/dev/xvda"/>\n                </disk>\n              </devices>\n            </domain>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_kvm
dedent|''
name|'def'
name|'test_config_kvm'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'virt_type'
op|'='
string|'"kvm"'
newline|'\n'
name|'obj'
op|'.'
name|'memory'
op|'='
number|'1024'
op|'*'
number|'1024'
op|'*'
number|'100'
newline|'\n'
name|'obj'
op|'.'
name|'vcpus'
op|'='
number|'2'
newline|'\n'
name|'obj'
op|'.'
name|'cpuset'
op|'='
string|'"0-3,^2,4-5"'
newline|'\n'
name|'obj'
op|'.'
name|'cpu_shares'
op|'='
number|'100'
newline|'\n'
name|'obj'
op|'.'
name|'cpu_quota'
op|'='
number|'50000'
newline|'\n'
name|'obj'
op|'.'
name|'cpu_period'
op|'='
number|'25000'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"demo"'
newline|'\n'
name|'obj'
op|'.'
name|'uuid'
op|'='
string|'"b38a3f43-4be2-4046-897f-b67c2f5e0147"'
newline|'\n'
name|'obj'
op|'.'
name|'os_type'
op|'='
string|'"linux"'
newline|'\n'
name|'obj'
op|'.'
name|'os_boot_dev'
op|'='
string|'"hd"'
newline|'\n'
name|'obj'
op|'.'
name|'os_smbios'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSMBIOS'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'acpi'
op|'='
name|'True'
newline|'\n'
name|'obj'
op|'.'
name|'apic'
op|'='
name|'True'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'sysinfo'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSysinfo'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'sysinfo'
op|'.'
name|'bios_vendor'
op|'='
string|'"Acme"'
newline|'\n'
name|'obj'
op|'.'
name|'sysinfo'
op|'.'
name|'system_version'
op|'='
string|'"1.0.0"'
newline|'\n'
nl|'\n'
name|'disk'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestDisk'
op|'('
op|')'
newline|'\n'
name|'disk'
op|'.'
name|'source_type'
op|'='
string|'"file"'
newline|'\n'
name|'disk'
op|'.'
name|'source_path'
op|'='
string|'"/tmp/img"'
newline|'\n'
name|'disk'
op|'.'
name|'target_dev'
op|'='
string|'"/dev/vda"'
newline|'\n'
name|'disk'
op|'.'
name|'target_bus'
op|'='
string|'"virtio"'
newline|'\n'
nl|'\n'
name|'obj'
op|'.'
name|'add_device'
op|'('
name|'disk'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domain type="kvm">\n              <uuid>b38a3f43-4be2-4046-897f-b67c2f5e0147</uuid>\n              <name>demo</name>\n              <memory>104857600</memory>\n              <vcpu cpuset="0-3,^2,4-5">2</vcpu>\n              <sysinfo type=\'smbios\'>\n                 <bios>\n                   <entry name="vendor">Acme</entry>\n                 </bios>\n                 <system>\n                   <entry name="version">1.0.0</entry>\n                 </system>\n              </sysinfo>\n              <os>\n                <type>linux</type>\n                <boot dev="hd"/>\n                <smbios mode="sysinfo"/>\n              </os>\n              <features>\n                <acpi/>\n                <apic/>\n              </features>\n              <cputune>\n                <shares>100</shares>\n                <quota>50000</quota>\n                <period>25000</period>\n              </cputune>\n              <devices>\n                <disk type="file" device="disk">\n                  <source file="/tmp/img"/>\n                  <target bus="virtio" dev="/dev/vda"/>\n                </disk>\n              </devices>\n            </domain>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_ConfigGuest_parse_devices
dedent|''
name|'def'
name|'test_ConfigGuest_parse_devices'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
string|'""" <domain type="kvm">\n                      <devices>\n                        <hostdev mode="subsystem" type="pci" managed="no">\n                        </hostdev>\n                      </devices>\n                     </domain>\n                 """'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'obj'
op|'.'
name|'devices'
op|')'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'devices'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigGuestHostdevPCI'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'devices'
op|'['
number|'0'
op|']'
op|'.'
name|'mode'
op|','
string|"'subsystem'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'devices'
op|'['
number|'0'
op|']'
op|'.'
name|'managed'
op|','
string|"'no'"
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_ConfigGuest_parse_devices_wrong_type
dedent|''
name|'def'
name|'test_ConfigGuest_parse_devices_wrong_type'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmldoc'
op|'='
string|'""" <domain type="kvm">\n                      <devices>\n                        <hostdev mode="subsystem" type="xxxx" managed="no">\n                        </hostdev>\n                      </devices>\n                     </domain>\n                 """'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuest'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmldoc'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'obj'
op|'.'
name|'devices'
op|')'
op|','
number|'0'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigGuestSnapshotTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigGuestSnapshotTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_snapshot
indent|'    '
name|'def'
name|'test_config_snapshot'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSnapshot'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"Demo"'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domainsnapshot>\n              <name>Demo</name>\n              <disks/>\n            </domainsnapshot>"""'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_snapshot_with_disks
dedent|''
name|'def'
name|'test_config_snapshot_with_disks'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSnapshot'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'name'
op|'='
string|'"Demo"'
newline|'\n'
nl|'\n'
name|'disk'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSnapshotDisk'
op|'('
op|')'
newline|'\n'
name|'disk'
op|'.'
name|'name'
op|'='
string|"'vda'"
newline|'\n'
name|'disk'
op|'.'
name|'source_path'
op|'='
string|"'source-path'"
newline|'\n'
name|'disk'
op|'.'
name|'source_type'
op|'='
string|"'file'"
newline|'\n'
name|'disk'
op|'.'
name|'snapshot'
op|'='
string|"'external'"
newline|'\n'
name|'disk'
op|'.'
name|'driver_name'
op|'='
string|"'qcow2'"
newline|'\n'
name|'obj'
op|'.'
name|'add_disk'
op|'('
name|'disk'
op|')'
newline|'\n'
nl|'\n'
name|'disk2'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigGuestSnapshotDisk'
op|'('
op|')'
newline|'\n'
name|'disk2'
op|'.'
name|'name'
op|'='
string|"'vdb'"
newline|'\n'
name|'disk2'
op|'.'
name|'snapshot'
op|'='
string|"'no'"
newline|'\n'
name|'obj'
op|'.'
name|'add_disk'
op|'('
name|'disk2'
op|')'
newline|'\n'
nl|'\n'
name|'xml'
op|'='
name|'obj'
op|'.'
name|'to_xml'
op|'('
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertXmlEqual'
op|'('
name|'xml'
op|','
string|'"""\n            <domainsnapshot>\n              <name>Demo</name>\n              <disks>\n               <disk name=\'vda\' snapshot=\'external\' type=\'file\'>\n                <source file=\'source-path\'/>\n               </disk>\n               <disk name=\'vdb\' snapshot=\'no\'/>\n              </disks>\n            </domainsnapshot>"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigNodeDeviceTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigNodeDeviceTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_virt_usb_device
indent|'    '
name|'def'
name|'test_config_virt_usb_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>usb_0000_09_00_0</name>\n          <parent>pci_0000_00_1c_0</parent>\n          <driver>\n          <name>vxge</name>\n          </driver>\n          <capability type="usb">\n            <domain>0</domain>\n             <capability type="fake_usb">\n             <address fake_usb="fake"/>\n            </capability>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|','
name|'None'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_virt_device
dedent|''
name|'def'
name|'test_config_virt_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>pci_0000_09_00_0</name>\n          <parent>pci_0000_00_1c_0</parent>\n          <driver>\n          <name>vxge</name>\n          </driver>\n          <capability type="pci">\n            <domain>0</domain>\n            <bus>9</bus>\n            <slot>0</slot>\n            <function>0</function>\n        <product id="0x5833">X3100 Series 10 Gigabit Ethernet PCIe</product>\n            <vendor id="0x17d5">Neterion Inc.</vendor>\n            <capability type="virt_functions">\n             <address domain="0x0000" bus="0x0a" slot="0x00" function="0x1"/>\n             <address domain="0x0000" bus="0x0a" slot="0x00" function="0x2"/>\n             <address domain="0x0000" bus="0x0a" slot="0x00" function="0x3"/>\n            </capability>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"virt_functions"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
nl|'\n'
name|'device_addrs'
op|')'
op|','
nl|'\n'
number|'3'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'bus'
op|','
number|'9'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_phy_device
dedent|''
name|'def'
name|'test_config_phy_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>pci_0000_33_00_0</name>\n          <parent>pci_0000_22_1c_0</parent>\n          <driver>\n          <name>vxx</name>\n          </driver>\n          <capability type="pci">\n            <domain>0</domain>\n            <bus>9</bus>\n            <slot>0</slot>\n            <function>0</function>\n           <product id="0x5833">X3100 Series 10 Gigabit Ethernet PCIe</product>\n            <vendor id="0x17d5">Neterion Inc.</vendor>\n            <capability type="phys_function">\n            <address domain=\'0x0000\' bus=\'0x09\' slot=\'0x00\' function=\'0x0\'/>\n            </capability>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"phys_function"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'len'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
nl|'\n'
name|'device_addrs'
op|')'
op|','
nl|'\n'
number|'1'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_non_device
dedent|''
name|'def'
name|'test_config_non_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>pci_0000_33_00_0</name>\n          <parent>pci_0000_22_1c_0</parent>\n          <driver>\n          <name>vxx</name>\n          </driver>\n          <capability type="pci">\n            <domain>0</domain>\n            <bus>9</bus>\n            <slot>0</slot>\n            <function>0</function>\n          <product id="0x5833">X3100 Series 10 Gigabit Ethernet PCIe</product>\n             <vendor id="0x17d5">Neterion Inc.</vendor>\n             <capability type="virt_functions"/>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"virt_functions"'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_fail_device
dedent|''
name|'def'
name|'test_config_fail_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>pci_0000_33_00_0</name>\n          <parent>pci_0000_22_1c_0</parent>\n          <driver>\n          <name>vxx</name>\n          </driver>\n          <capability type="pci">\n            <domain>0</domain>\n            <bus>9</bus>\n            <slot>0</slot>\n            <function>0</function>\n         <product id="0x5833">X3100 Series 10 Gigabit Ethernet PCIe</product>\n            <vendor id="0x17d5">Neterion Inc.</vendor>\n            <capability type="virt_functions">\n            </capability>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"virt_functions"'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_2cap_device
dedent|''
name|'def'
name|'test_config_2cap_device'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <device>\n          <name>pci_0000_04_10_7</name>\n          <parent>pci_0000_00_01_1</parent>\n          <driver>\n            <name>igbvf</name>\n          </driver>\n          <capability type=\'pci\'>\n            <domain>0</domain>\n            <bus>4</bus>\n            <slot>16</slot>\n            <function>7</function>\n            <product id=\'0x1520\'>I350 Ethernet Controller Virtual</product>\n            <vendor id=\'0x8086\'>Intel Corporation</vendor>\n            <capability type=\'phys_function\'>\n              <address domain=\'0x0000\' bus=\'0x04\' slot=\'0x00\' function=\'0x3\'/>\n            </capability>\n            <capability type=\'virt_functions\'>\n              <address domain=\'0x0000\' bus=\'0x04\' slot=\'0x00\' function=\'0x3\'/>\n            </capability>\n          </capability>\n        </device>"""'
newline|'\n'
nl|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevice'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"phys_function"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'pci_capability'
op|'.'
name|'fun_capability'
op|'['
number|'1'
op|']'
op|'.'
name|'type'
op|','
nl|'\n'
string|'"virt_functions"'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigNodeDevicePciCapTest
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigNodeDevicePciCapTest'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_device_pci_cap
indent|'    '
name|'def'
name|'test_config_device_pci_cap'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n            <capability type="pci">\n              <domain>0</domain>\n              <bus>10</bus>\n              <slot>1</slot>\n              <function>5</function>\n              <product id="0x8086-3">Intel 10 Gigabit Ethernet</product>\n              <vendor id="0x8086">Intel Inc.</vendor>\n              <capability type="virt_functions">\n               <address domain="0000" bus="0x0a" slot="0x1" function="0x1"/>\n               <address domain="0001" bus="0x0a" slot="0x02" function="0x03"/>\n              </capability>\n            </capability>"""'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'domain'
op|','
number|'0'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'bus'
op|','
number|'10'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'slot'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'function'
op|','
number|'5'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'product'
op|','
string|'"Intel 10 Gigabit Ethernet"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'product_id'
op|','
string|"'0x8086-3'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'vendor'
op|','
string|'"Intel Inc."'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'vendor_id'
op|','
string|'"0x8086"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
string|"'virt_functions'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'device_addrs'
op|','
nl|'\n'
op|'['
op|'('
string|'"0000"'
op|','
string|'"0x0a"'
op|','
string|'"0x1"'
op|','
string|'"0x1"'
op|')'
op|','
nl|'\n'
op|'('
string|'"0001"'
op|','
string|'"0x0a"'
op|','
string|'"0x02"'
op|','
string|'"0x03"'
op|')'
op|','
op|']'
op|')'
newline|'\n'
nl|'\n'
DECL|member|test_config_device_pci_2cap
dedent|''
name|'def'
name|'test_config_device_pci_2cap'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n            <capability type="pci">\n              <domain>0</domain>\n              <bus>10</bus>\n              <slot>1</slot>\n              <function>5</function>\n              <product id="0x8086-3">Intel 10 Gigabit Ethernet</product>\n              <vendor id="0x8086">Intel Inc.</vendor>\n              <capability type="virt_functions">\n               <address domain="0000" bus="0x0a" slot="0x1" function="0x1"/>\n               <address domain="0001" bus="0x0a" slot="0x02" function="0x03"/>\n              </capability>\n              <capability type="phys_function">\n               <address domain="0000" bus="0x0a" slot="0x1" function="0x1"/>\n              </capability>\n            </capability>"""'
newline|'\n'
name|'obj'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciCap'
op|'('
op|')'
newline|'\n'
name|'obj'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'domain'
op|','
number|'0'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'bus'
op|','
number|'10'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'slot'
op|','
number|'1'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'function'
op|','
number|'5'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'product'
op|','
string|'"Intel 10 Gigabit Ethernet"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'product_id'
op|','
string|"'0x8086-3'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'vendor'
op|','
string|'"Intel Inc."'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'vendor_id'
op|','
string|'"0x8086"'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'type'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|')'
op|','
nl|'\n'
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|')'
newline|'\n'
nl|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'type'
op|','
string|"'virt_functions'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'0'
op|']'
op|'.'
name|'device_addrs'
op|','
nl|'\n'
op|'['
op|'('
string|'"0000"'
op|','
string|"'0x0a'"
op|','
string|"'0x1'"
op|','
string|'"0x1"'
op|')'
op|','
nl|'\n'
op|'('
string|'"0001"'
op|','
string|'"0x0a"'
op|','
string|'"0x02"'
op|','
string|'"0x03"'
op|')'
op|','
op|']'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'1'
op|']'
op|'.'
name|'type'
op|','
string|"'phys_function'"
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
name|'obj'
op|'.'
name|'fun_capability'
op|'['
number|'1'
op|']'
op|'.'
name|'device_addrs'
op|','
nl|'\n'
op|'['
op|'('
string|'"0000"'
op|','
string|"'0x0a'"
op|','
string|"'0x1'"
op|','
string|'"0x1"'
op|')'
op|','
op|']'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|class|LibvirtConfigNodeDevicePciSubFunctionCap
dedent|''
dedent|''
name|'class'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|'('
name|'LibvirtConfigBaseTest'
op|')'
op|':'
newline|'\n'
nl|'\n'
DECL|member|test_config_device_pci_subfunction
indent|'    '
name|'def'
name|'test_config_device_pci_subfunction'
op|'('
name|'self'
op|')'
op|':'
newline|'\n'
indent|'        '
name|'xmlin'
op|'='
string|'"""\n        <capability type="virt_functions">\n            <address domain="0000" bus="0x0a" slot="0x1" function="0x1"/>\n            <address domain="0001" bus="0x0a" slot="0x02" function="0x03"/>\n        </capability>"""'
newline|'\n'
name|'fun_capability'
op|'='
name|'config'
op|'.'
name|'LibvirtConfigNodeDevicePciSubFunctionCap'
op|'('
op|')'
newline|'\n'
name|'fun_capability'
op|'.'
name|'parse_str'
op|'('
name|'xmlin'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
string|"'virt_functions'"
op|','
name|'fun_capability'
op|'.'
name|'type'
op|')'
newline|'\n'
name|'self'
op|'.'
name|'assertEqual'
op|'('
op|'['
op|'('
string|'"0000"'
op|','
string|'"0x0a"'
op|','
string|'"0x1"'
op|','
string|'"0x1"'
op|')'
op|','
nl|'\n'
op|'('
string|'"0001"'
op|','
string|'"0x0a"'
op|','
string|'"0x02"'
op|','
string|'"0x03"'
op|')'
op|','
op|']'
op|','
nl|'\n'
name|'fun_capability'
op|'.'
name|'device_addrs'
op|')'
newline|'\n'
dedent|''
dedent|''
endmarker|''
end_unit
