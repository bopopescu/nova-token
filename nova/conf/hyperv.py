begin_unit
comment|'# Copyright (c) 2016 TUBITAK BILGEM'
nl|'\n'
comment|'# All Rights Reserved.'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    Licensed under the Apache License, Version 2.0 (the "License"); you may'
nl|'\n'
comment|'#    not use this file except in compliance with the License. You may obtain'
nl|'\n'
comment|'#    a copy of the License at'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#         http://www.apache.org/licenses/LICENSE-2.0'
nl|'\n'
comment|'#'
nl|'\n'
comment|'#    Unless required by applicable law or agreed to in writing, software'
nl|'\n'
comment|'#    distributed under the License is distributed on an "AS IS" BASIS, WITHOUT'
nl|'\n'
comment|'#    WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the'
nl|'\n'
comment|'#    License for the specific language governing permissions and limitations'
nl|'\n'
comment|'#    under the License.'
nl|'\n'
nl|'\n'
name|'from'
name|'oslo_config'
name|'import'
name|'cfg'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|variable|hyperv_opt_group
name|'hyperv_opt_group'
op|'='
name|'cfg'
op|'.'
name|'OptGroup'
op|'('
string|'"hyperv"'
op|','
nl|'\n'
DECL|variable|title
name|'title'
op|'='
string|'"The Hyper-V feature"'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nThe hyperv feature allows you to configure the Hyper-V hypervisor\ndriver to be used within an OpenStack deployment.\n"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|variable|dynamic_memory_ratio_opt
name|'dynamic_memory_ratio_opt'
op|'='
name|'cfg'
op|'.'
name|'FloatOpt'
op|'('
string|"'dynamic_memory_ratio'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'1.0'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nDynamic memory ratio\n\nEnables dynamic memory allocation (ballooning) when set to a value\ngreater than 1. The value expresses the ratio between the total RAM\nassigned to an instance and its startup RAM amount. For example a\nratio of 2.0 for an instance with 1024MB of RAM implies 512MB of\nRAM allocated at startup.\n\nPossible values:\n\n* 1.0: Disables dynamic memory allocation (Default).\n* Float values greater than 1.0: Enables allocation of total implied\n  RAM divided by this value for startup.\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|enable_instance_metrics_collection_opt
name|'enable_instance_metrics_collection_opt'
op|'='
name|'cfg'
op|'.'
name|'BoolOpt'
op|'('
nl|'\n'
string|"'enable_instance_metrics_collection'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
name|'False'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nEnable instance metrics collection\n\nEnables metrics collections for an instance by using Hyper-V\'s\nmetric APIs. Collected data can by retrieved by other apps and\nservices, e.g.: Ceilometer.\n\nPossible values:\n\n* True: Enables metrics collection.\n* False: Disables metric collection (Default).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|instances_path_share_opt
name|'instances_path_share_opt'
op|'='
name|'cfg'
op|'.'
name|'StrOpt'
op|'('
string|"'instances_path_share'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
string|'""'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nInstances path share\n\nThe name of a Windows share mapped to the "instances_path" dir\nand used by the resize feature to copy files to the target host.\nIf left blank, an administrative share (hidden network share) will\nbe used, looking for the same "instances_path" used locally.\n\nPossible values:\n\n* "": An administrative share will be used (Default).\n* Name of a Windows share.\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* "instances_path": The directory which will be used if this option\n  here is left blank.\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|limit_cpu_features_opt
name|'limit_cpu_features_opt'
op|'='
name|'cfg'
op|'.'
name|'BoolOpt'
op|'('
string|"'limit_cpu_features'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
name|'False'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nLimit CPU features\n\nThis flag is needed to support live migration to hosts with\ndifferent CPU features and checked during instance creation\nin order to limit the CPU features used by the instance.\n\nPossible values:\n\n* True: Limit processor-specific features.\n* False: Do not limit processor-specific features (Default).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|mounted_disk_query_retry_count_opt
name|'mounted_disk_query_retry_count_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
nl|'\n'
string|"'mounted_disk_query_retry_count'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'10'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nMounted disk query retry count\n\nThe number of times to retry checking for a disk mounted via iSCSI.\nDuring long stress runs the WMI query that is looking for the iSCSI\ndevice number can incorrectly return no data. If the query is\nretried the appropriate data can then be obtained. The query runs\nuntil the device can be found or the retry count is reached.\n\nPossible values:\n\n* Positive integer values. Values greater than 1 is recommended\n  (Default: 10).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* Time interval between disk mount retries is declared with\n  "mounted_disk_query_retry_interval" option.\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|mounted_disk_query_retry_interval_opt
name|'mounted_disk_query_retry_interval_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
nl|'\n'
string|"'mounted_disk_query_retry_interval'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'5'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nMounted disk query retry interval\n\nInterval between checks for a mounted iSCSI disk, in seconds.\n\nPossible values:\n\n* Time in seconds (Default: 5).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* This option is meaningful when the mounted_disk_query_retry_count\n  is greater than 1.\n* The retry loop runs with mounted_disk_query_retry_count and\n  mounted_disk_query_retry_interval configuration options.\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|power_state_check_timeframe_opt
name|'power_state_check_timeframe_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
string|"'power_state_check_timeframe'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'60'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nPower state check timeframe\n\nThe timeframe to be checked for instance power state changes.\nThis option is used to fetch the state of the instance from Hyper-V\nthrough the WMI interface, within the specified timeframe.\n\nPossible values:\n\n* Timeframe in seconds (Default: 60).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|power_state_event_polling_interval_opt
name|'power_state_event_polling_interval_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
nl|'\n'
string|"'power_state_event_polling_interval'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'2'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nPower state event polling interval\n\nInstance power state change event polling frequency. Sets the\nlistener interval for power state events to the given value.\nThis option enhances the internal lifecycle notifications of\ninstances that reboot themselves. It is unlikely that an operator\nhas to change this value.\n\nPossible values:\n\n* Time in seconds (Default: 2).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|qemu_img_cmd_opt
name|'qemu_img_cmd_opt'
op|'='
name|'cfg'
op|'.'
name|'StrOpt'
op|'('
string|"'qemu_img_cmd'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
string|'"qemu-img.exe"'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nqemu-img command\n\nqemu-img is required for some of the image related operations\nlike converting between different image types. You can get it\nfrom here: (http://qemu.weilnetz.de/) or you can install the\nCloudbase OpenStack Hyper-V Compute Driver\n(https://cloudbase.it/openstack-hyperv-driver/) which automatically\nsets the proper path for this config option. You can either give the\nfull path of qemu-img.exe or set its path in the PATH environment\nvariable and leave this option to the default value.\n\nPossible values:\n\n* Name of the qemu-img executable, in case it is in the same\n  directory as the nova-compute service or its path is in the\n  PATH environment variable (Default).\n* Path of qemu-img command (DRIVELETTER:\\PATH\\TO\\QEMU-IMG\\COMMAND).\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* If the config_drive_cdrom option is False, qemu-img will be used to\n  convert the ISO to a VHD, otherwise the configuration drive will\n  remain an ISO. To use configuration drive with Hyper-V, you must\n  set the mkisofs_cmd value to the full path to an mkisofs.exe\n  installation.\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|vswitch_name_opt
name|'vswitch_name_opt'
op|'='
name|'cfg'
op|'.'
name|'StrOpt'
op|'('
string|"'vswitch_name'"
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nExternal virtual switch name\n\nThe Hyper-V Virtual Switch is a software-based layer-2 Ethernet\nnetwork switch that is available with the installation of the\nHyper-V server role. The switch includes programmatically managed\nand extensible capabilities to connect virtual machines to both\nvirtual networks and the physical network. In addition, Hyper-V\nVirtual Switch provides policy enforcement for security, isolation,\nand service levels. The vSwitch represented by this config option\nmust be an external one (not internal or private).\n\nPossible values:\n\n* If not provided, the first of a list of available vswitches\n  is used. This list is queried using WQL.\n* Virtual switch name.\n\nServices which consume this:\n\n* nova-compute\n\nRelated options:\n\n* None\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|wait_soft_reboot_seconds_opt
name|'wait_soft_reboot_seconds_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
string|"'wait_soft_reboot_seconds'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'60'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nNumber of seconds to wait for instance to shut down after\nsoft reboot request is made. We fall back to hard reboot\nif instance does not shutdown within this window.\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|config_drive_cdrom_opt
name|'config_drive_cdrom_opt'
op|'='
name|'cfg'
op|'.'
name|'BoolOpt'
op|'('
string|"'config_drive_cdrom'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
name|'False'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nAttaches the Config Drive image as a cdrom drive\ninstead of a disk drive\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|config_drive_inject_password_opt
name|'config_drive_inject_password_opt'
op|'='
name|'cfg'
op|'.'
name|'BoolOpt'
op|'('
string|"'config_drive_inject_password'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
name|'False'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nSets the admin password in the config drive image\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|volume_attach_retry_count_opt
name|'volume_attach_retry_count_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
string|"'volume_attach_retry_count'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'10'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nThe number of times to retry to attach a volume\n"""'
op|')'
newline|'\n'
nl|'\n'
DECL|variable|volume_attach_retry_interval_opt
name|'volume_attach_retry_interval_opt'
op|'='
name|'cfg'
op|'.'
name|'IntOpt'
op|'('
string|"'volume_attach_retry_interval'"
op|','
nl|'\n'
DECL|variable|default
name|'default'
op|'='
number|'5'
op|','
nl|'\n'
name|'help'
op|'='
string|'"""\nInterval between volume attachment attempts, in seconds\n"""'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|variable|ALL_OPTS
name|'ALL_OPTS'
op|'='
op|'['
name|'dynamic_memory_ratio_opt'
op|','
nl|'\n'
name|'enable_instance_metrics_collection_opt'
op|','
nl|'\n'
name|'instances_path_share_opt'
op|','
nl|'\n'
name|'limit_cpu_features_opt'
op|','
nl|'\n'
name|'mounted_disk_query_retry_count_opt'
op|','
nl|'\n'
name|'mounted_disk_query_retry_interval_opt'
op|','
nl|'\n'
name|'power_state_check_timeframe_opt'
op|','
nl|'\n'
name|'power_state_event_polling_interval_opt'
op|','
nl|'\n'
name|'qemu_img_cmd_opt'
op|','
nl|'\n'
name|'vswitch_name_opt'
op|','
nl|'\n'
name|'wait_soft_reboot_seconds_opt'
op|','
nl|'\n'
name|'config_drive_cdrom_opt'
op|','
nl|'\n'
name|'config_drive_inject_password_opt'
op|','
nl|'\n'
name|'volume_attach_retry_count_opt'
op|','
nl|'\n'
name|'volume_attach_retry_interval_opt'
op|']'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|register_opts
name|'def'
name|'register_opts'
op|'('
name|'conf'
op|')'
op|':'
newline|'\n'
indent|'    '
name|'conf'
op|'.'
name|'register_opts'
op|'('
name|'ALL_OPTS'
op|','
name|'group'
op|'='
name|'hyperv_opt_group'
op|')'
newline|'\n'
nl|'\n'
nl|'\n'
DECL|function|list_opts
dedent|''
name|'def'
name|'list_opts'
op|'('
op|')'
op|':'
newline|'\n'
indent|'    '
name|'return'
op|'{'
name|'hyperv_opt_group'
op|':'
name|'ALL_OPTS'
op|'}'
newline|'\n'
dedent|''
endmarker|''
end_unit
